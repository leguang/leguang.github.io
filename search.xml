<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[11]]></title>
    <url>%2F11%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title></title>
    <url>%2FREADME%2F</url>
    <content type="text"><![CDATA[接口规范 Author: 李勇 E-mail: 666233@qq.com 目标 接口“粒度”争取设计得足够小，争取在业务发生变化后，后台接口不需要增减，只需要前端组合接口仍然能满足新的业务需求。 任何一个接口都可以获取到数据，哪怕没传参数。 尽可能的缩小沟通的成本，开最少的会，确定最多的事。 统一了调试工具。 开发之前把涉及到的概念名词统一翻译。 要求命名规范一名二姓三风水，四积阴德五读书，名不正则言不顺，言不顺则事难成。软件开发其实就是门命名的艺术，所以首先定义一些规范，提出一些硬性要求，大家在命名的时候尽量多花点心思，多参考优秀的命名风格。 强烈推荐参考：参考阿里巴巴Java开发手册，Android开发规范，iOS开发手册。 一个单词尽量选择5–7个字母的，这样才最优美。 首字母缩写的单词尽量每个字母都用大写，例如ID。用个小写，人家还以为是一个单词。当然uri、url、urn这种除外，因为大家都知道这个是什么。 规范并统一公司的基础包名与项目的关系。 前后端的某些名称概念要统一用某一个单词，比如支付的统一订单，支付宝用的是order，微信用的是unifiedorder，那我们统一对订单这个概念用order这个词。再比如主机：后台用gateway，现在我们统一用host。这单词不统一很容易分裂。 uri规范uri 表示资源，资源一般对应服务器端领域模型中的实体类，要求如下： 不用大写。 尽量不用横杠分隔符，万一要用，请使用中杠“-”不用下杠“_”。 参数列表要encode。 uri中的名词表示资源集合，使用复数形式。 路径仅表示资源的路径（位置），以及一些特殊的actions操作。 以复数（名词）进行命名资源，不管返回单个或者多个资源。 资源的路径从父到子依次如：/{resource}/{resource_id}/{sub_resource}/{sub_resource_id}/{sub_resource_property}。 使用?来进行资源的过滤、搜索以及分页等。 使用版本号，且版本号在资源路径之前。 优先使用内容协商来区分表述格式，而不是使用后缀来区分表述格式。 url最好越简短越好，结果过滤，排序，搜索相关的功能都应该通过参数实现。 url失效则返回404 not found 或 410 gone；对迁移的API，返回 301 重定向。 JSON规范暂时只考虑json的数据格式，要求如下： 不要使用缩写。 统一用驼峰命名法。 不要使用“_”或者“-”。 用名词复数表示集合类型。 为了方便以后的扩展兼容，如果返回的是数组，强烈建议用一个包含如items属性的对象进行包裹。如：123456789101112131415- 建议对每个字段设置默认值（数组型可设置为[],字符串型可设置为””，数值可设置为0，对象可设置为&#123;&#125;）,这一条是为了方便前端/客户端进行判断字段存不存在操作。- 建议资源使用UUID最为唯一标识。同时建议命名为id或者uid。- 采用UTF-8编码。- 数据应该拿来就能用，不应该还要进行转换操作。&gt; **草稿：JSON返回的格式是分门别类按对象来划分，还是铺大饼的形式铺开，两者利弊各异，比如url，可能一个接口中返回多个url，如果分json对象装的话，则key都可以叫url，否则的话key就得命名成xxxUrl。这个有待商议**## HTTP部分### 使用场景- App的初始化数据尽量都用http协议获取。- 页面的初始化数据尽量都用http协议获取。### URL结构 https://{serviceRoot}/{module}/{collection}/{id}123456789- &#123;serviceRoot&#125; – 域名+端口号 (site URL) + 根目录- &#123;module&#125; – 模块名称- &#123;collection&#125; – 要访问的资源- &#123;id&#125; – 要访问的资源的唯一编号### 公共请求头通过Content-Type指定请求与返回的数据格式有JSON和XML,暂时我们只管json的。其中请求数据还要指定Accept。其中额外添加的请求头里的参数注意大小写。 Accept: application/jsonContent-Type: application/json;charset=UTF-8Token: token_G34G34G34G34G35G5Application: 应用:版本Platform: Android12345678910111213141516171819202122232425| params | 类型 | 是否必要 | 描述 || ----------- | ------ | -------- | ------------------------------------------------------------ || Token | String | 是 | 这个不用解释了吧？ || Application | String | 是 | App应用名称（名称有官方指定）与当前版本的版本名称，中间用半角冒号隔开 || Platform | String | 是 | Android表示Android平台，iOS表示iOS平台 |### 公共参数（部分公共参数建议公放到请求头里）公共参数是指每一个接口都可能有的，为了减少篇幅，我在这里统一定义，同时后端要指定公共参数的默认值，**且要保证没有传公共参数不会报错，所以需要一定的容错性，比如priceDes这个参数值，如果是用的是全部小写的，只要是不冲突，则可认为是准确的参数并且表达了按价格降序排列这个语意**。常用公共参数如下：| params | 类型 | 是否必须 | 描述 || -------- | ------ | -------- | ------------------------------------------------------------ || keyword | String | 否 | 用于检索，不传或者传空，表示默认，默认不检索该关键字 || sort | String | 否 | 用于对列表排序，不传则表示默认，默认按配置顺序，asc升序，desc降序 || page | int | 否 | 用于分页描述，不传则表示默认，默认是第1页 || pageSize | int | 否 | 表示该页显示的条数，不传则表示默认，默认为20条 |### 个性参数~~个性参数就是除了公共参数之外的，看能否考虑统一用JSON将公共参数和个性参数浓缩成一个参数，把想要表达的参数通过json中的key-value形式传递。例如：https://api.xxx.com/both/v1/search/products?params=&#123;&quot;extra&quot;:&quot;你想填什么呢&quot;,&quot;token&quot;:&quot;token_523523523&quot;,&quot;data&quot;:&#123;&quot;uid&quot;:&quot;23523523523523&quot;&#125;&#125; 或者考虑与业务相关的参数就用json形式包装，而与业务无关的个性参数就还是用传统的方式另立一个参数。例如：https://api.xxx.com/both/v1/search/products?limit=10&amp;offset=10&amp;params=&#123;&quot;keyword&quot;:&quot;方便面&quot;,&quot;sort&quot;:&quot;des&quot;&#125;~~通过商议将个性参数统一按原始的URL传参形式传递，不考虑上面所说的那种方式。### 公共响应头 Content-Type:application/json; charset=utf-8Status:200 OK123456其中状态码要与公共响应体里的json中的code字段一样。### 公共响应体默认会有以下字段，不需要全部都有。 { “message”: “居然被你查询成功了”, “code”: 200, “page”: 0, “pageSize”: 20, “first”: “https://…”, “next”: “https://…”, “previous”: “https://…”, “last”: “https://…”, “data”: { “uid”: “6565656565665” }}123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354| key | 类型 | 是否必须 | 描述 || -------- | ------ | -------- | ------------------------------------------------------------ || message | String | 是 | 返回给接口调用者的描述，有可能用于显示到界面上，需要进行国际化处理 || code | int | 是 | 这个与请求头中的状态码一致，是为了满足部分开发者的习惯 || page | int | 否 | 分页请求中请求的当前页的页码 || pageSize | int | 否 | 分页请求中一页的个数，默认为20 || first | String | 否 | 分页请求中第一页的url ，如果没有则返回空字符串 || next | String | 否 | 分页请求中下一页的url，如果没有则返回空字符串 || previous | String | 否 | 分页请求中上一页的url，如果没有则返回空字符串 || last | String | 否 | 分页请求中最后一页的url，如果没有则返回空字符串 || data | object | 否 | 当前接口的具体数据由该json对象承载 || uid | String | 否 | **对于每一个资源对象，在返回的时候，都应该返回操作这个资源对象的唯一码** |### HTTP动词表示操作。常用的HTTP动词有下面五个（括号里是对应的SQL命令）。- GET（SELECT）：从服务器取出资源（一项或多项）。 例如:GET /zoos：列出所有动物园。- POST（CREATE）：在服务器新建一个资源。 例如:POST /zoos：新建一个动物园。- PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。 例如:PUT /zoos/ID：更新某个指定动物园的信息（提供该动物园的全部信息）。- DELETE（DELETE）：从服务器删除资源。 例如:DELETE /zoos/ID：删除某个动物园。### 状态码作为API的设计者，正确的将API执行结果和失败原因用清晰简洁的方式传达给客户程序是十分关键的一步。我们确实可以在HTTP的相应内容中描述是否成功，如果出错是因为什么，然而，这就意味着用户需要进行内容解析，才知道执行结果和错误原因。因此，HTTP响应代码可以保证客户端在第一时间用最高效的方式获知 API 运行结果，并采取相应动作。下表列出了比较常用的响应代码。常用的http状态码及使用场景：| 响应代码 | 代码含义 || -------- | ------------------------------------------------------------ || 200 | 已创建，请求成功且服务器已创建了新的资源。 || 201 | 是否只显示处于警告状态的应用实例。 || 301 | 重定向 , 请求的网页已被永久移动到新位置。服务器返回此响应时，会自动将请求者转到新位置。 || 302 | 重定向 , 请求的网页临时移动到新位置，但求者应继续使用原有位置来进行以后的请求。302 会自动将请求者转到不同的临时位置。 || 304 | 未修改，自从上次请求后，请求的网页未被修改过。服务器返回此响应时，不会返回网页内容。 || 400 | 错误请求 , 服务器不理解请求的语法。 || 401 | 未授权 , 请求要求进行身份验证。 || 403 | 已禁止 , 服务器拒绝请求。 || 404 | 未找到 , 服务器找不到请求的网页。 || 405 | 方法禁用 , 禁用请求中所指定的方法。 || 406 | 不接受 , 无法使用请求的内容特性来响应请求的网页。 || 408 | 请求超时 , 服务器等候请求时超时。 || 410 | 已删除 , 如果请求的资源已被永久删除，那么，服务器会返回此响应。 || 412 | 未满足前提条件 , 服务器未满足请求者在请求中设置的其中一个前提条件。 || 415 | 不支持的媒体类型 , 请求的格式不受请求页面的支持。 || 500 | 内部服务器错误。 |### 分页分页适用于GET类型且返回集合数据的请求，根据如下参数进行分页操作。分页返回的数据见公共响应体。 { “extra”: “你想填什么就填什么”, “page”: 0, “pageSize”: 20,}1234567891011121314151617181920| params | 类型 | 是否必须 | 描述 || -------- | ---- | -------- | ---- || page | int | 否 | 同上 || pageSize | int | 否 | 同上 |## 错误/异常处理- 不要发生了错误但给2xx响应，客户端可能会缓存成功的HTTP请求；- 正确设置http状态码，不要自定义；- Response body 提供 1) 错误的代码（日志/问题追查）；2) 错误的描述文本（展示给用户）。对第三点的实现稍微多说一点：Java 服务器端一般用异常表示 RESTful API 的错误。API 可能抛出两类异常：业务异常和非业务异常。业务异常由自己的业务代码抛出，表示一个用例的前置条件不满足、业务规则冲突等，比如参数校验不通过、权限校验失败。非业务类异常表示不在预期内的问题，通常由类库、框架抛出，或由于自己的代码逻辑错误导致，比如数据库连接失败、空指针异常、除0错误等等。业务类异常必须提供2种信息：1. 如果抛出该类异常，HTTP响应状态码应该设成什么；2. 异常的文本描述； 错误描述{ “message”: “特么的又错了”, “code”: 500, “document”: “https://developer.xxx.com/v1/errors/500&quot;, “exception”: [ { “code”: “NullValue”, “target”: “PhoneNumber”, “message”: “Phone number must not be null” }, { “code”: “NullValue”, “target”: “LastName”, “message”: “Last name must not be null” }, { “code”: “MalformedValue”, “target”: “Address”, “message”: “Address is not valid” } ]}12 错误请求头{ “date”: “Mon, 08 Jan 2018 03:07:08 GMT”, “server”: “nginx/1.10.3 (Ubuntu)”, “connection”: “keep-alive”, “content-length”: “237”, “content-type”: “application/json”}` 错误状态码（非200）通过分析发现，接口的错误无非调用端传递给后台的信息与预期不符，其中包括公共参数和个性参数不符，不符包括缺失和内容错误（或格式错误等）两种，还有是部分特殊业务的特殊性质造成非正常结果，如：重复申请、重复签到等。经商议决定将错误码分为四大类： 错误码 类型 描述 举例 XXX int 用于描述缺少参数，同时message做出相应的辅助描述，告诉调用者到底是缺少哪个参数，这些message只有调用者看得到，用户看不到 需要a、b、c三个参数，结果只收到a和b参数，或者收到c参数，但c参数为空字符串，且c参数又是必传的，因此可返回该错误码，同时messgae中提示：缺少c参数，或者c参数不能为空 XXX int 用于描述有参数但参数错误，可能是内容错误或格式错误，同时message做出相应的辅助描述，告诉调用者到底是哪个参数错误，这些message只有调用者看得到，用户看不到 需要传a参数为String类型的11位手机号码，结果收到的是long类型，或只有10位的String，则可返回该错误码，同时message提示a参数错误 XXX int 描述某些特定业务场景，比如重复申请、重复签到等，每一个场景对应一个错误码，同时message会提示相应错误场景，这些message会给用户看到的 比如重复申请注册奖励，返回特定码，前端做出相应显示，或者跳转，或者隐藏即可 XXX int 描述某些公共功能，调用者会做出相应公共处理 比如token失效，直接跳转到登录界面 以上友好的message提示方便了我们，同时也方便了非法调用者，为阻碍非法调用，决定设置一个开关，该开关是系统自带的，根据编译环境变更，在调试阶段就用以上友好提示，在正式部署上线后就改成模糊提示。 url失效随着系统发展，总有一些API失效或者迁移，对失效的API，返回404 not found 或 410 gone；对迁移的API，返回 301 重定向。 对于后台文档的要求文档要求描述详尽，尽可能的引导接口使用者理解接口设计，这样才能减少接口的改动，又能适应多变的业务。 容错性（健壮性）考虑到如果测试或者运营中有变动，要求每一个Web页面得有容错机制，比如关停该功能，则web必须的有相应的页面展示。 国际化（多语言支持）对于国际化的处理，可以利用HTTP协议中的 Accept-Language ，在调用 API 的时候，在 HTTP 请求头中显示指定 Accept-Language 的值，按照标国际标准来处理。具体参考： Accept-Language https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4 Accept-Language 指定的语言码比如：zh-CN，en-US，ja-JP 等。详细列表可参考：https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E4%B8%AD%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F%2F%E6%91%A9%E5%B0%94%E9%92%B1%E5%8C%85%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%2F%E6%91%A9%E5%B0%94%E9%92%B1%E5%8C%85%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%2F</url>
    <content type="text"><![CDATA[摩尔钱包后台管理系统设计 Version：beta Author：李勇 E-mail:666233@qq.com Time:2018.08.10 功能大纲暂时只罗列出这么多功能，后续有想到再加。以下功能如无特别说明，均针对的是摩尔钱包功能。 左边导航从上至下，一级分类及其对应的子功能如下： 一级分类 子功能 1.用户 1.查询2.用户黑名单3.IP地址黑名单 2.配置 1.摩尔钱包文案2.Banner列表 3.红包列表4.发现模块5.我的模块 3.通知 1.通知2.历史记录 4.推送 1.广告2.连接管理3.历史记录 5.版本升级 1.Android2.iOS 6. 打款 无 7.日志 无 8.使用手册 无 9.反馈 无 功能测试环境和正式环境的切换针对后台系统的所有功能都是有测试环境和正式环境区分的，默认是正式环境，这个是针对某些需要测试的功能设计的，比如推送广告，需要看一下效果，因此需要先在测试环境配好，测试通过再直接用正式环境操作。所以考虑在页面顶部有一个开关，点击一下就切换到另一种模式。 用户用户模块的主要功能其实就是增删改查和黑名单等，界面没要求，根据功能和经验合理呈现即可，功能如下： 功能描述 查询 各种查询：1.根据手机号码查询出用户的信息列表2.根据用户MOL积分币的累积量查询用户的信息列表3.根据用户MOL积分币的可提取余额查询用户的信息列表4.其他这部分由何流远负责，具体还需要哪些查询功能再想想，觉得有意义的就加上去 用户黑名单 要求在界面上列出用户黑名单列表，每一条列表可以单独控制封禁和解封功能，同时要求有条件查询的选择，比如根据手机号码查询筛选列表 IP地址黑名单 要求在界面上列出IP地址黑名单列表，一点这个IP地址就可以呈现出该IP地址下的用户列表 配置该功能是对界面的一系列控制，这部分交由顺义来负责，由于涉及到界面控制，因此严格要求对测试环境和正式环境，在界面上也要有相关提示，比如在填写完配置信息，点提交的时候，要求弹框警示运营人员。功能如下表所示： 功能 描述 摩尔钱包文案 针对手机App的各种文案和链接，这部分对应的是content接口 Banner图配置 Banner图是指发现模块的Banner图配置 红包列表 针对的是发现模块中的红包模块的红包列表配置 发现模块 “发现”模块的功能（item）列表 我的模块 “我的”模块功能（item）列表 通知这个通知是指借助第三方平台的通知，是指手机APP的进程被杀掉后，还能收到的通知，暂时iOS对接的是极光推送，Android对接的是阿里云推送。功能如下： 功能 描述 通知 填写好参数后就点击发送即可 历史记录 历史列表，要求在点击某个历史记录的时候，就跳转到通知页面，然后将该历史记录的参数都填好 对界面没有要求，只是填空，可以参考阿里云的，如下图所示： 我们把通知的JSON格式定义如下 1234567891011121314&#123; &quot;data&quot;: &#123; &quot;title&quot;: &quot;摩尔&quot;, &quot;content&quot;: &quot;摩尔&quot;, &quot;when&quot;: &quot;&quot;, &quot;smallIcon&quot;: &quot;&quot;, &quot;largeIcon&quot;: &quot;&quot;, &quot;priority&quot;: &quot;&quot;, &quot;lights&quot;: &quot;&quot;, &quot;vibrate&quot;: &quot;&quot;, &quot;sound&quot;: &quot;&quot;, &quot;channel&quot;: &quot;&quot; &#125;&#125; 因此界面上只需要出10个填空的，把这10个字段都呈现出来即可。 推送这个推送与上面的通知的本质区别是：通知是在App根本没有启动的时候，依托系统级的长连接得到后台发送过来的信息，而这个推送定义成App已经启动，利用本App的长连接得到后台的推过来的信息。因此可以做更多的拓展。 功能 描述 广告 这部分暂时只考虑定义一个Web模板广告（本来是有计划一个原生的模板弹窗和一个Web模板弹窗来显示广告的，但是原生模板弹窗暂时没想好，因此不考虑了），填写一个某网页的url（这个可能是熊老师写个某个活动Web页面），然后指定发给某个用户，或者发给全部用户，用户拿到这个url后会拼接好token启动该url对应的web，因此这里还可以做一些针对用户的扩展，比如做个调查问卷，填写过问卷的给予MOL奖励，此时token就起作用了。界面只需要几个输入框即可。 历史记录 历史列表，要求在点击某个历史记录的时候，就跳转到广告页面，然后将该历史记录的参数都填好 连接管理 针对每一个长连接有一个开关，后台可控制允许某个/某些用户连接还是断开。 版本升级（暂时不做，等重构好升级接口再实现）现在的这种手动上传到某个阿里云目录的做法是比较原始的，应该有一个统一的管理版本的地方，发布版本时也应该是简单的在后台填写日志信息，然后发布，而不是手动修改数据库。 功能 描述 Android 界面上只要求将新版的JSON数据模拟得出来即可 iOS 界面上只要求将新版的JSON数据模拟得出来即可 界面上可以参考Bugly 打款（暂时不考虑）这个功能可以暂时不考虑 日志对该后台的所有操作都应该有记录，比如什么时候，那个人员登录过后台管理系统，做过哪些操作，根据时间排序列出来，方便日后审查和追责。 使用手册这部分简单介绍即可，可以把这边文档当做简版使用手册。 反馈（暂时不考虑）这部分是重点，希望后台能做成阿里云那么强大的服务后台。到时候前端会有一个反馈入口，以对话形式展示在前端App的某个页面，用户输入疑问后，会自动回复一些提示性语言，我们的客服人员上班后会查看，看到留言列表可以直接点击某一条留言，会一个输入框，输入完文字后点击回复按钮即可完成留言，用户下次打开反馈界面后就可以看到客服回复的内容。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E4%B8%AD%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F%2F%E4%B8%AD%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F%E4%BB%8B%E7%BB%8D%2F%E4%B8%AD%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E4%BB%8B%E7%BB%8D%2F</url>
    <content type="text"><![CDATA[中后台管理系统介绍 Version：beta Author：李勇 E-mail:666233@qq.com Time:2018.08.10 由于之前开发资源有限，运营/管理人员在工作期间总是出现如下情况： 这样一来效率极低，大大增加运营人员负担和开发人员重复体力劳作几率，用户体验也不好，现在要求出一套管理系统来配合解决用户的问题，让用户快速得到反馈，同时为了更方便的开展和运营业务，决定启动一个后台管理系统计划，目的是为了让部分功能对外暴露，使运营和管理人员能参与到后台数据的处理，同时为管理人员赋予一定的决策权，以达到减轻开发人员负担的作用。 要求对于后台管理系统，界面就不要求有多好看，只需要简介易用，快速响应就行，因此这部分就直接取模板的默认样式，不出设计稿了，熊老师觉得怎么好看怎么来，纯自由发挥。提出以下几点要求： 安全安全性放在第一位，是因为这个系统是针对用户的数据直接操作，因此要求严格，要求如下： 不允许删除数据，所有的操作都只是对可行性的标记字段的操作。 要求记录该次操作的人员信息，考虑到代码入侵性，看是仅仅记录操作人员的操作日志，还是记录每次操作所对应的人员信息，待商议。 只允许公司指定人员有权限操作，其他人不得操作。 只允许在公司内部操作，不允许外网操作。 操作要针对测试环境和正式环境（比如要推送一个广告，在测试环境中先推送试试效果），默认是正式环境。 要求没一个运营人在后台系统中的每一次接口调用、每一步操作都要有日志记录，以方便溯源和追责、这个看是有一个单独的接口还是文件记录然后上传。 易用易用是指：用户反馈问题–&gt;我们解决问题–&gt;用户得到问题反馈，这一过程的简单易用。能让代码处理的就不需要开发人员再去处理，一旦有开发参与了，那必定会是重复劳作。比如在App端有一个反馈界面（类似IM），直接以对话的形式反馈到后台，后台统一回复，甚至做成机器人的自动回复+人工回复。能做成一键式的决不多步操作，能做成傻瓜式的，决不浪费脑细胞。 对于所有数据的上架和下架有时间限制，例如banner图，其中有一张是关于直播的，可是直播结束之后就得下架，这个时候就需要下架时间，所以在我们上传这些数据到时候，有上架时间和下架时间，甚至是周期时间，和有效截止时间，因此这部分需要功能更强大才能节省人力物力。 智能需要提供决策，能让运营/管理人员做选择题的，就不要他做填空题，提供尽可能多的信息展示和建议。 模板考虑到熊老师专心研究Vue，因此综合考虑后，选择vue-element-admin这个模板 https://panjiachen.github.io/vue-element-admin/#/dashboard 默认一进来展示的内容是一些常见的、易查询的数据，如下： 当前在线人数（后期考虑做成根据时间的线形图统计）。 使用手册。 公司成员的联系方式。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E7%94%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%2F%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3%2F</url>
    <content type="text"><![CDATA[用户中心设计文档数据库设计 表功能介绍user_credential_t身份认证信息，用于用户登录。包括用用户唯一标识符，户名，密码，手机号码(含国家代码)，是否有效，创建时间，修改时间。在确保唯一性的前提下，可以对手机号码进行切换。系统中使用是否有效来作为黑名单开关，控制用户是否可以登录。 user_info_t用户信息，用于前段用户展现。包括用户唯一标识符(该标识符与user_credential_t中的唯一标识符一致)，昵称，头像，来源(首次注册成平台用户的来源app)，创建时间，修改时间。后续还可以将用户的一些非关键信息进行在该表完善。 user_token_t用户token信息，用于用户状态维持。包括用户唯一标识符(该标识符与user_credential_t中的唯一标识符一致)，访问token，访问token过期时间，刷新token，刷新token过期时间。用户登录时，会产生新的访问token和刷新token，并对该表对应的记录进行刷新，同时将访问token和刷新token分别写入缓存。进行会话有效期验证，以缓存是否存在作为唯一有效判断依据。访问token达到过期时间是，缓存将会删除对应的记录，若在刷新token过期时间内，可以支持产生一个新的访问token给访问端。若超过了刷新token过期时间，则需要再次登录。 user_login_h用户登录记录，记录用户登录流水。包括登录流水唯一标识符，登录用户唯一标识符，登录设备，登录ip，登录设备内部ip，登录应用，登录应用版本号(整型，主要用于前后版本的比较)，登录应用版本名称(文本，如v1.0.0，用于可视化展现，由于一些特殊原因，不能基于版本名称作为前后版本的判断依据)，登录方式(支持4种登录方式：password，sms，1keylogin，token；前面3种可作为登录方式的可选项，token只有在进行刷新会话的场景下才有效，比如上传初始化信息)，是否登录成功，备注信息(登录成功标注OK，失败标注失败原因)，登录时间，登录应用是否为debug版本，系统是否root，系统版本号，地理精度，地理纬度，地址。是否登录成功和备注信息，可以衍生作为后续用户安全性的一个判断指标，比如指定时间内失败次数达到多少次不能再次登录等。 user_login_summary_t用户登录汇总信息，只存取最后一次成功登录的信息。包括唯一标识符(与user_credential_t中的唯一标识符一致)，最近登录ip，最近登录设备内部ip，最近登录app名称(app_t的应用名称)，最近登录应用版本号，最近登录应用版本名称，最近登录方式，登录次数(只有登录成功成功在进行增加)，最近登录系统是否debug版本，最近登录是否root，登录系统的rom，最近登录系统版本号，最近登录经度，最近登录纬度，最近登录地址。 user_app_r用户应用关联，记录用户使用过的所有app。包括用户应用关联唯一标识符，用户唯一标识符，应用唯一标识符，是否有效，创建时间，修改时间。是否有效可以基于应用进行黑名单控制，可以在后续功能中进行完善。 app_t应用信息。包括应用唯一标识符，应用名称，应用显示名称，应用描述信息，是否有效，创建时间，修改时间。外部应用需要先注册为平台应用之后才能调用接口服务。当前支付中心，会基于应用唯一标识符进行公私钥发放。 app_version_t应用版本信息，用于各个平台下的版本信息。包括应用版本唯一标识符，应用标识符，版本号(整型，主要用于前后版本的比较)，版本名称(文本，如v1.0.0，用于可视化展现，由于一些特殊原因，不能基于版本名称作为前后版本的判断依据)，版本描述信息(如changelog)，平台(目前支持iOS，Android)，是否有效，创建时间，修改时间。 device_t设备信息，主要记录连接的设备信息。包括设备唯一标识符，系统屏幕信息，屏幕像素高度，屏幕像素宽度，品牌信息，设备指纹(一个综合的，唯一的关于设备的描述)，生产厂商，设备唯一ID，是否有效，创建时间，修改时间。后续可以基于设备是否有效进行黑名单控制。 block_t封禁信息，记录被批量封禁的对象。包括封禁唯一标识符，被封禁的对象类型(支持IP，DEVICE，USER)，被封禁对象列表(支持ip，设备唯一标识符(参考device_t中device_id))，原因描述，是否解封(封禁后，可以进行批量解封)，创建时间。本表主要用于管理维护，不作为是否被封禁的判断依据。可以批量选择IP，设备，用户进行封禁和解封。同一批对象封禁后进行解封，需要重新创建一条解封记录。而不是简单的修改是否被封禁标记。 block_element_r封禁元素关联，封禁时，除了对block_t中记录一条操作记录外，会在本表记录被封禁的具体对象(设备唯一ID，用户唯一标识符)。包括封禁元素记录序号，封禁对象唯一标识符(参考user_credential中的uid，device_t中的uid)，封禁元素类型(支持USER，DEVICE)。sys_blacklist_t黑名单列表，已经采用了block_t和block_elment_r，该表作废。 sms_phone_counter_t手机短信发送计数器，用于记录每个手机号码当日的短信发送量。包括唯一标识符，国家代码，手机号码，当日短信发送量，创建时间，修改时间。发起短信发送请求时，需要先获取该号码的发送量，如果修改时间在当前日期之前，则讲修改日期修改为当前日期，并将发送量置为1。 sms_ip_counter_tip短信发送计数器，用于记录每个ip当日短信发送量。包括唯一标识符，ip地址(支持ipv4、ipv6两种协议)，当日短信发送量，创建时间，修改时间。处理逻辑同sms_phone_counter_t。 user_locale_t用户语言区域，用于记录用户的常用语言。包括用户唯一标识符(同user_credential_t中的uid)，关联数据字典类型编码(如zh_CN，en_US)，国家/区域(格式[a-zA-Z]{2} | [0-9]{3}，参考java.util.Locale)，时区(格式GMT Sign Hours : Minutes，如GMT+8:00)，创建时间，修改时间。 sys_dict_type_t数据字典类型，用于维护系统常用枚举类型。包括类型唯一标识符，数据字典类型，类型名称(用于前段展现),条目类型(boolean、byte、char、short、Int、long、float、double等基本数据类型对应的包装类型，以及BigInteger、BigDecimal、String总共10种类型)，是否有效，创建时间，修改时间，是否有自条目，条目值(若没有子条目，可以直接设值)。 sys_dict_item_t数据字典条目，用于维护系统常用枚举值。包括唯一标识符，字典类型，条目编码(书写规则跟java常亮一致)，条目名称(用于前段展现)，条目值(需要配合sys_dictionary_type的item_type组合得到相应的值)，条目序号，是否有效，创建时间，修改时间。 point_account_t用户积分账户，记录用户积分的余额和累计积分。包括唯一标识符，用户唯一标识符，应用名称(参考app_t中的app_name)，历史累计积分，可用余额，创建时间，修改时间。具有积分体系的应用，使用集中化的方式进行存储，避免各个应用自建积分体系的繁冗工作。 point_record_t用户积分记录，用于记录用户每笔积分的出入项目，方便后续应用内部积分对账。包括唯一标识符，交易积分额度，账户，用户唯一标识符，应用名称，是否为收入项，事务唯一标识符，创建时间，修改时间。三方应用进行对接时，需要相同的存储事务唯一标识符，方便对账。事务唯一标识符，可以客户端生成，也可以通过transaction_t中集中发放。 transaction_t全局统一事务，用于分布式事务处理。包括唯一标识符，创建时间。 接口说明用户接口获取用户认证信息根据手机号码，或用户名精确查找用户认证信息。 链接GET /v1/credentials 参数 参数名 说明 传递方式 参数类型 userName 用户名 query string countryCode 国家代码 query string phoneNumber 手机号 query string 举例：/v1/credentials?countryCode=0086&amp;phoneNumber=18665801387 返回值1234567891011121314&#123; &quot;message&quot;: &quot;success&quot;, &quot;code&quot;: 200000, &quot;data&quot;: &#123; &quot;uid&quot;: &quot;5e3d1bead71e11e89b0b00163e007a48&quot;, &quot;userName&quot;: &quot;008618665801387&quot;, &quot;password&quot;: &quot;NULLD78C274515A44F5A1A4D96AB3A883F47&quot;, &quot;countryCode&quot;: &quot;0086&quot;, &quot;phoneNumber&quot;: &quot;18665801387&quot;, &quot;enabled&quot;: true, &quot;createTime&quot;: &quot;2018-10-23 23:50:06&quot;, &quot;updateTime&quot;: &quot;2018-10-23 23:50:06&quot; &#125;&#125; 用户信息分页查询根据条件对用户数据进行分页查询。 链接GET /v1/users 参数 参数名 说明 传递方式 参数类型 uid 用户编号 query string userName 用户名 query string nickname 昵称 query string countryCode 国家代码 query string phoneNumber 手机号 query string enabled 用户是否有效，即设为黑名单 query boolean sortby 排序属性 query string order 排序顺序 query string page 第几页 query integer pageSize 每页记录数 query integer 举例：/v1/users?countryCode=0086&amp;page=2&amp;pageSize=3 返回值123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&#123; &quot;message&quot;: &quot;success&quot;, &quot;code&quot;: 200000, &quot;data&quot;: [ &#123; &quot;uid&quot;: &quot;079d3543d8d211e89b0b00163e007a48&quot;, &quot;countryCode&quot;: &quot;0086&quot;, &quot;phoneNumber&quot;: &quot;13088834856&quot;, &quot;userName&quot;: &quot;008613088834856&quot;, &quot;avatar&quot;: &quot;https://miaoyoujuan.com/mol_sickle/icon/head_mol_sickle.png&quot;, &quot;source&quot;: &quot;SICKLE&quot;, &quot;enabled&quot;: true, &quot;createTime&quot;: &quot;2018-10-26 03:48:42&quot;, &quot;latestLogin&quot;: &quot;2018-10-31 11:27:30&quot;, &quot;loginTimes&quot;: 2 &#125;, &#123; &quot;uid&quot;: &quot;082eb8c2dcff11e89b0b00163e007a48&quot;, &quot;countryCode&quot;: &quot;0086&quot;, &quot;phoneNumber&quot;: &quot;15271940251&quot;, &quot;userName&quot;: &quot;008615271940251&quot;, &quot;avatar&quot;: &quot;https://miaoyoujuan.com/mol_sickle/icon/head_mol_sickle.png&quot;, &quot;source&quot;: &quot;SICKLE&quot;, &quot;enabled&quot;: true, &quot;createTime&quot;: &quot;2018-10-31 11:20:55&quot;, &quot;latestLogin&quot;: &quot;2018-11-02 08:27:20&quot;, &quot;loginTimes&quot;: 3 &#125;, &#123; &quot;uid&quot;: &quot;08ae0660d74e11e89b0b00163e007a48&quot;, &quot;countryCode&quot;: &quot;0086&quot;, &quot;phoneNumber&quot;: &quot;13888888888&quot;, &quot;userName&quot;: &quot;008613888888888&quot;, &quot;avatar&quot;: &quot;https://miaoyoujuan.com/mol_sickle/icon/head_mol_sickle.png&quot;, &quot;source&quot;: &quot;SICKLE&quot;, &quot;enabled&quot;: true, &quot;createTime&quot;: &quot;2018-10-24 05:31:19&quot;, &quot;latestLogin&quot;: &quot;2018-11-02 11:42:03&quot;, &quot;loginTimes&quot;: 44 &#125; ], &quot;page&quot;: 2, &quot;pageSize&quot;: 3, &quot;first&quot;: &quot;https://api.imfmf.com/usercenter/v1/users?countryCode=0086&amp;page=1&amp;pageSize=3&quot;, &quot;next&quot;: &quot;https://api.imfmf.com/usercenter/v1/users?countryCode=0086&amp;page=3&amp;pageSize=3&quot;, &quot;previous&quot;: &quot;https://api.imfmf.com/usercenter/v1/users?countryCode=0086&amp;page=1&amp;pageSize=3&quot;, &quot;last&quot;: &quot;https://api.imfmf.com/usercenter/v1/users?countryCode=0086&amp;page=1&amp;pageSize=3&quot;&#125; 将用户加入黑名单将单个用户加入黑名单。目前做法仅仅是将当前用户设为无效，实际上还需要在block_t和block_item_t中增加相应的记录，后续可以去完善这一块 链接PATCH /v1/users/blacklist/{uid} 参数 参数名 说明 传递方式 参数类型 uid 用户标识符 path string 举例：/v1/users/blacklist/5e3d1bead71e11e89b0b00163e007a48 返回值12345678910111213141516&#123; &quot;message&quot;: &quot;success&quot;, &quot;code&quot;: 200000, &quot;data&quot;: &#123; &quot;uid&quot;: &quot;5e3d1bead71e11e89b0b00163e007a48&quot;, &quot;countryCode&quot;: &quot;0086&quot;, &quot;phoneNumber&quot;: &quot;18665801387&quot;, &quot;userName&quot;: &quot;008618665801387&quot;, &quot;avatar&quot;: &quot;https://miaoyoujuan.com/mol_sickle/icon/head_mol_sickle.png&quot;, &quot;source&quot;: &quot;SICKLE&quot;, &quot;enabled&quot;: false, &quot;createTime&quot;: &quot;2018-10-23 23:50:06&quot;, &quot;latestLogin&quot;: &quot;2018-10-31 07:06:14&quot;, &quot;loginTimes&quot;: 7 &#125;&#125; 请注意，用户的enabled已经变成false了。 将用户移除黑名单将单个用户从黑名单中移除。目前做法仅仅是将当前用户设为有效，实际上还需要在block_t和block_item_t中增加相应的记录，后续可以去完善这一块 链接DELETE /v1/users/blacklist/{uid} 参数 参数名 说明 传递方式 参数类型 uid 用户标识符 path string 举例：/v1/users/blacklist/5e3d1bead71e11e89b0b00163e007a48 返回值12345678910111213141516&#123; &quot;message&quot;: &quot;success&quot;, &quot;code&quot;: 200000, &quot;data&quot;: &#123; &quot;uid&quot;: &quot;5e3d1bead71e11e89b0b00163e007a48&quot;, &quot;countryCode&quot;: &quot;0086&quot;, &quot;phoneNumber&quot;: &quot;18665801387&quot;, &quot;userName&quot;: &quot;008618665801387&quot;, &quot;avatar&quot;: &quot;https://miaoyoujuan.com/mol_sickle/icon/head_mol_sickle.png&quot;, &quot;source&quot;: &quot;SICKLE&quot;, &quot;enabled&quot;: true, &quot;createTime&quot;: &quot;2018-10-23 23:50:06&quot;, &quot;latestLogin&quot;: &quot;2018-10-31 07:06:14&quot;, &quot;loginTimes&quot;: 7 &#125;&#125; 请注意，用户的enabled已经恢复成true了。 按条件分页查询用户登录过的设备按用户唯一标识符，是否有效等条件查询用户登录过的设备，并可以指定排序字段和规则分页查询。 链接GET /v1/users/devices 参数 参数名 说明 传递方式 参数类型 userUid 用户唯一标识符 query string enabled 是否有效 query boolean sortby 排序属性 query string order 排序规则，支持ASC，DESC query string page 页数 query integer pageSize 每页行数 query integers 举例：/v1/users/devices?userUid=05ec0890c46811e898a000163e002b60 返回值12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&#123; &quot;message&quot;: &quot;success&quot;, &quot;code&quot;: 200000, &quot;data&quot;: [ &#123; &quot;uid&quot;: &quot;0b63192bc39011e898a000163e002b60&quot;, &quot;display&quot;: &quot;MHA-AL00 8.0.0.363(C00)&quot;, &quot;displayHeight&quot;: &quot;1808&quot;, &quot;displayWidth&quot;: &quot;1080&quot;, &quot;brand&quot;: &quot;HUAWEI&quot;, &quot;fingerprint&quot;: &quot;HUAWEI/MHA-AL00/HWMHA:8.0.0/HUAWEIMHA-AL00/363(C00):user/release-keys&quot;, &quot;manufacturer&quot;: &quot;HUAWEI&quot;, &quot;model&quot;: &quot;MHA-AL00&quot;, &quot;product&quot;: &quot;MHA-AL00&quot;, &quot;deviceID&quot;: &quot;0865580032738937300002366300CN01&quot;, &quot;createTime&quot;: &quot;2018-09-29 02:33:27&quot;, &quot;updateTime&quot;: &quot;2018-09-29 02:33:27&quot;, &quot;enabled&quot;: true &#125;, &#123; &quot;uid&quot;: &quot;7df1aefdc46a11e898a000163e002b60&quot;, &quot;display&quot;: &quot;MHA-AL00 8.0.0.363(C00)&quot;, &quot;displayHeight&quot;: &quot;1808&quot;, &quot;displayWidth&quot;: &quot;1080&quot;, &quot;brand&quot;: &quot;HUAWEI&quot;, &quot;fingerprint&quot;: &quot;HUAWEI/MHA-AL00/HWMHA:8.0.0/HUAWEIMHA-AL00/363(C00):user/release-keys&quot;, &quot;manufacturer&quot;: &quot;HUAWEI&quot;, &quot;model&quot;: &quot;MHA-AL00&quot;, &quot;product&quot;: &quot;MHA-AL00&quot;, &quot;createTime&quot;: &quot;2018-09-30 04:37:09&quot;, &quot;updateTime&quot;: &quot;2018-09-30 04:37:09&quot;, &quot;enabled&quot;: true &#125;, &#123; &quot;uid&quot;: &quot;91bb3c66c46a11e898a000163e002b60&quot;, &quot;display&quot;: &quot;MHA-AL00 8.0.0.363(C00)&quot;, &quot;displayHeight&quot;: &quot;1808&quot;, &quot;displayWidth&quot;: &quot;1080&quot;, &quot;brand&quot;: &quot;HUAWEI&quot;, &quot;fingerprint&quot;: &quot;HUAWEI/MHA-AL00/HWMHA:8.0.0/HUAWEIMHA-AL00/363(C00):user/release-keys&quot;, &quot;manufacturer&quot;: &quot;HUAWEI&quot;, &quot;model&quot;: &quot;MHA-AL00&quot;, &quot;product&quot;: &quot;MHA-AL00&quot;, &quot;createTime&quot;: &quot;2018-09-30 04:37:43&quot;, &quot;updateTime&quot;: &quot;2018-09-30 04:37:43&quot;, &quot;enabled&quot;: true &#125; ], &quot;page&quot;: 1, &quot;pageSize&quot;: 10, &quot;first&quot;: &quot;http://localhost:9941/usercenter/v1/users/devices?userUid=05ec0890c46811e898a000163e002b60&amp;page=1&amp;pageSize=10&quot;, &quot;next&quot;: &quot;http://localhost:9941/usercenter/v1/users/devices?userUid=05ec0890c46811e898a000163e002b60&amp;page=1&amp;pageSize=10&quot;, &quot;previous&quot;: &quot;http://localhost:9941/usercenter/v1/users/devices?userUid=05ec0890c46811e898a000163e002b60&amp;page=1&amp;pageSize=10&quot;, &quot;last&quot;: &quot;http://localhost:9941/usercenter/v1/users/devices?userUid=05ec0890c46811e898a000163e002b60&amp;page=1&amp;pageSize=10&quot;&#125; 按用户唯一标识符查询单个用户信息根据用户唯一标识符精确查询用户信息。 链接GET /v1/users/{uid} 参数 参数名 说明 传递方式 参数类型 uid 用户标识符 path string 举例：/v1/users/5e3d1bead71e11e89b0b00163e007a48 返回值12345678910111213141516&#123; &quot;message&quot;: &quot;success&quot;, &quot;code&quot;: 200000, &quot;data&quot;: &#123; &quot;uid&quot;: &quot;5e3d1bead71e11e89b0b00163e007a48&quot;, &quot;countryCode&quot;: &quot;0086&quot;, &quot;phoneNumber&quot;: &quot;18665801387&quot;, &quot;userName&quot;: &quot;008618665801387&quot;, &quot;avatar&quot;: &quot;https://miaoyoujuan.com/mol_sickle/icon/head_mol_sickle.png&quot;, &quot;source&quot;: &quot;SICKLE&quot;, &quot;enabled&quot;: true, &quot;createTime&quot;: &quot;2018-10-23 23:50:06&quot;, &quot;latestLogin&quot;: &quot;2018-10-31 07:06:14&quot;, &quot;loginTimes&quot;: 7 &#125;&#125; 查看用户最近登录的设备查看用户最近一次登录所用的设备。 链接GET /v1/users/{uid}/devices/latest 参数 参数名 说明 传递方式 参数类型 uid 用户标识符 path string 举例：/v1/users/05ec0890c46811e898a000163e002b60/devices/latest 返回值123456789101112131415161718&#123; &quot;message&quot;: &quot;success&quot;, &quot;code&quot;: 200000, &quot;data&quot;: &#123; &quot;uid&quot;: &quot;91bb3c66c46a11e898a000163e002b60&quot;, &quot;display&quot;: &quot;MHA-AL00 8.0.0.363(C00)&quot;, &quot;displayHeight&quot;: &quot;1808&quot;, &quot;displayWidth&quot;: &quot;1080&quot;, &quot;brand&quot;: &quot;HUAWEI&quot;, &quot;fingerprint&quot;: &quot;HUAWEI/MHA-AL00/HWMHA:8.0.0/HUAWEIMHA-AL00/363(C00):user/release-keys&quot;, &quot;manufacturer&quot;: &quot;HUAWEI&quot;, &quot;model&quot;: &quot;MHA-AL00&quot;, &quot;product&quot;: &quot;MHA-AL00&quot;, &quot;createTime&quot;: &quot;2018-09-30 04:37:43&quot;, &quot;updateTime&quot;: &quot;2018-09-30 04:37:43&quot;, &quot;enabled&quot;: true &#125;&#125; 修改用户信息修改用户基本信息，包括头像，昵称，来源等。 链接PATCH /v1/users/{uid}/info 参数 参数名 说明 传递方式 参数类型 uid 用户标识符 path string info 用户信息 body string info详情如下 参数名 说明 传递方式 参数类型 avatar 头像 string nickname 昵称 string source 来源 string uid 用户唯一标识符，可选填 string 举例：/v1/users/05ec0890c46811e898a000163e002b60/infoinfo参数123456&#123; &quot;avatar&quot;: &quot;http://www.asmile.com/avatar.png&quot;, &quot;nickname&quot;: &quot;马自达&quot;, &quot;source&quot;: &quot;SICKLE&quot;, &quot;uid&quot;: &quot;05ec0890c46811e898a000163e002b60&quot;&#125; 返回值12345678910&#123; &quot;message&quot;: &quot;success&quot;, &quot;code&quot;: 200000, &quot;data&quot;: &#123; &quot;uid&quot;: &quot;05ec0890c46811e898a000163e002b60&quot;, &quot;nickname&quot;: &quot;马自达&quot;, &quot;avatar&quot;: &quot;http://www.asmile.com/avatar.png&quot;, &quot;source&quot;: &quot;SICKLE&quot; &#125;&#125; 获取用户语言区域根据用户唯一标识符获取用户的语言区域信息。 链接GET /v1/users/{uid}/locale 参数 参数名 说明 传递方式 参数类型 uid 用户标识符 path string 举例：/v1/users/05ec0890c46811e898a000163e002b60/locale 返回值123456789101112&#123; &quot;message&quot;: &quot;success&quot;, &quot;code&quot;: 200000, &quot;data&quot;: &#123; &quot;uid&quot;: &quot;05ec0890c46811e898a000163e002b60&quot;, &quot;language&quot;: &quot;zh_CN&quot;, &quot;region&quot;: &quot;CHN&quot;, &quot;timeZone&quot;: &quot;GMT+08:00&quot;, &quot;createTime&quot;: &quot;2018-11-04 17:40:40&quot;, &quot;updateTime&quot;: &quot;2018-11-04 17:40:40&quot; &#125;&#125; 设置用户语言区域设置指定用户的语言区域信息。 链接PATCH /v1/users/{uid}/locale 参数 参数名 说明 传递方式 参数类型 uid 用户标识符 path string locale 语言区域信息 body string 语言区域信息参数 参数名 说明 传递方式 参数类型 language 语言 string region 国家代码 string timeZone 时区 string 举例：/v1/users/05ec0890c46811e898a000163e002b60/localebody参数12345&#123; &quot;language&quot;: &quot;en_US&quot;, &quot;region&quot;: &quot;USA&quot;, &quot;timeZone&quot;: &quot;GMT-08:00&quot;&#125; 返回值1234567891011121314151617181920212223242526272829&#123; &quot;message&quot;: &quot;success&quot;, &quot;code&quot;: 200000, &quot;data&quot;: &#123; &quot;uid&quot;: &quot;5e3d1bead71e11e89b0b00163e007a48&quot;, &quot;countryCode&quot;: &quot;0086&quot;, &quot;phoneNumber&quot;: &quot;18665801387&quot;, &quot;userName&quot;: &quot;008618665801387&quot;, &quot;avatar&quot;: &quot;https://miaoyoujuan.com/mol_sickle/icon/head_mol_sickle.png&quot;, &quot;source&quot;: &quot;SICKLE&quot;, &quot;enabled&quot;: true, &quot;createTime&quot;: &quot;2018-10-23 23:50:06&quot;, &quot;latestLogin&quot;: &quot;2018-10-31 07:06:14&quot;, &quot;loginTimes&quot;: 7 &#125;&#125;``` #### 修改密码提供一个传统的修改密码接口，传入用户名或者手机号码，老密码，新密码。用户名，手机号码，老密码验证通过后，更新新密码。##### 链接PATCH /v1/users/password##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||passwordInfo|用户密码信息|body|string|passwordInfo参数举例：PATCH /v1/users/password { “countryCode”: “0086”, “newPassword”: “654321”, “originalPassword”: “123456”, “phoneNumber”: “18665801387”}1##### 返回值 { “countryCode”: “0086”, “newPassword”: “654321”, “originalPassword”: “123456”, “phoneNumber”: “18665801387”}1234567891011#### 获取当前用户指定应用的积分账户根据用户唯一标识符和应用名称获取积分账户。##### 链接GET /v1/users/&#123;uid&#125;/&#123;appName&#125;/points##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||uid|用户标识符|path|string||appName|应用名称|path|string|举例：/v1/users/05ec0890c46811e898a000163e002b60/SICKLE/points##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “05ed3895c46811e898a000163e002b60”, “userUid”: “05ec0890c46811e898a000163e002b60”, “appName”: “sickle”, “accumulation”: 0, “balance”: 0, “createTime”: “2018-09-30 04:19:29”, “updateTime”: “2018-09-30 04:19:29” }}1234567891011121314#### 给指定用户增减积分给用户对应的应用的账户增减积分。全局事务id，可用于分布式事务控制，及后续积分对账。##### 链接POST /v1/users/&#123;uid&#125;/&#123;appName&#125;/points##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||uid|用户标识符|path|string||appName|应用名称|path|string||amount|积分数量|query|double||xid|全局事务id|query|string|举例：/v1/users/05ec0890c46811e898a000163e002b60/SICKLE/points?amount=1000&amp;xid=123eaf789822342cdfab3eee3e002b60##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “4c539071e05c11e898a000163e002b60”, “amount”: 1000, “account”: { “uid”: “05ed3895c46811e898a000163e002b60”, “userUid”: “05ec0890c46811e898a000163e002b60”, “appName”: “sickle”, “accumulation”: 1000, “balance”: 1000, “createTime”: “2018-09-30 04:19:29”, “updateTime”: “2018-11-04 18:06:05” }, “userUid”: “05ec0890c46811e898a000163e002b60”, “appName”: “SICKLE”, “income”: true, “transactionUid”: “123eaf789822342cdfab3eee3e002b60”, “createTime”: “2018-11-04 18:06:05”, “updateTime”: “2018-11-04 18:06:05” }}1234567891011### 短信接口#### 按用户唯一标识符查询单个用户信息输入国家代码和手机号码，发送短信验证码。##### 链接POST /v1/sms##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||phoneInfo|手机信息|body|string|举例：/v1/sms参数 { “countryCode”: “0086”, “phoneNumber”: “15000000000”}1##### 返回值 { “message”: “success”, “code”: 200000}12345678910111213只返回成功与否。发送成功，指定的手机将会收到验证码信息。### 极验接口#### 极验预处理根据用户唯一标识符精确查询用户信息。##### 链接POST /v1/geetest/preprocess##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||param|预处理参数|body|string|举例：/v1/geetest/preprocess参数 { “countryCode”: “0086”, “phoneNumber”: “18665801387”}1##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “success”: 1, “challenge”: “39c9a5ceaf6daad2426e3c6834d7f31b”, “gt”: “7e8626f9dfcbf3c4ef46fed3f5c30107” }}1234567891011进行极验二次验证时，需要传入challenge。#### 极验二次验证验证预处理返回的challenge是否正确。##### 链接POST /v1/geetest/enhance##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||uid|用户标识符|path|string|举例：/v1/geetest/enhance参数 { “challenge”: “39c9a5ceaf6daad2426e3c6834d7f31b”, “countryCode”: “0086”, “phoneNumber”: “18665801387”, “seccode”: “23345345adfetwgeywhhgfger”, “validate”: “true”}1##### 返回值 { “message”: “success”, “code”: 200000}12345678910#### 极验短信发送验证challenge是否正确，验证通过后发送短信至指定手机。##### 链接POST /v1/geetest/sms##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||param|极验短信参数|body|string|举例：/v1/geetest/sms参数 { “challenge”: “39c9a5ceaf6daad2426e3c6834d7f31b”, “countryCode”: “0086”, “phoneNumber”: “18665801387”, “seccode”: “23345345adfetwgeywhhgfger”, “validate”: “true”}1##### 返回值 { “message”: “success”, “code”: 200000}123456789101112### token接口#### 请求token请求token，创建用户会话。支持1keylogin，sms，password三种类型的登录。该接口整合了注册和登录功能，如果是首次登录则后台会进行用户的创建，然后创建访问token，如果账户已经存在，则直接处理登录逻辑。##### 链接POST /v1/tokens##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||tokenRequest|请求token参数|body|string|tokenRequest结构 { “accessToken”: “string”, “appId”: “string”, “appKey”: “string”, “countryCode”: “string”, “password”: “string”, “phone”: “string”, “randoms”: “string”, “sign”: “string”, “smsCode”: “string”, “telecom”: “string”, “timestamp”: “string”, “type”: “string”, “version”: “string”}1234以上是全量参数，支持1keylogin，sms，password三种类型的登录，每种类型所传的参数不一样。1keylogin 登录参数： { “accessToken”: “string”, “appId”: “string”, “randoms”: “string”, “sign”: “string”, “telecom”: “string”, “timestamp”: “string”, “type”: “1keylogin”, “version”: “string”}123注：type是1keylogin,以上参数是通过创蓝闪验获取的sms 登录 { “countryCode”: “string”, “phone”: “string”, “smsCode”: “string”, “type”: “sms”}123注：type是sms,smsCode是事先获得的短信验证码password 登录 { “countryCode”: “string”, “password”: “string”, “phone”: “string”, “type”: “password”}1234567注：type是sms,password是用户注册过并设置了密码才有**登录时请求头**Application 传 应用名:版本本名 如SICKLE:1.0.1Platform 传 android或iosToken 不用传##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “05ec0890c46811e898a000163e002b60”, “countryCode”: “0086”, “phoneNumber”: “18665801387”, “userName”: “008618665801387”, “nickname”: “马自达”, “avatar”: “http://www.asmile.com/avatar.png&quot;, “source”: “SICKLE”, “enabled”: true, “token”: “7c346efa24c64d0c857dd60303eb57d5”, “empowering”: false, “createTime”: “2018-09-30 04:19:29”, “latestLogin”: “2018-11-05 02:52:30”, “loginTimes”: 6 }}1234567891011121314empowering为true代表是首次登录#### 获取token根据token信息，获取对应的用户信息。##### 链接GET /v1/tokens##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||Token|访问token|header|string||Application|应用信息|header|string||Platform|平台|header|string|举例：/v1/tokens参数Request Headers { “Accept”: “/“, “Token”: “7c346efa24c64d0c857dd60303eb57d5”}1##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “05ec0890c46811e898a000163e002b60”, “countryCode”: “0086”, “phoneNumber”: “18665801387”, “userName”: “008618665801387”, “nickname”: “马自达”, “avatar”: “http://www.asmile.com/avatar.png&quot;, “source”: “SICKLE”, “enabled”: true, “empowering”: false, “createTime”: “2018-09-30 04:19:29”, “latestLogin”: “2018-11-05 02:52:30”, “loginTimes”: 6 }}12345678910111213#### 刷新token传入现有的访问token，产生一个新的token。传入的token必须还未过期，否则会报错。##### 链接PUT /v1/tokens##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||Token|访问token|header|string||Application|应用信息|header|string||Platform|平台|header|string|举例：/v1/tokens参数 { “Accept”: “/“, “Token”: “7c346efa24c64d0c857dd60303eb57d5”}1##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “05ec0890c46811e898a000163e002b60”, “countryCode”: “0086”, “phoneNumber”: “18665801387”, “userName”: “008618665801387”, “nickname”: “马自达”, “avatar”: “http://www.asmile.com/avatar.png&quot;, “source”: “SICKLE”, “enabled”: true, “token”: “94916990f394483cb6238b6db3c1ac5c”, “empowering”: false, “createTime”: “2018-09-30 04:19:29”, “latestLogin”: “2018-11-05 02:52:30”, “loginTimes”: 6 }}123456789101112#### 删除token传入现有的访问token，进行删除，可以达到注销登录状态的目的。##### 链接DELETE /v1/tokens##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||Token|访问token|header|string||Application|应用信息|header|string||Platform|平台|header|string|举例：/v1/tokens参数 { “Accept”: “/“, “Token”: “94916990f394483cb6238b6db3c1ac5c”}1##### 返回值 { “message”: “success”, “code”: 200000}12345678910111213### 用户应用关联接口#### 查询本机是否与当前应用关联在应用端传入手机和验证码，验证是否为本机，若是再请求判断是否已经是当前应用的用户，然后返回用户信息和app信息。##### 链接DELETE /v1/userapps##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||countryCode|国家代码|query|string||phoneNumber|手机号码|query|string||smsCode|验证码|query|string|举例：/v1/userapps?countryCode=0086&amp;phoneNumber=18665801387&amp;smsCode=477055##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “05ed0c37c46811e898a000163e002b60”, “user”: { “uid”: “05ec0890c46811e898a000163e002b60”, “nickname”: “马自达”, “avatar”: “http://www.asmile.com/avatar.png&quot;, “source”: “SICKLE”, “createTime”: “2018-09-30 04:19:29”, “updateTime”: “2018-09-30 04:19:29” }, “app”: { “uid”: “42ea6149b7f711e898a000163e002b60”, “appName”: “SICKLE”, “displayName”: “MOL SICKLE”, “description”: “镰刀资讯”, “enabled”: true, “createTime”: “2018-09-14 08:22:04”, “updateTime”: “2018-09-14 08:22:04” }, “enabled”: true, “createTime”: “2018-09-30 04:19:29”, “updateTime”: “2018-09-30 04:19:29” }}1234567891011121314151617### 登录历史信息#### 按ip统计时段内登录的设备数查找指定时间段内指定ip的登录设备统计，可以指定最少登录设备数，用于过滤登录设备数量不少于指定数量的的ip对应的统计信息。##### 链接GET /v1/logins/devicecount##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||loginIp|登录ip|query|string||startTime|开始时间|query|date-time||endTime|结束时间|query|date-time||enabled|设备是否有效|query|boolean||success|是否成功登录|query|boolean||deviceCount|最少登录设备数|query|integer|举例：/v1/logins/devicecount?loginIp=112.97.194.129##### 返回值 { “message”: “success”, “code”: 200000, “data”: [ { “loginIp”: “112.97.194.129”, “deviceCount”: 6, “deviceLogins”: [ { “loginDevice”: “0b63192bc39011e898a000163e002b60”, “loginDeviceUrl”: “http://localhost:9941/usercenter/v1.0/logins/devicecount?loginDevice=0b63192bc39011e898a000163e002b60&quot; }, { “loginDevice”: “38252a93c40611e898a000163e002b60”, “loginDeviceUrl”: “http://localhost:9941/usercenter/v1.0/logins/devicecount?loginDevice=38252a93c40611e898a000163e002b60&quot; }, { “loginDevice”: “7b4d4165c2d311e898a000163e002b60”, “loginDeviceUrl”: “http://localhost:9941/usercenter/v1.0/logins/devicecount?loginDevice=7b4d4165c2d311e898a000163e002b60&quot; }, { “loginDevice”: “7df1aefdc46a11e898a000163e002b60”, “loginDeviceUrl”: “http://localhost:9941/usercenter/v1.0/logins/devicecount?loginDevice=7df1aefdc46a11e898a000163e002b60&quot; }, { “loginDevice”: “91bb3c66c46a11e898a000163e002b60”, “loginDeviceUrl”: “http://localhost:9941/usercenter/v1.0/logins/devicecount?loginDevice=91bb3c66c46a11e898a000163e002b60&quot; }, { “loginDevice”: “946a4f5fc40811e898a000163e002b60”, “loginDeviceUrl”: “http://localhost:9941/usercenter/v1.0/logins/devicecount?loginDevice=946a4f5fc40811e898a000163e002b60&quot; } ] } ]}1234567891011121314151617deviceCount为登录设备数，deviceLogins为各设备唯一标识符及起对应的登录记录连接。#### 按ip统计时段内登录的设备数查找指定时间段内指定ip的登录设备统计，可以指定最少登录设备数，用于过滤登录设备数量不少于指定数量的的ip对应的统计信息。##### 链接GET /v1/logins/devicecount##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||loginDevice|登录设备唯一标识符|query|string||startTime|开始时间|query|date-time||endTime|结束时间|query|date-time||enabled|设备是否有效|query|boolean||success|是否成功登录|query|boolean||userCount|最少用户数|query|integer|举例：/v1/logins/usercount?loginDevice=7b4d4165c2d311e898a000163e002b60##### 返回值 { “message”: “success”, “code”: 200000, “data”: [ { “loginDevice”: “7b4d4165c2d311e898a000163e002b60”, “userCount”: 4, “userLogins”: [ { “loginUser”: “113c42bcc3df11e898a000163e002b60”, “userLoginUrl”: “http://localhost:9941/usercenter/v1.0/logins/users/113c42bcc3df11e898a000163e002b60&quot; }, { “loginUser”: “2d1bc18ec40a11e898a000163e002b60”, “userLoginUrl”: “http://localhost:9941/usercenter/v1.0/logins/users/2d1bc18ec40a11e898a000163e002b60&quot; }, { “loginUser”: “704f7e7cc40511e898a000163e002b60”, “userLoginUrl”: “http://localhost:9941/usercenter/v1.0/logins/users/704f7e7cc40511e898a000163e002b60&quot; }, { “loginUser”: “945521c9c40811e898a000163e002b60”, “userLoginUrl”: “http://localhost:9941/usercenter/v1.0/logins/users/945521c9c40811e898a000163e002b60&quot; } ] } ]}12345678910111213141516171819userCount为登录用户数，userLogins为各用户唯一标识符及起对应的登录记录连接。#### 获取用户时间段内登录的信息查找指定时间段内指定ip的登录设备统计，可以指定最少登录设备数，用于过滤登录设备数量不少于指定数量的的ip对应的统计信息。##### 链接GET /v1/logins/users/&#123;uid&#125;##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||loginIp|登录ip|query|string||startTime|开始时间|query|date-time||endTime|结束时间|query|date-time||enabled|设备是否有效|query|boolean||success|是否成功登录|query|boolean||deviceCount|最少登录设备数|query|integer|举例：查看唯一标识符为113c42bcc3df11e898a000163e002b60的用户登录时间大于2018/09/29 21:30:00的登录记录。v1/logins/users/113c42bcc3df11e898a000163e002b60?startTime=2018%2F09%2F29%2021%3A30%3A00##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “113c42bcc3df11e898a000163e002b60”, “countryCode”: “0086”, “phoneNumber”: “13049304814”, “userName”: “008613049304814”, “nickname”: “user_008613049304814”, “avatar”: “https://www.baidu.com/img/bd_logo1.png&quot;, “source”: “SICKLE”, “enabled”: true, “createTime”: “2018-09-29 19:59:07”, “latestLogin”: “2018-09-29 21:50:40”, “loginTimes”: 26, “records”: [ { “uid”: “982d0491c3ee11e898a000163e002b60”, “loginUser”: “113c42bcc3df11e898a000163e002b60”, “loginDevice”: “dc5e955ac3bb11e898a000163e002b60”, “loginIp”: “113.118.194.58”, “loginHost”: “192.168.1.129”, “loginApp”: “SICKLE”, “loginAppVersionCode”: 101, “loginAppVersion”: “1.0.1”, “loginWay”: “token”, “success”: true, “loginMemo”: “OK”, “loginTime”: “2018-09-29 21:50:16”, “appDebug”: false, “osRoot”: false, “osRom”: “aliyun”, “osVersion”: “22”, “longitude”: “114.040897”, “latitude”: “22.614372”, “address”: “广东省深圳市龙华区民康路84号靠近华夏银行(龙华支行)” } ] }}12345678910返回值有两部分组成，前部分是用户的基本信息及用户登录的总次数，records为用户登录的详细记录。### 全局事务接口#### 获取全局事务获取全局事务id，可作为分布式事务处理的依据。##### 链接POST /v1/transaction##### 参数无参数举例：/v1/transaction##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “09766456e0c911e898a000163e002b60”, “createTime”: “2018-11-05 15:04:28” }}123456789### 访问终端信息接口#### 上传终端信息，并返回用户信息将终端设备上传，记录用户登录的最新设备。同时后台会进行token刷新。##### 链接POST /v1/initialize##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||terminal|终端信息|body|string| { “app” = { “debug” = “flase”; “versionCode” = “1”; “versionName” = “1.0.0”; }; “device” = { “brand” = “iPhone”; “deviceID” = “101d855909687927f31”; “display” = “”; “displayHeight” = “1080”; “displayWidth” = “1920”; “fingerprint” = “”; “manufacturer” = “IOS”; “model” = “iPhone 6s Plus”; “product” = “”; }; “location” = { “address” = “\U5e7f\U4e1c\U7701\U6df1\U5733\U5e02\U9f99\U534e\U533a\U6c11\U5eb7\U8def\U9760\U8fd1\U4e1c\U660e\U5927\U53a6(\U6c11\U5eb7\U8def)”; “latitude” = “23”; “longitude” = “114”; }; “os” = { “host” = “fe80::182e:de50:4ad4:78a3”; “rom” = “appstore”; “root” = “fales”; “version” = “12.0.1”; };}1##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “0ab21520d6bf11e89b0b00163e007a48”, “countryCode”: “0086”, “phoneNumber”: “13267017181”, “userName”: “008613267017181”, “avatar”: “https://miaoyoujuan.com/mol_sickle/icon/head_mol_sickle.png&quot;, “source”: “SICKLE”, “enabled”: true, “token”: “7e1a58f1918a48d397b2fee4aaa3ea9a”, “empowering”: false, “createTime”: “2018-10-23 12:27:44”, “latestLogin”: “2018-11-05 07:17:50”, “loginTimes”: 498 }}12345678910111213返回用户基本基本信息和登录统计信息。empowering为true代表是首次登录### 积分接口#### 获取当前用户的积分账户传入Token信息和Application信息，获取当前用户在指定应用中的积分账户。##### 链接GET /v1/points##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||Token|访问token|header|string||Application|应用信息，格式：应用名:版本名称|header|string|Request Headers { “Accept”: “/“, “Token”: “d31a6af803184fca93511700cf2a988a”, “Application”: “SICKLE:1.0.0”}1##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “05ed3895c46811e898a000163e002b60”, “userUid”: “05ec0890c46811e898a000163e002b60”, “appName”: “sickle”, “accumulation”: 1000, “balance”: 1000, “createTime”: “2018-09-30 12:19:29”, “updateTime”: “2018-11-05 02:06:06” }}1234567891011121314151617accumulation为累计积分数量balance为当前用户积分余额#### 给指定用户增减积分给指定用户增减积分，正数增加，负数减少。##### 链接POST /v1/points##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||Token|访问token|header|string||Application|应用信息，格式：应用名:版本名称|header|string||userUid|用户唯一标识符|query|string||amount|变化数额，增加用正数，减少用负数|query|double||transcationUid|全局事务唯一标识符|query|string|举例：/v1/points?userUid=05ec0890c46811e898a000163e002b60&amp;amount=5&amp;transactionUid=1253dac21335290779cdef00163e002bRequest Headers { “Accept”: “/“, “Token”: “d31a6af803184fca93511700cf2a988a”, “Application”: “SICKLE:1.0.0”}1##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “e24c8a88e0ce11e898a000163e002b60”, “amount”: 5, “account”: { “uid”: “05ed3895c46811e898a000163e002b60”, “userUid”: “05ec0890c46811e898a000163e002b60”, “appName”: “sickle”, “accumulation”: 1005, “balance”: 1005, “createTime”: “2018-09-30 12:19:29”, “updateTime”: “2018-11-05 15:46:19” }, “userUid”: “05ec0890c46811e898a000163e002b60”, “appName”: “SICKLE”, “income”: true, “transactionUid”: “1253dac21335290779cdef00163e002b”, “createTime”: “2018-11-05 15:46:19”, “updateTime”: “2018-11-05 15:46:19” }}12345678910111213141516171819202122232425262728293031323334返回结果的data信息分两部分，主体部分是这当前操作的积分信息，包含本次交易的基本信息，income是否收入项，正数为true，负数为false。另外一部分是操作后的积分账户信息。### 设备信息接口#### 按条件查询设备列表指定条件查询分页查询设备信息。##### 链接GET /v1/devices##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||uid|设备唯一标识符|query |string||display|系统屏幕信息|query |string||displayHeight|屏幕像素高度|query |string||displayWidth|屏幕像素宽度| query| string||brand|品牌信息|query |string||fingerprint|设备指纹(一个综合的，唯一的关于设备的描述)|query |string||manufacturer|生产厂商| query |string||model||query |string||product||query |string||deviceID|设备唯一ID| query |string||host|内部ip| query |string||root|是否root| query |boolean||rom|操作系统rom|query| string||osVersion|系统版本名称|query| string||startTime|开始时间|query| date-time||endTime|结束时间|query| date-time||enabled|是否有效|query| boolean||sortby|排序属性| query| string||order|排序规则|query| string||page|页数| query| integer||pageSize|每页行数| query| integer|举例：查看品牌是小米的所有设备/v1/devices?brand=XIAOMI##### 返回值 { “message”: “success”, “code”: 200000, “data”: [ { “uid”: “38252a93c40611e898a000163e002b60”, “display”: “OPR1.170623.027”, “displayHeight”: “2030”, “displayWidth”: “1080”, “brand”: “Xiaomi”, “fingerprint”: “Xiaomi/chiron/chiron:8.0.0/OPR1.170623.027/V10.0.1.0.ODECNFH:user/release-keys”, “manufacturer”: “Xiaomi”, “model”: “MIX 2”, “product”: “chiron”, “deviceID”: “wLnnx8yfonqP0EkD5RxX3iJUxXO4hz4k/i8nx997kMQq1Z7HabWgPdzlhLJEw5oU”, “host”: “192.168.43.74”, “root”: false, “rom”: “xiaomi”, “osVersion”: “26”, “createTime”: “2018-09-30 00:39:23”, “updateTime”: “2018-09-30 00:39:23”, “enabled”: true }, { “uid”: “39391f5cc40511e898a000163e002b60”, “display”: “OPR1.170623.027”, “displayHeight”: “2030”, “displayWidth”: “1080”, “brand”: “Xiaomi”, “fingerprint”: “Xiaomi/chiron/chiron:8.0.0/OPR1.170623.027/V10.0.1.0.ODECNFH:user/release-keys”, “manufacturer”: “Xiaomi”, “model”: “MIX 2”, “product”: “chiron”, “deviceID”: “kTdotkS3jpFJqTe1wtPtAK0JgdTrYmerEmt22+XPTAA35JZfFiv94wIfcDkQqkYX”, “host”: “192.168.1.127”, “root”: false, “rom”: “xiaomi”, “osVersion”: “26”, “createTime”: “2018-09-30 00:32:15”, “updateTime”: “2018-09-30 00:32:15”, “enabled”: true }, { “uid”: “aa81d818c3bb11e898a000163e002b60”, “display”: “android_x86-userdebug 5.1.1 LMY48Z eng.denglibo.20171121.141123 test-keys”, “displayHeight”: “1920”, “displayWidth”: “1080”, “brand”: “xiaomi”, “fingerprint”: “Android-x86/android_x86/x86:5.1.1/LMY48Z/denglibo11211412:userdebug/test-keys”, “manufacturer”: “xiaomi”, “model”: “hm 1s”, “product”: “hm 1s”, “deviceID”: “286ff13382f34b9aa52a4909015a35ba”, “host”: “172.16.2.15”, “root”: false, “rom”: “aliyun”, “osVersion”: “22”, “createTime”: “2018-09-29 15:45:42”, “updateTime”: “2018-09-29 15:45:42”, “enabled”: true } ], “page”: 1, “pageSize”: 10, “first”: “http://localhost:9941/usercenter/v1/devices?brand=XIAOMI&amp;page=1&amp;pageSize=10&quot;, “next”: “http://localhost:9941/usercenter/v1/devices?brand=XIAOMI&amp;page=1&amp;pageSize=10&quot;, “previous”: “http://localhost:9941/usercenter/v1/devices?brand=XIAOMI&amp;page=1&amp;pageSize=10&quot;, “last”: “http://localhost:9941/usercenter/v1/devices?brand=XIAOMI&amp;page=1&amp;pageSize=10&quot;}123456789101112#### 获取在线设备列表根据用户唯一标识符列表获取在线设备列表。##### 链接POST /v1/devices/online##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||userUidList|用户唯一标识符列表|body |Array[string]|举例：查看品牌是小米的所有设备/v1/devices/onlinebody [“d31a6af803184fca93511700cf2a988a”]1##### 返回值 { “message”: “success”, “code”: 200000, “data”: [ { “uid”: “38252a93c40611e898a000163e002b60”, “display”: “OPR1.170623.027”, “displayHeight”: “2030”, “displayWidth”: “1080”, “brand”: “Xiaomi”, “fingerprint”: “Xiaomi/chiron/chiron:8.0.0/OPR1.170623.027/V10.0.1.0.ODECNFH:user/release-keys”, “manufacturer”: “Xiaomi”, “model”: “MIX 2”, “product”: “chiron”, “deviceID”: “wLnnx8yfonqP0EkD5RxX3iJUxXO4hz4k/i8nx997kMQq1Z7HabWgPdzlhLJEw5oU”, “host”: “192.168.43.74”, “root”: false, “rom”: “xiaomi”, “osVersion”: “26”, “createTime”: “2018-09-30 00:39:23”, “updateTime”: “2018-09-30 00:39:23”, “enabled”: true }, { “uid”: “39391f5cc40511e898a000163e002b60”, “display”: “OPR1.170623.027”, “displayHeight”: “2030”, “displayWidth”: “1080”, “brand”: “Xiaomi”, “fingerprint”: “Xiaomi/chiron/chiron:8.0.0/OPR1.170623.027/V10.0.1.0.ODECNFH:user/release-keys”, “manufacturer”: “Xiaomi”, “model”: “MIX 2”, “product”: “chiron”, “deviceID”: “kTdotkS3jpFJqTe1wtPtAK0JgdTrYmerEmt22+XPTAA35JZfFiv94wIfcDkQqkYX”, “host”: “192.168.1.127”, “root”: false, “rom”: “xiaomi”, “osVersion”: “26”, “createTime”: “2018-09-30 00:32:15”, “updateTime”: “2018-09-30 00:32:15”, “enabled”: true }, { “uid”: “aa81d818c3bb11e898a000163e002b60”, “display”: “android_x86-userdebug 5.1.1 LMY48Z eng.denglibo.20171121.141123 test-keys”, “displayHeight”: “1920”, “displayWidth”: “1080”, “brand”: “xiaomi”, “fingerprint”: “Android-x86/android_x86/x86:5.1.1/LMY48Z/denglibo11211412:userdebug/test-keys”, “manufacturer”: “xiaomi”, “model”: “hm 1s”, “product”: “hm 1s”, “deviceID”: “286ff13382f34b9aa52a4909015a35ba”, “host”: “172.16.2.15”, “root”: false, “rom”: “aliyun”, “osVersion”: “22”, “createTime”: “2018-09-29 15:45:42”, “updateTime”: “2018-09-29 15:45:42”, “enabled”: true } ], “page”: 1, “pageSize”: 10, “first”: “http://localhost:9941/usercenter/v1/devices?brand=XIAOMI&amp;page=1&amp;pageSize=10&quot;, “next”: “http://localhost:9941/usercenter/v1/devices?brand=XIAOMI&amp;page=1&amp;pageSize=10&quot;, “previous”: “http://localhost:9941/usercenter/v1/devices?brand=XIAOMI&amp;page=1&amp;pageSize=10&quot;, “last”: “http://localhost:9941/usercenter/v1/devices?brand=XIAOMI&amp;page=1&amp;pageSize=10&quot;}12345678910111213### 应用接口#### 创建应用根据应用名称创建应用，不能重名。##### 链接POST /v1/app##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||app|应用信息|body ||举例：创建芒果音乐APP/v1/appbody { “appName”: “MONGO”, “description”: “芒果音乐”, “displayName”: “芒果音乐”}1##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “5a756efbe0dd11e898a000163e002b60”, “appName”: “MONGO”, “displayName”: “芒果音乐”, “description”: “芒果音乐”, “createTime”: “2018-11-05 17:29:53” }}123456789101112#### 根据应用唯一标识符批量获取应用出入多个应用唯一标识符，返回多个应用信息。##### 链接GET /v1/app##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||uidList|应用唯一标识符列表|query |Array[string]|举例：查看品牌是小米的所有设备/v1/app?uidList=5a756efbe0dd11e898a000163e002b60%2C6dd50bbfdc3711e898a000163e002b60##### 返回值 { “message”: “success”, “code”: 200000, “data”: [ { “uid”: “5a756efbe0dd11e898a000163e002b60”, “appName”: “MONGO”, “displayName”: “芒果音乐”, “description”: “芒果音乐”, “enabled”: true, “createTime”: “2018-11-05 17:29:54”, “updateTime”: “2018-11-05 17:29:54” }, { “uid”: “6dd50bbfdc3711e898a000163e002b60”, “appName”: “DONKEY”, “displayName”: “电驴快传”, “description”: “电驴快传是一款基于区块链的短视频应用”, “enabled”: true, “createTime”: “2018-10-30 19:32:06”, “updateTime”: “2018-10-30 19:32:06” } ]}123456789101112#### 按条件查询设备列表指定条件查询分页查询设备信息。##### 链接GET /v1/app/&#123;uid&#125;##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||uid|应用唯一标识符列表|path |string|举例：查看品牌是小米的所有设备/v1/app/5a756efbe0dd11e898a000163e002b60##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “5a756efbe0dd11e898a000163e002b60”, “appName”: “MONGO”, “displayName”: “芒果音乐”, “description”: “芒果音乐”, “enabled”: true, “createTime”: “2018-11-05 17:29:54” }}12345678910111213141516171819202122### 数据字典接口#### 创建数据字典类型指定条件查询分页查询设备信息。##### 链接POST /v1/dict/types##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||createType|字典类型创建对象|body ||createType参数详解|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||hasChildren|是否具有子条目| |boolean||itemType|子条目类型，若没有子节点，则是自身类型| |String||typeCode|类型代码| |String||typeName|类型名称，用于前端展现| |String||itemValue|条目值，若hasChildren为false，说明只有一级，需要设置当前值| |String|举例：创建国家类型/v1/dict/typescreateType { “hasChildren”: true, “itemType”: “java.lang.String”, “typeCode”: “COUNTRY”, “typeName”: “国家”}1创建单笔交易最大金额数据字典项，无子条目 { “hasChildren”: false, “itemType”: “java.math.BigDecimal”, “typeCode”: “MAX_PER_DEAL”, “typeName”: “单笔交易最大金额”}12##### 返回值国家类型返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “5fcf24cbe0e111e898a000163e002b60”, “typeCode”: “COUNTRY”, “typeName”: “国家”, “itemType”: “java.lang.String”, “enabled”: true, “createTime”: “2018-11-05 17:58:41”, “updateTime”: “2018-11-05 17:58:41”, “hasChildren”: true, “itemValue”: “string” }}1单笔交易最大金额 { “message”: “success”, “code”: 200000, “data”: { “uid”: “b2683b4ee0ec11e898a000163e002b60”, “typeCode”: “MAX_PER_DEAL”, “typeName”: “单笔交易最大金额”, “itemType”: “java.math.BigDecimal”, “enabled”: true, “createTime”: “2018-11-05 19:19:44”, “updateTime”: “2018-11-05 19:19:44”, “hasChildren”: false }}123456789101112#### 查看指定的数据字典类型根据类型编码获取字典类型。##### 链接GET /v1/dict/types/&#123;typeCode&#125;##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||typeCode|类型编码|path |string|举例：查看品牌是小米的所有设备/v1/dict/types/MAX_PER_DEAL##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “b2683b4ee0ec11e898a000163e002b60”, “typeCode”: “MAX_PER_DEAL”, “typeName”: “单笔交易最大金额”, “itemType”: “java.math.BigDecimal”, “enabled”: true, “createTime”: “2018-11-05 19:19:44”, “updateTime”: “2018-11-05 19:19:44”, “hasChildren”: false }}123456789101112131415161718#### 查看数据字典类型列表指定条件查询分页查询设备信息。##### 链接GET /v1/dict/types##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||typeName|类型名称|query|string||hasChildren|是否有子条目|query|boolean||enabled|用户是否有效|query|boolean||sortby|排序属性|query|string||order|排序顺序|query|string||page|第几页|query|integer||pageSize|每页记录数|query|integer|举例：所有有子条目的类型/v1/dict/types?hasChildren=true##### 返回值 { “message”: “success”, “code”: 200000, “data”: [ { “uid”: “1f69cc4baf5011e898a000163e002b60”, “typeCode”: “string”, “typeName”: “string”, “itemType”: “string”, “enabled”: true, “createTime”: “2018-09-03 16:05:29”, “updateTime”: “2018-09-03 16:05:29”, “hasChildren”: true, “itemValue”: “string” }, { “uid”: “5fcf24cbe0e111e898a000163e002b60”, “typeCode”: “COUNTRY”, “typeName”: “国家”, “itemType”: “java.lang.String”, “enabled”: true, “createTime”: “2018-11-05 17:58:41”, “updateTime”: “2018-11-05 17:58:41”, “hasChildren”: true, “itemValue”: “string” }, { “uid”: “cbdf3e9faf2711e898a000163e002b60”, “typeCode”: “LANGUAGE”, “typeName”: “语言”, “itemType”: “java.lang.String”, “enabled”: true, “createTime”: “2018-09-03 11:16:49”, “updateTime”: “2018-09-03 11:16:49”, “hasChildren”: true } ], “page”: 1, “pageSize”: 10, “first”: “http://localhost:9941/usercenter/v1/dict/types?hasChildren=true&amp;page=1&amp;pageSize=10&quot;, “next”: “http://localhost:9941/usercenter/v1/dict/types?hasChildren=true&amp;page=1&amp;pageSize=10&quot;, “previous”: “http://localhost:9941/usercenter/v1/dict/types?hasChildren=true&amp;page=1&amp;pageSize=10&quot;, “last”: “http://localhost:9941/usercenter/v1/dict/types?hasChildren=true&amp;page=1&amp;pageSize=10&quot;}1234567891011121314151617181920212223#### 创建数据字典条目在指定数据字典类型下创建指定条目名称。##### 链接POST /v1/dict/&#123;typeUid&#125;/items##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||typeUid|数据字典唯一标识符|path |string||createItem|字典条目创建对象|body ||createItem参数说明|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||itemCode|条目代码| |string||itemName|条目显示名| |string||itemOrder|条目排序| |integer||itemValue|条目值| |string||typeUid|字典类型唯一标识符，可不填| |string|举例：创建一个俄罗斯的国家子条目/v1/dict/5fcf24cbe0e111e898a000163e002b60/itemscreateItem信息 { “itemCode”: “RUS”, “itemName”: “俄罗斯”, “itemOrder”: 2, “itemValue”: “Russia”, “typeUid”: “5fcf24cbe0e111e898a000163e002b60”}1##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “6cdb1a2fe0f011e898a000163e002b60”, “typeUid”: “5fcf24cbe0e111e898a000163e002b60”, “itemCode”: “RUS”, “itemName”: “俄罗斯”, “itemValue”: “Russia”, “itemOrder”: 2, “enabled”: true, “createTime”: “2018-11-05 19:46:25”, “updateTime”: “2018-11-05 19:46:25” }}1234567891011121314151617#### 查看指定的数据字典类型下的条目传入字典类型代码查询其下的字典条目。##### 链接GET /v1/dict/&#123;typeCode&#125;/items##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||typeCode|类型编码|path |string||enabled|是否有效|query |boolean||sortby|排序属性|query |string||order|排序顺序|query |string||page|第几页|query |integer||pageSize|每页记录数|query |integer|举例：查看类型为COUNTRY下的条目/v1/dict/COUNTRY/items?sortby=itemCode##### 返回值 { “message”: “success”, “code”: 200000, “data”: [ { “uid”: “6cdb1a2fe0f011e898a000163e002b60”, “typeUid”: “5fcf24cbe0e111e898a000163e002b60”, “itemCode”: “RUS”, “itemName”: “俄罗斯”, “itemValue”: “Russia”, “itemOrder”: 2, “enabled”: true, “createTime”: “2018-11-05 19:46:26”, “updateTime”: “2018-11-05 19:46:26” }, { “uid”: “984a7ce5e0ef11e898a000163e002b60”, “typeUid”: “5fcf24cbe0e111e898a000163e002b60”, “itemCode”: “CHN”, “itemName”: “中国”, “itemValue”: “China”, “itemOrder”: 0, “enabled”: true, “createTime”: “2018-11-05 19:40:29”, “updateTime”: “2018-11-05 19:40:29” }, { “uid”: “b356ef87e0ef11e898a000163e002b60”, “typeUid”: “5fcf24cbe0e111e898a000163e002b60”, “itemCode”: “USA”, “itemName”: “美国”, “itemValue”: “United States”, “itemOrder”: 2, “enabled”: true, “createTime”: “2018-11-05 19:41:15”, “updateTime”: “2018-11-05 19:41:15” } ], “page”: 1, “pageSize”: 10, “first”: “http://localhost:9941/usercenter/v1/dict/COUNTRY/items?sortby=itemCode&amp;page=1&amp;pageSize=10&quot;, “next”: “http://localhost:9941/usercenter/v1/dict/COUNTRY/items?sortby=itemCode&amp;page=1&amp;pageSize=10&quot;, “previous”: “http://localhost:9941/usercenter/v1/dict/COUNTRY/items?sortby=itemCode&amp;page=1&amp;pageSize=10&quot;, “last”: “http://localhost:9941/usercenter/v1/dict/COUNTRY/items?sortby=itemCode&amp;page=1&amp;pageSize=10&quot;}1234567891011#### 查看指定code的数据字典条目根据条目代码获取数据字典条目项。##### 链接GET /v1/dict/items/&#123;itemCode&#125;##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||itemCode|条目编码|path |string|举例：/v1/dict/items/CHN##### 返回值 { “message”: “success”, “code”: 200000, “data”: { “uid”: “984a7ce5e0ef11e898a000163e002b60”, “typeUid”: “5fcf24cbe0e111e898a000163e002b60”, “itemCode”: “CHN”, “itemName”: “中国”, “itemValue”: “China”, “itemOrder”: 0, “enabled”: true, “createTime”: “2018-11-05 19:40:29”, “updateTime”: “2018-11-05 19:40:29” }}123456789101112### 工具接口#### 获取当前应用信息从http头部获取应用信息。##### 链接GET /v1/application##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||Application|应用信息|header |string|举例：/v1/applicationRequest Headers { “Accept”: “/“, “Application”: “SICKLE:1.0.0”}1##### 返回值 { “appName”: “SICKLE”, “version”: “1.0.0”}123456789#### 获取客户端真实的ip地址获取客户端访问的真是ip地址，在负载均衡代理之前的ip。##### 链接GET /v1/clientip##### 参数无参数举例：/v1/clientip##### 返回值 0:0:0:0:0:0:0:11234567891011#### 获取当前平台信息从http头部获取应用信息。##### 链接GET /v1/platform##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||Platform|平台信息|header |string|举例：/v1/platformRequest Headers { “Accept”: “/“, “Platform”: “iOS”}1##### 返回值 iOS1234567891011#### 获取当前token从http头部获取访问token信息。##### 链接GET /v1/token##### 参数|参数名 | 说明 |传递方式 |参数类型||--- |--- |---| ---||Token|访问token|header |string|举例：/v1/tokenRequest Headers { “Accept”: “/“, “Token”: “d31a6af803184fca93511700cf2a988a”}1##### 返回值 { “userUid”: “05ec0890c46811e898a000163e002b60”, “token”: “d31a6af803184fca93511700cf2a988a”}123456789#### 获取当前User-Agent从http头部获取访问客户端的User-Agent。##### 链接GET /v1/useragent##### 参数无参数举例：/v1/useragent##### 返回值 Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0.1 Safari/605.1.15`]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2F%E5%88%9B%E4%B8%9AAI%E5%8A%A9%E6%89%8B%2Fdocs%2F%E9%9C%80%E6%B1%82%E5%A4%87%E5%BF%98%E5%BD%95%2F%E9%9C%80%E6%B1%82%E5%A4%87%E5%BF%98%E5%BD%95%2F</url>
    <content type="text"><![CDATA[需求备忘录 2019.02.26 疑问列表 需要我们开发哪些端？有后台、Web前端、iOS App、Android App等 目前你们有原型了，那 UI 设计这部分是我们做吗？还是说你们会提供UI设计稿和相关切图？ 如图所示中的“目前实现”是什么意思？是表达这个项目已经实现了部分功能，我们接手继续做？ 微信第三方登录权限和支付权限等都申请好了吗？还是说要我们帮忙申请？ 新闻详情、文章、政策详情等某些叶子节点的功能的展示是否用web？（某些功能在原型里点不进去，所以我不知道长什么样） 如轮播图、轮播图的点击链接等是否需要做成配置化的？如果是的话，那我们是否还需要给你们提供一个后台去操作？ 创业服务提交给后台的数据等是否也需要放到后台来查看等操作？ 新闻、政策等数据从哪来？是爬虫？还是我们提供一个后台管理系统给你们去录入？ 如下图所示，那4个方块都是不可点击的？只能点击提交需求？ 建议 UI设计和部分导航设计等，建议重新设计一下。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2F%E5%88%9B%E4%B8%9AAI%E5%8A%A9%E6%89%8B%2Fdocs%2F%E5%90%88%E4%BD%9C%E5%A4%87%E5%BF%98%E5%BD%95%2F%E5%90%88%E5%90%8C%E6%8B%9F%E7%A8%BF%2F</url>
    <content type="text"><![CDATA[拟定合同备忘录 Time：2018.01.22 总计预计耗时：从设计、开发、测试、部署等一条龙服务完成后，总结如下： 所需人员：4.5人； 大概耗时：1.5个月（不包括K线部分）。 由于开发期间会经历农历新年长假，这个因素大家也要考虑进去，所以需要适当调整。 合计报价：人民币贰拾万圆整（￥20万），不包括购买K线服务。 付款方式： 预付总项目款50%； 开发完成后，交付项目时支付40%； 交付完成后，提供1个月Bug维护，维护期满支付剩余10%尾款。 备注：需求UI由我们制作全套 UI 图，有甲方确认后再转入开发阶段。 移动端（Android+iOS）概述依据当前 PC 端版本现有功能，开发相应的移动端（Android+iOS），具体功能如下图所示： 相关原型设计下载地址： https://github.com/leguang/ATMEX/tree/master/prototype 交易模块由原 PC 版中的“合约交易”、“秒合约交易”合并成一个入口，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 交易列表 “合约交易”、“秒合约交易”合并后的入口列表，对接接口 1 1 合约 合约交易详情页，包含K线图和其他交易功能，对接接口 待定（由于K线实现方案暂未定） 1 秒合约 秒合约交易详情页，包含K线图和其他交易功能，对接接口 待定（由于K线实现方案暂未定） 1 买入 买入操作，对接接口 1 1 卖出 卖出操作，对接接口 1 1 充币 充币功能，对接支付 1 1 持仓 持仓页面功能，对接接口 1 1 委托 委托列表，对接接口 1 1 成交 成交列表，对接接口 1 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 其中的耗时估算是建立在接口对接顺畅的情况下，由于后台接口需要与甲方对接，因此这部分由不定因素。 资产模块由原 PC 版中的“我的资产”、“我的持仓”合并成一个入口，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 资产列表 “我的资产”、“我的持仓”合并后的入口列表，对接接口 1 1 账单记录 所有进出账单列表 1 1 持仓页面 包括“合约交易”和“秒合约交易”的持仓信息 1.5 1 充币 只需弹框，对接接口 0.5 1 提币 提币页面，对接支付接口 1 1 换换 “合约交易”与“秒合约交易”的转换 1 1 备注： 数字1表示最高优先级，数值递增代表优先级降低； 其中的耗时估算是建立在接口对接顺畅的情况下，由于后台接口需要与甲方对接，因此这部分有不定因素。 “我的”模块（个人中心）由原 PC 版中的“个人中心”全部功能外加部分App应有特有的功能，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 “我的”页面 个人信息入口展示 0.5 1 个人信息 依据原 PC 的样式进行改造，对接接口 1 1 我的资产 跳转到上述资产页面 0 1 银行卡 依据原 PC 的样式进行改造，对接接口 1 1 忘记密码 依据原 PC 的样式进行改造，对接接口 1 1 系统通知 新增功能（需新增接口），对接接口 1 1 推广 依据原 PC 的样式进行改造，对接接口 1 1 关于我们 依据原 PC 的样式进行改造，对接接口 0 1 设置 属App特有功能 1 1 App升级（建议功能） 属App特有功能 1 1 备注： 数字1表示最高优先级，数值递增代表优先级降低； 其中的耗时估算是建立在接口对接顺畅的情况下，由于后台接口需要与甲方对接，因此这部分有不定因素。 国际化只需要支持中文和英文，这里涉及到一个问题，就是部分接口访问时，响应的结果提示，是否为后台提供？两种方案： 后台提供，则前端需要传一个语言参数放在参数位置或者在请求头里，后台也要国际化； 前后端商议一套状态码，后台只需要返回状态码，前端提前生成好对应的提示语即可。 这部分实现需要再议。 充币由于这个支付平台未接触过，是否只需要在移动端启动一个网页就可以完成，这部分还待测试才知道结果。 K线图整个项目中 UI 原生实现里，K线图这部分是最麻烦的，如果有相关成熟第三方原生插件则最好，否则就考虑相关预备方案： 这个版本先用 WebView 顶一下，具体得做实验评估； 暂时原生实现一个简陋版本； 由甲方提供指定解决方案。 当然这只是暂时的评估。 PC端在现有版本基础上，升级一下UI，包括但不限于主题色、icon、布局、交互等，开发实施有甲方自行决定。 测试部署 平台 内容 耗时（单位：人天） 优先级 Android ATMEX项目Android全部内容 2 1 iOS ATMEX项目iOS全部内容 2 1 追加功能以下功能为App特殊需要，没有也不会影响到正常使用，可酌情考虑是否追加 功能名称 描述 推荐理由 推送 移动端的notification，由后台根据业务push 一个App没有推送，那不就是个哑巴App吗？ App升级 原生实现不比Web，功能的迭代是需要下载安装等操作 大部分应用市场是禁止交易所等类型App上传的，因此需要自己提示升级]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2F%E5%88%9B%E4%B8%9AAI%E5%8A%A9%E6%89%8B%2Fdocs%2F%E5%90%88%E4%BD%9C%E5%A4%87%E5%BF%98%E5%BD%95%2F%E5%90%88%E4%BD%9C%E5%A4%87%E5%BF%98%E5%BD%95%2F</url>
    <content type="text"><![CDATA[合作备忘录 2019.02.27 预计耗时：综合考虑，从开发、测试、部署等(设计除外)一系列工作完成后，总结如下： 所需人数：3人； 大概耗时：1.5个月。 合计报价：人民币壹拾万圆整（￥10万），含维护费用。 需求概述总体实现一个创业助手小程序，包括后端和小程序端，其功能包括多个模块，大致功能模块如下图所示： 原型由甲方设计并提供，暂定设计如下： https://modao.cc/app/ch6lD1tCwP2sSF8hVvMb4j0q5XkHNS3 UI由甲方设计并切图。 后端接口为小程序提供功能接口并管理数据。 政策匹配模块小程序首页模块，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 规划定制–&gt;政策扶持类 数据展示和提交数据 1 1 规划定制–&gt;人才认证类 数据展示和提交数据 1 1 规划定制–&gt;企业资质类 数据展示和提交数据 1 1 规划定制–&gt;税收减免类 数据展示和提交数据 1 1 政策搜索–&gt;搜索结果列表 搜索 0.5 1 政策搜索–&gt;结果详情 详情展示 0.5 1 政策列表 数据列表 0.5 1 政策详情 详情展示 0.5 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 创业服务提供大量填表功能，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 场地套餐 配置数据，表单提交 1 1 企业服务 配置数据，表单提交 1 1 新媒体 配置数据，表单提交 1 1 人才培训 配置数据，表单提交 1 1 备注： 数字1表示最高优先级，数值递增代表优先级降低； 其中对于部分表单的配置数据暂不清楚，比如需求类别等数据在哪儿获取？这部分需要提前沟通好。 活动咨询活动从后台录入，并分类展示，同时需要报名的会有一个模板，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 分类咨询列表 数据展示 1 1 活动报名 提供模板，接收填表 2 1 咨询详情 数据展示 1 1 备注： 数字1表示最高优先级，数值递增代表优先级降低； 创新管理就是一些表单提交，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 产学研 数据展示，表单提交 1 1 技术开发 数据展示，表单提交 1 1 股权融资 数据展示，表单提交 1 1 供应链咨询 数据展示，表单提交 1 1 备注： 数字1表示最高优先级，数值递增代表优先级降低； 要弄清楚每一类的表单的具体参数 我的用户中心，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 资料完善 数据展示，表单提交 1 1 会员服务 数据展示，支付 1 1 订单服务 数据展示 1 1 设置 表单提交 0.5 1 语言切换 语言配置 0.5 1 备注： 数字1表示最高优先级，数值递增代表优先级降低； 要弄清楚每一类的表单的具体参数 小程序端与后端功能匹配，按照 UI 设计稿将交互和页面完成，并优化性能。 政策匹配模块小程序首页模块，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 规划定制–&gt;政策扶持类 数据展示和提交数据 1 1 规划定制–&gt;人才认证类 数据展示和提交数据 1 1 规划定制–&gt;企业资质类 数据展示和提交数据 1 1 规划定制–&gt;税收减免类 数据展示和提交数据 1 1 政策搜索–&gt;搜索结果列表 搜索 0.5 1 政策搜索–&gt;结果详情 详情展示 0.5 1 政策列表 数据列表 0.5 1 政策详情 详情展示 0.5 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 创业服务提供大量填表功能，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 场地套餐 配置数据，表单提交 1 1 企业服务 配置数据，表单提交 1 1 新媒体 配置数据，表单提交 1 1 人才培训 配置数据，表单提交 1 1 备注： 数字1表示最高优先级，数值递增代表优先级降低； 其中对于部分表单的配置数据暂不清楚，比如需求类别等数据在哪儿获取？这部分需要提前沟通好。 活动咨询活动从后台录入，并分类展示，同时需要报名的会有一个模板，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 分类咨询列表 数据展示 1 1 活动报名 提供模板，接收填表 1 1 咨询详情 数据展示 1 1 备注： 数字1表示最高优先级，数值递增代表优先级降低； 创新管理就是一些表单提交，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 产学研 数据展示，表单提交 1 1 技术开发 数据展示，表单提交 1 1 股权融资 数据展示，表单提交 1 1 供应链咨询 数据展示，表单提交 1 1 备注： 数字1表示最高优先级，数值递增代表优先级降低； 要弄清楚每一类的表单的具体参数 我的用户中心，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 资料完善 数据展示，表单提交 1 1 会员服务 数据展示，支付 2 1 订单服务 数据展示 1 1 设置 表单提交 0.5 1 语言切换 语言配置 1 1 备注： 数字1表示最高优先级，数值递增代表优先级降低； 要弄清楚每一类的表单的具体参数 管理系统接口该管理系统是用于平台方对项目数据的操作管理和配置，如轮播图、订单等。 政策匹配模块用于查看规划定制里接收到的表填，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 轮播图 配置首页轮播图 1 1 政策扶持类 接收查看表单 1 1 人才认证类 接收查看表单 1 1 企业资质类 接收查看表单 1 1 税收减免类 接收查看表单 1 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 创业服务模块用于查看创业服务里接收到的表填，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 场地套餐 配置首页轮播图 1 1 企业服务 接收查看表单 1 1 新媒体 接收查看表单 1 1 人才培训 接收查看表单 1 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 活动咨询模块用于查看已报名的活动用户信息，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 新增活动 后台录入添加活动 1 1 已报名 接收查看表单 1 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 创新管理模块用于查看4种提交表单，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 产学研 接收查看表单 1 1 技术开发 接收查看表单 1 1 股权融资 接收查看表单 1 1 供应链咨询 接收查看表单 1 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 用户管理用于查看用户信息，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 用户列表 查看用户的信息列表 1 1 会员列表 查看会员的信息列表 1 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 管理系统Web前端与管理系统接口匹配，用Web端展示给工作人员操作。 政策匹配模块用于查看规划定制里接收到的表填，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 轮播图 配置首页轮播图 1 1 政策扶持类 接收查看表单 1 1 人才认证类 接收查看表单 1 1 企业资质类 接收查看表单 1 1 税收减免类 接收查看表单 1 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 创业服务模块用于查看创业服务里接收到的表填，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 场地套餐 配置首页轮播图 1 1 企业服务 接收查看表单 1 1 新媒体 接收查看表单 1 1 人才培训 接收查看表单 1 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 活动咨询模块用于查看已报名的活动用户信息，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 新增活动 后台录入添加活动 1 1 已报名 接收查看表单 1 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 创新管理模块用于查看4种提交表单，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 产学研 接收查看表单 1 1 技术开发 接收查看表单 1 1 股权融资 接收查看表单 1 1 供应链咨询 接收查看表单 1 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 用户管理用于查看用户信息，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 用户列表 查看用户的信息列表 1 1 会员列表 查看会员的信息列表 1 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 测试部署 平台 内容 耗时（单位：人天） 优先级 后端 项目部署，并配合测试接口 2 1 前端小程序和管理系统 项目全部内容 2 1 建议公共仓库为方便以后文档、素材、UI等交流、存档、追溯，建议在 Github 上构建一个公共 Git 仓库作为交流工具。现 Github 仓库地址如下： https://github.com/leguang/XXX 通讯工具大家都用微信，且已经组群，那希望微信群里大家把各自备注修改一下，按 职称+称谓 的方式修改备注，以便联系时能对人对事。 追加功能以下功能为App特殊需要，没有也不会影响到正常使用，可酌情考虑是否追加 功能名称 描述 推荐理由 推送 由于小程序推送能力较弱，建议追加短信作为推送，由后台根据业务push 现在的应用如果没有推送的话，那几本就成哑巴应用了 结语以上所有文案均可商议，如有不妥之处还请谅解并指出，我们会跟进商议后修改。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FYuuChat%2F%E6%8A%A5%E4%BB%B7%E6%B8%85%E5%8D%95%2F</url>
    <content type="text"><![CDATA[YuuChat 报价清单 拟定时间：2018.12.03 报价单 功能模块 内容 优先级 登录注册bug 详见bug列表（还会继续测试） 1 im部分的bug 详见bug列表（还会继续测试） 1 支付部分bug 详见bug列表（还会继续测试） 1 朋友圈部分bug 详见bug列表（还会继续测试） 1 通讯录部分的bug 详见bug列表（还会继续测试） 1 B2C商城（新功能） 找第三方服务（对接用户系统、支付系统） 1 C2C商城（新功能） 找第三方服务（对接用户系统、支付系统） 1 替换ui及交互修改 详见ui及交互 2 im中的一对一转账（新功能） 支持app中的余额支付 2 设置页面的bug 详见bug列表（还会继续测试） 3 新闻页面的bug 3 支付历史记录（新功能） 支持更多的字段 3 其它细节优化及改动 4 注：1表示最高优先级，数值递增代表优先级降低。 预计需要：5个工程师（服务器、客户端、web）、1个测试、1个设计、1个产品（合计需要1.5个月时间） 合计报价：人民币叁拾万圆整（￥30万） 付款方式： 预付总项目款50%； 开发完成后，交付项目时支付40%； 交付完成后，提供1个月bug维护，维护期满支付剩余10%尾款。 备注：Bug列表（持续更新中） 所属模块 Bug标题 步骤 结果 会话 添加好友无法添加 会话选择添加好友【手机号18194031517】 手机号无法添加好友 会话 聊天记录图片和语音显示不 友好 1、图片显示显示模糊，图片有白边框2、语音UI不友好 聊天记录里的图片和语音不友好 会话 群聊天没有踢人功能 进入群详情选择好友 不能提群成员 会话 群公告普通成员也可以修改 普通成员进入群详情点击公告 普通成员可以修改公告 会话 解散群，群标题还在 点击解散群，会话群聊还是群标题 群已经解散，群标题还在 会话 个人聊天接受视频失败 发送视频给好友 好友接受视频失败 会话 语音通话和视屏通话，不好有很 粗糙 向好友拨打通话语音页面和视频页面很粗糙 语音和视频很粗糙 会话 发送他人名片不能添加好友 向好友发送他人名片 不能添加好友 通讯录 没有显示手机通讯录的联系人 查看手机通讯录的联系人 没有显示手机通讯录的联系人 朋友圈 朋友圈发布一张图片显示异常 朋友圈发【文字和图片】 图片没有显示 我 上传头像失败 点击头像上传图片，提示上传成功没有显示 头像显示失败 钱包充值 绑定银行卡不能充值 点击充值1元，绑定一张工商银行 充值失败 钱包 添加行用卡卡号没有判断位数 添加一张工商银行卡号卡:4556431546431 2312112104565 也能添加成功 iOS 注册收不到验证码 注册手机号:19928749185 注册收不到验证码 iOS 启动闪退 下载安装启动 启动闪退 iOS会话 聊天记录消息显示框太长 发一个字“我” 息显示框很长 iOS 朋友圈发布一张图片显示异常 朋友圈发【文字和图片】 图片没有显示 iOS 上传头像失败 点击头像上传图片，提示上传成功没有显示 头像显示失败 iOS 绑定银行卡不能充值 点击充值1元，绑定一张工商银行 充值失败 iOS 个人信息头像不显示 查看我的个人信息 头像不显示失败 UI部分修改（持续更新中） 1、会话页面：“更多”操作按键，移到顶部，变成+（和搜索到一起）、增加扫一扫，最底部 2、通讯录页面：“更多”操作按键变成：添加联系人（参见：微信） 3、通讯录中的默认头像替换 4、应用程式页面：换成和微信的发现页一样： 新闻 一类；彧城、彧店一类 5、朋友圈：”发布“功能移动到顶部； 图片视频、评论 显示参见微信 6、设置：个人信息页面 7、登录/注册页面，交互不变，样式修改 8、整个app的logo、icon替换]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FYuuChat%2FYuuChat%E5%AF%B9%E6%8E%A5%E5%95%86%E5%9F%8E%E6%94%AF%E4%BB%98%E6%8E%A5%E5%8F%A3%E5%A4%87%E5%BF%98%E5%BD%95%2F</url>
    <content type="text"><![CDATA[H5电商对接备忘录H5商城付款接口要求： 购物支付要求消费IM部分中的余额（类似微信中的零钱）。 需做支付密码（用户手输）验证，这个支付密码最终会传给我方后台验证的。 通过该接口支付的都是商场里的消费，要拿到该条订单信息与该条扣款信息一一绑定。 为满足以上需求，我们则独立出一个商场的支付接口，让H5商场开发人员来对接，至于其流程则需商议，暂时考虑有以下两种方式： H5商城点击付款，并输入密码–&gt;调用商城后台相关接口并传递相关参数（包括用户手输的支付密码）–&gt;商城后台调用我方支付接口（并把订单ID传给我方）–&gt;我方支付接口进行密码校验、扣款逻辑、查询并绑定扣款ID与订单ID后响应商城后台–&gt;如果还有其他需求可以让商城后台提供一个回调接口 H5商城点击付款–&gt;调用我方支付接口并传递相关参数（包括用户手输的支付密码）–&gt;我方支付接口进行密码校验、扣款逻辑、查询并绑定扣款ID与订单ID–&gt;回调商城后台相关接口–&gt; 经讨论基本上只有1方案是比较好的，现在需要与商城开发人员讨论一下]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FYuuChat%2FYuuChat%E5%AF%B9%E6%8E%A5%E5%95%86%E5%9F%8E%E5%A4%87%E5%BF%98%E5%BD%95%2F</url>
    <content type="text"><![CDATA[H5电商对接备忘录需求 ：支付密码校验转账校验（IM部分）由于该部分在原版本中是没有任何校验的，也就是任何人都可以转账出去，这个是非常危险的，但是由于约定工期紧张，为保证一期项目顺利交付，暂时只做本地校验，即在需要支付的地方对本地登录密码进行一次校验便可进入之前转账接口流程。可行性经讨论得到验证，要求如下： 密码存本地需进行MD5加密，校验时对用户手输的密码进行同MD5加密再对比。 每次注册、登陆、修改密码都要覆盖掉本地密码，以保证本地密码永远是最新的。 H5商城付款接口要求： 购物支付要求是消费IM部分中的余额（类似微信中的零钱）。 需做登录密码验证，这个登录密码是传给后台验证的。 通过该接口支付的都是商场里的消费，要拿到该条订单信息与该条扣款信息一一绑定。 为满足以上需求，我们则独立出一个商场的支付接口，让H5商场开发人员来对接，至于其流程则需商议，暂时考虑有以下两种方式： H5商城点击付款–&gt;调用商城后台并传递相关参数（包括用户手输的登录密码）–&gt;商城后台调用我方支付接口（并把订单ID传给我方）–&gt;我方支付接口进行密码校验、扣款逻辑、查询并绑定扣款ID与订单ID后响应商城后台–&gt;如果还有其他需求可以让商城后台提供一个回调接口 H5商城点击付款–&gt;调用我方支付接口并传递相关参数（包括用户手输的登录密码）–&gt;我方支付接口进行密码校验、扣款逻辑、查询并绑定扣款ID与订单ID–&gt;回调商城后台相关接口–&gt; 经讨论基本上只有1方案是比较好的，现在需要与商城开发人员讨论一下]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FYuuChat%2FH5%E7%94%B5%E5%95%86%E5%AF%B9%E6%8E%A5%E5%A4%87%E5%BF%98%E5%BD%95%2F</url>
    <content type="text"><![CDATA[H5电商对接备忘录需求首先需要的需求如下： App端传相关参数（token，语言标识）到H5商城后表达登录，并获取相应的语言和我们系统中的用户信息（如昵称等）； 购买商品支付时，使用余额支付（我们IM应用中利用马来西亚币充值成余额，类似微信余额）； 商户退货退款时，需退还到余额中； 购买成功后，有先关接口查看； 二次开发任务录由于H5电商这部分代码不是我们写的，如果我们要自己二次开发的话，需要做如下了解： 了解电商登录部分，后台相关处理，使我们的用户系统与之融合； 用户界面（“我的”模块）了解； 下单支付界面的了解 支付部分的了解； 订单列表接口； 退款流程； 退款处理； 相关后台管理系统处理； 注：加粗部分为重点。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E6%96%87%E6%A1%A3%2F%E5%90%88%E4%BD%9C%E5%A4%87%E5%BF%98%E5%BD%95%2F%E6%8B%9F%E5%AE%9A%E5%90%88%E5%90%8C%E5%A4%87%E5%BF%98%E5%BD%95%2F</url>
    <content type="text"><![CDATA[拟定合同备忘录 Time：2018.01.22 总计预计耗时：从设计、开发、测试、部署等一条龙服务完成后，总结如下： 所需人员：4.5人； 大概耗时：1.5个月（不包括K线部分）。 由于开发期间会经历农历新年长假，这个因素大家也要考虑进去，所以需要适当调整。 合计报价：人民币贰拾万圆整（￥20万），不包括购买K线服务。 付款方式： 预付总项目款50%； 开发完成后，交付项目时支付40%； 交付完成后，提供1个月Bug维护，维护期满支付剩余10%尾款。 备注：需求UI由我们制作全套 UI 图，有甲方确认后再转入开发阶段。 移动端（Android+iOS）概述依据当前 PC 端版本现有功能，开发相应的移动端（Android+iOS），具体功能如下图所示： 相关原型设计下载地址： https://github.com/leguang/ATMEX/tree/master/prototype 交易模块由原 PC 版中的“合约交易”、“秒合约交易”合并成一个入口，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 交易列表 “合约交易”、“秒合约交易”合并后的入口列表，对接接口 1 1 合约 合约交易详情页，包含K线图和其他交易功能，对接接口 待定（由于K线实现方案暂未定） 1 秒合约 秒合约交易详情页，包含K线图和其他交易功能，对接接口 待定（由于K线实现方案暂未定） 1 买入 买入操作，对接接口 1 1 卖出 卖出操作，对接接口 1 1 充币 充币功能，对接支付 1 1 持仓 持仓页面功能，对接接口 1 1 委托 委托列表，对接接口 1 1 成交 成交列表，对接接口 1 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 其中的耗时估算是建立在接口对接顺畅的情况下，由于后台接口需要与甲方对接，因此这部分由不定因素。 资产模块由原 PC 版中的“我的资产”、“我的持仓”合并成一个入口，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 资产列表 “我的资产”、“我的持仓”合并后的入口列表，对接接口 1 1 账单记录 所有进出账单列表 1 1 持仓页面 包括“合约交易”和“秒合约交易”的持仓信息 1.5 1 充币 只需弹框，对接接口 0.5 1 提币 提币页面，对接支付接口 1 1 换换 “合约交易”与“秒合约交易”的转换 1 1 备注： 数字1表示最高优先级，数值递增代表优先级降低； 其中的耗时估算是建立在接口对接顺畅的情况下，由于后台接口需要与甲方对接，因此这部分有不定因素。 “我的”模块（个人中心）由原 PC 版中的“个人中心”全部功能外加部分App应有特有的功能，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 “我的”页面 个人信息入口展示 0.5 1 个人信息 依据原 PC 的样式进行改造，对接接口 1 1 我的资产 跳转到上述资产页面 0 1 银行卡 依据原 PC 的样式进行改造，对接接口 1 1 忘记密码 依据原 PC 的样式进行改造，对接接口 1 1 系统通知 新增功能（需新增接口），对接接口 1 1 推广 依据原 PC 的样式进行改造，对接接口 1 1 关于我们 依据原 PC 的样式进行改造，对接接口 0 1 设置 属App特有功能 1 1 App升级（建议功能） 属App特有功能 1 1 备注： 数字1表示最高优先级，数值递增代表优先级降低； 其中的耗时估算是建立在接口对接顺畅的情况下，由于后台接口需要与甲方对接，因此这部分有不定因素。 国际化只需要支持中文和英文，这里涉及到一个问题，就是部分接口访问时，响应的结果提示，是否为后台提供？两种方案： 后台提供，则前端需要传一个语言参数放在参数位置或者在请求头里，后台也要国际化； 前后端商议一套状态码，后台只需要返回状态码，前端提前生成好对应的提示语即可。 这部分实现需要再议。 充币由于这个支付平台未接触过，是否只需要在移动端启动一个网页就可以完成，这部分还待测试才知道结果。 K线图整个项目中 UI 原生实现里，K线图这部分是最麻烦的，如果有相关成熟第三方原生插件则最好，否则就考虑相关预备方案： 这个版本先用 WebView 顶一下，具体得做实验评估； 暂时原生实现一个简陋版本； 由甲方提供指定解决方案。 当然这只是暂时的评估。 PC端在现有版本基础上，升级一下UI，包括但不限于主题色、icon、布局、交互等，开发实施有甲方自行决定。 测试部署 平台 内容 耗时（单位：人天） 优先级 Android ATMEX项目Android全部内容 2 1 iOS ATMEX项目iOS全部内容 2 1 追加功能以下功能为App特殊需要，没有也不会影响到正常使用，可酌情考虑是否追加 功能名称 描述 推荐理由 推送 移动端的notification，由后台根据业务push 一个App没有推送，那不就是个哑巴App吗？ App升级 原生实现不比Web，功能的迭代是需要下载安装等操作 大部分应用市场是禁止交易所等类型App上传的，因此需要自己提示升级]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E6%96%87%E6%A1%A3%2F%E5%90%88%E4%BD%9C%E5%A4%87%E5%BF%98%E5%BD%95%2F%E5%90%88%E4%BD%9C%E5%A4%87%E5%BF%98%E5%BD%95%2F</url>
    <content type="text"><![CDATA[备忘录 Time：2018.01.11 时间线根据要求，将合作的生命周期按时间线方式大致罗列出来，如下图所示： 步骤 时间 内容 0 2018.01.10 组群、联系、对接、确认需求 1 截止1月19号 出移动端 UI 图 2 截止1月23号 确定 UI 图 3 截止1月25号 1.评估商议工作量2.拟定合同3.签署协议/合同4.着手开发（细节商议待定） 4 截止1月30号 出 PC 端 UI 图商议确定 UI切图 5 截止合同日期 完成合同拟定中的所有开发任务 备注： PC 即电脑或平板； 以上所有时间点只是初步拟定，具体时间点均可商议； 为防止需求不明确而导致的盲目开发，因此按照标准流程，将先定 UI 后再研发，这部分工作量会在拟定合同时计入合同内。 总计综上所述，从设计、开发、测试、部署等一条龙服务完成后，总结如下： 所需人员：4.5人； 大概耗时：1.5个月（不包括K线部分）。 由于开发期间会经历农历新年长假，这个因素大家也要考虑进去，所以需要适当调整。 需求UI由我们制作全套 UI 图，有甲方确认后再转入开发阶段。 移动端（Android+iOS）概述依据当前 PC 端版本现有功能，开发相应的移动端（Android+iOS），具体功能如下图所示： 相关原型设计下载地址： https://github.com/leguang/ATMEX/tree/master/prototype 交易模块由原 PC 版中的“合约交易”、“秒合约交易”合并成一个入口，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 交易列表 “合约交易”、“秒合约交易”合并后的入口列表，对接接口 1 1 合约 合约交易详情页，包含K线图和其他交易功能，对接接口 待定（由于K线实现方案暂未定） 1 秒合约 秒合约交易详情页，包含K线图和其他交易功能，对接接口 待定（由于K线实现方案暂未定） 1 买入 买入操作，对接接口 1 1 卖出 卖出操作，对接接口 1 1 充币 充币功能，对接支付 1 1 持仓 持仓页面功能，对接接口 1 1 委托 委托列表，对接接口 1 1 成交 成交列表，对接接口 1 1 备注： 数字 1 表示最高优先级，数值递增代表优先级降低； 其中的耗时估算是建立在接口对接顺畅的情况下，由于后台接口需要与甲方对接，因此这部分由不定因素。 资产模块由原 PC 版中的“我的资产”、“我的持仓”合并成一个入口，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 资产列表 “我的资产”、“我的持仓”合并后的入口列表，对接接口 1 1 账单记录 所有进出账单列表 1 1 持仓页面 包括“合约交易”和“秒合约交易”的持仓信息 1.5 1 充币 只需弹框，对接接口 0.5 1 提币 提币页面，对接支付接口 1 1 换换 “合约交易”与“秒合约交易”的转换 1 1 备注： 数字1表示最高优先级，数值递增代表优先级降低； 其中的耗时估算是建立在接口对接顺畅的情况下，由于后台接口需要与甲方对接，因此这部分有不定因素。 “我的”模块（个人中心）由原 PC 版中的“个人中心”全部功能外加部分App应有特有的功能，包括如下功能： 功能名称 描述 耗时（单位：人天） 优先级 “我的”页面 个人信息入口展示 0.5 1 个人信息 依据原 PC 的样式进行改造，对接接口 1 1 我的资产 跳转到上述资产页面 0 1 银行卡 依据原 PC 的样式进行改造，对接接口 1 1 忘记密码 依据原 PC 的样式进行改造，对接接口 1 1 系统通知 新增功能（需新增接口），对接接口 1 1 推广 依据原 PC 的样式进行改造，对接接口 1 1 关于我们 依据原 PC 的样式进行改造，对接接口 0 1 设置 属App特有功能 1 1 App升级（建议功能） 属App特有功能 1 1 备注： 数字1表示最高优先级，数值递增代表优先级降低； 其中的耗时估算是建立在接口对接顺畅的情况下，由于后台接口需要与甲方对接，因此这部分有不定因素。 国际化只需要支持中文和英文，这里涉及到一个问题，就是部分接口访问时，响应的结果提示，是否为后台提供？两种方案： 后台提供，则前端需要传一个语言参数放在参数位置或者在请求头里，后台也要国际化； 前后端商议一套状态码，后台只需要返回状态码，前端提前生成好对应的提示语即可。 这部分实现需要再议。 充币由于这个支付平台未接触过，是否只需要在移动端启动一个网页就可以完成，这部分还待测试才知道结果。 K线图整个项目中 UI 原生实现里，K线图这部分是最麻烦的，如果有相关成熟第三方原生插件则最好，否则就考虑相关预备方案： 这个版本先用 WebView 顶一下，具体得做实验评估； 暂时原生实现一个简陋版本； 由甲方提供指定解决方案。 当然这只是暂时的评估。 PC端在现有版本基础上，升级一下UI，包括但不限于主题色、icon、布局、交互等，开发实施有甲方自行决定。 测试部署 平台 内容 耗时（单位：人天） 优先级 Android ATMEX项目Android全部内容 2 1 iOS ATMEX项目iOS全部内容 2 1 建议公共仓库为方便以后文档、素材、UI等交流、存档、追溯，建议在 Github 上构建一个公共 Git 仓库作为交流工具。现 Github 仓库地址如下： https://github.com/leguang/ATMEX 通讯工具大家都用微信，且已经组群，那希望微信群里大家把各自备注修改一下，按 职称+称谓 的方式修改备注，以便联系时能对人对事。 后台接口由于后台接口并非我方开发，希望这部分能在开发时同步进行，即时沟通，并给予相关人员配合和具体详细的描述文档等。 追加功能以下功能为App特殊需要，没有也不会影响到正常使用，可酌情考虑是否追加 功能名称 描述 推荐理由 推送 移动端的notification，由后台根据业务push 一个App没有推送，那不就是个哑巴App吗？ App升级 原生实现不比Web，功能的迭代是需要下载安装等操作 大部分应用市场是禁止交易所等类型App上传的，因此需要自己提示升级 结语以上所有文案均可商议，如有不妥之处还请谅解并指出，我们会跟进商议后修改。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E6%96%87%E6%A1%A3%2FUI%E8%AE%A8%E8%AE%BA%2FUI%E8%AE%A8%E8%AE%BA%2F</url>
    <content type="text"><![CDATA[UI讨论细节交易模块 有可能有些客户只允许合约交易，有些客户只允许秒合约交易。比如只允许合约交易的客户，他们点击秒合约进去之后，就只能够看秒合约的行情，而不允许交易。 这个问题好说，只要你接口返回相应的错误码，前端就可以做出相应的提示，不允许操作即可。 充币 充币做成H5 请问是从哪个页面开始做成H5？ 点击充币，如 图1 所示： 进入到充币页面，如 图2 所示： 提币 提币做成H5 请问是从哪个页面开始做成H5？ 点击提币，如 图3 所示： 进入到提币页面，如 图4 所示： 其他的基本没问题了]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Fplayer%2Fsplitter%2F</url>
    <content type="text"><![CDATA[/* * jQuery.splitter.js - two-pane splitter window plugin * * version 1.51 (2009/01/09) * * Dual licensed under the MIT and GPL licenses: * http://www.opensource.org/licenses/mit-license.php * http://www.gnu.org/licenses/gpl.html */ /** * The splitter() plugin implements a two-pane resizable splitter window. * The selected elements in the jQuery object are converted to a splitter; * each selected element should have two child elements, used for the panes * of the splitter. The plugin adds a third child element for the splitbar. * * For more details see: http://methvin.com/splitter/ * * * @example $('#MySplitter').splitter(); * @desc Create a vertical splitter with default settings * * @example $('#MySplitter').splitter({type: 'h', accessKey: 'M'}); * @desc Create a horizontal splitter resizable via Alt+Shift+M * * @name splitter * @type jQuery * @param Object options Options for the splitter (not required) * @cat Plugins/Splitter * @return jQuery * @author Dave Methvin (dave.methvin@gmail.com) */ ;(function($){ $.fn.splitter = function(args){ args = args || {}; return this.each(function() { var zombie; // left-behind splitbar for outline resizes function startSplitMouse(evt) { if ( opts.outline ) zombie = zombie || bar.clone(false).insertAfter(A); panes.css("-webkit-user-select", "none"); // Safari selects A/B text on a move bar.addClass(opts.activeClass); $('').insertAfter(bar); A._posSplit = A[0][opts.pxSplit] - evt[opts.eventPos]; $(document) .bind("mousemove", doSplitMouse) .bind("mouseup", endSplitMouse); } function doSplitMouse(evt) { var newPos = A._posSplit+evt[opts.eventPos]; if ( opts.outline ) { newPos = Math.max(0, Math.min(newPos, splitter._DA - bar._DA)); bar.css(opts.origin, newPos); } else resplit(newPos); } function endSplitMouse(evt) { $('div.splitterMask').remove(); bar.removeClass(opts.activeClass); var newPos = A._posSplit+evt[opts.eventPos]; if ( opts.outline ) { zombie.remove(); zombie = null; resplit(newPos); } panes.css("-webkit-user-select", "text"); // let Safari select text again $(document) .unbind("mousemove", doSplitMouse) .unbind("mouseup", endSplitMouse); } function resplit(newPos) { // Constrain new splitbar position to fit pane size limits newPos = Math.max(A._min, splitter._DA - B._max, Math.min(newPos, A._max, splitter._DA - bar._DA - B._min)); // Resize/position the two panes bar._DA = bar[0][opts.pxSplit]; // bar size may change during dock bar.css(opts.origin, newPos).css(opts.fixed, splitter._DF); A.css(opts.origin, 0).css(opts.split, newPos).css(opts.fixed, splitter._DF); B.css(opts.origin, newPos+bar._DA) .css(opts.split, splitter._DA-bar._DA-newPos).css(opts.fixed, splitter._DF); // IE fires resize for us; all others pay cash if ( !IE ) panes.trigger("resize"); } function dimSum(jq, dims) { // Opera returns -1 for missing min/max width, turn into 0 var sum = 0; for ( var i=1; i < arguments.length; i++ ) sum += Math.max(parseInt(jq.css(arguments[i])) || 0, 0); return sum; } // Determine settings based on incoming opts, element classes, and defaults var vh = (args.splitHorizontal? 'h' : args.splitVertical? 'v' : args.type) || 'v'; var opts = $.extend({ activeClass: 'active', // class name for active splitter pxPerKey: 8, // splitter px moved per keypress tabIndex: 0, // tab order indicator accessKey: '' // accessKey for splitbar },{ v: { // Vertical splitters: keyLeft: 39, keyRight: 37, cursor: "col-resize", splitbarClass: "vsplitbar", outlineClass: "voutline", type: 'v', eventPos: "pageX", origin: "left", split: "width", pxSplit: "offsetWidth", side1: "Left", side2: "Right", fixed: "height", pxFixed: "offsetHeight", side3: "Top", side4: "Bottom" }, h: { // Horizontal splitters: keyTop: 40, keyBottom: 38, cursor: "row-resize", splitbarClass: "hsplitbar", outlineClass: "houtline", type: 'h', eventPos: "pageY", origin: "top", split: "height", pxSplit: "offsetHeight", side1: "Top", side2: "Bottom", fixed: "width", pxFixed: "offsetWidth", side3: "Left", side4: "Right" } }[vh], args); // Create jQuery object closures for splitter and both panes var splitter = $(this).css({position: "relative"}); var panes = $(">*", splitter[0]).css({ position: "absolute", // positioned inside splitter container "z-index": "1", // splitbar is positioned above "-moz-outline-style": "none" // don't show dotted outline }); var A = $(panes[0]); // left or top var B = $(panes[1]); // right or bottom // Focuser element, provides keyboard support; title is shown by Opera accessKeys var focuser = $('') .attr({accessKey: opts.accessKey, tabIndex: opts.tabIndex, title: opts.splitbarClass}) .bind($.browser.opera?"click":"focus", function(){ this.focus(); bar.addClass(opts.activeClass) }) .bind("keydown", function(e){ var key = e.which || e.keyCode; var dir = key==opts["key"+opts.side1]? 1 : key==opts["key"+opts.side2]? -1 : 0; if ( dir ) resplit(A[0][opts.pxSplit]+dir*opts.pxPerKey, false); }) .bind("blur", function(){ bar.removeClass(opts.activeClass) }); // Splitbar element, can be already in the doc or we create one var bar = $(panes[2] || '') .insertAfter(A).css("z-index", "100").append(focuser) .attr({"class": opts.splitbarClass, unselectable: "on"}) .css({position: "absolute", "user-select": "none", "-webkit-user-select": "none", "-khtml-user-select": "none", "-moz-user-select": "none", "top": "0px"}) .bind("mousedown", startSplitMouse); // Use our cursor unless the style specifies a non-default cursor if ( /^(auto|default|)$/.test(bar.css("cursor")) ) bar.css("cursor", opts.cursor); // Cache several dimensions for speed, rather than re-querying constantly bar._DA = bar[0][opts.pxSplit]; splitter._PBF = $.boxModel? dimSum(splitter, "border"+opts.side3+"Width", "border"+opts.side4+"Width") : 0; splitter._PBA = $.boxModel? dimSum(splitter, "border"+opts.side1+"Width", "border"+opts.side2+"Width") : 0; A._pane = opts.side1; B._pane = opts.side2; $.each([A,B], function(){ this._min = opts["min"+this._pane] || dimSum(this, "min-"+opts.split); this._max = opts["max"+this._pane] || dimSum(this, "max-"+opts.split) || 9999; this._init = opts["size"+this._pane]===true ? parseInt($.curCSS(this[0],opts.split)) : opts["size"+this._pane]; }); // Determine initial position, get from cookie if specified var initPos = A._init; if ( !isNaN(B._init) ) // recalc initial B size as an offset from the top or left side initPos = splitter[0][opts.pxSplit] - splitter._PBA - B._init - bar._DA; if ( opts.cookie ) { if ( !$.cookie ) alert('jQuery.splitter(): jQuery cookie plugin required'); var ckpos = parseInt($.cookie(opts.cookie)); if ( !isNaN(ckpos) ) initPos = ckpos; $(window).bind("unload", function(){ var state = String(bar.css(opts.origin)); // current location of splitbar $.cookie(opts.cookie, state, {expires: opts.cookieExpires || 365, path: opts.cookiePath || document.location.pathname}); }); } if ( isNaN(initPos) ) // King Solomon's algorithm initPos = Math.round((splitter[0][opts.pxSplit] - splitter._PBA - bar._DA)/2); // Resize event propagation and splitter sizing if ( opts.anchorToWindow ) { // Account for margin or border on the splitter container and enforce min height splitter._hadjust = dimSum(splitter, "borderTopWidth", "borderBottomWidth", "marginBottom"); splitter._hmin = Math.max(dimSum(splitter, "minHeight"), 20); $(window).bind("resize", function(){ var top = splitter.offset().top; var wh = $(window).height(); splitter.css("height", Math.max(wh-top-splitter._hadjust, splitter._hmin)+"px"); if ( !IE ) splitter.trigger("resize"); }).trigger("resize"); } else if ( opts.resizeToWidth && !IE ) $(window).bind("resize", function(){ splitter.trigger("resize"); }); // Resize event handler; triggered immediately to set initial position splitter.bind("resize", function(e, size){ // Custom events bubble in jQuery 1.3; don't Yo Dawg if ( e.target != this ) return; // Determine new width/height of splitter container splitter._DF = splitter[0][opts.pxFixed] - splitter._PBF; splitter._DA = splitter[0][opts.pxSplit] - splitter._PBA; // Bail if splitter isn't visible or content isn't there yet if ( splitter._DF]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Fplayer%2Faxplayer%2F</url>
    <content type="text"><![CDATA[if (!window.$axure) window.$axure = function () { }; if (typeof console == 'undefined') console = { log: function () { } }; if(window._axUtils) $axure.utils = _axUtils; $axure.loadDocument = function(document) { $axure.document = document; }; function setUpController() { //$axure.utils = _axUtils; var _page = {}; $axure.page = _page; $axure.utils.makeBindable(_page, ['load']); var _player = function() { }; $axure.player = _player; //----------------------------------------- //Global Var array, getLinkUrl function and setGlobalVar listener are //for use in setting global vars in page url string when clicking a //page in the sitemap //----------------------------------------- var _globalVars = {}; //----------------------------------------- //Used by getLinkUrl below to check if local server is running //in order to send back the global variables as a query string //in the page url //----------------------------------------- var _shouldSendVarsToServer = function () { //If exception occurs (due to page in content frame being from a different domain, etc) //then run the check without the url (which will end up checking against sitemap url) try { var mainFrame = document.getElementById("mainFrame"); return $axure.shouldSendVarsToServer(mainFrame.contentWindow.location.href); } catch (e) { return $axure.shouldSendVarsToServer(); } }; var _getLinkUrl = function (baseUrl) { var toAdd = ''; for(var globalVarName in _globalVars) { var val = _globalVars[globalVarName]; if(val != null && val.length > 0) { if(toAdd.length > 0) toAdd += '&'; toAdd += globalVarName + '=' + encodeURIComponent(val); } } return toAdd.length > 0 ? baseUrl + (_shouldSendVarsToServer() ? '?' : '#') + toAdd + "&CSUM=1" : baseUrl; }; $axure.getLinkUrlWithVars = _getLinkUrl; $axure.messageCenter.addMessageListener(function(message, data) { if (message == 'setGlobalVar'){ _globalVars[data.globalVarName] = data.globalVarValue; } }); $axure.messageCenter.addStateListener('page.data', function (key, value) { for (var subKey in value) { _page[subKey] = value[subKey]; } $axure.page.triggerEvent('load'); }); // --------------------------------------------- // Navigates the main frame (setting the currently visible page). If the link is relative, // this method should test if it is actually a axure rp page being loaded and properly set // up all the controller for the page if it is // --------------------------------------------- _page.navigate = function (url, includeVariables) { var mainFrame = document.getElementById("mainFrame"); //var mainFrame = window.parent.mainFrame; // if this is a relative url... var urlToLoad; if (url.indexOf(':') < 0 || url[0] == '/') { var winHref = window.location.href; var page = winHref.substring(0, winHref.lastIndexOf('/') + 1) + url; urlToLoad = page; } else { urlToLoad = url; } if (!includeVariables) { mainFrame.contentWindow.location.href = urlToLoad; return; } var urlWithVars = $axure.getLinkUrlWithVars(urlToLoad); var currentData = $axure.messageCenter.getState('page.data'); var currentUrl = currentData && currentData.location; if(currentUrl && currentUrl.indexOf('#') != -1) currentUrl = currentUrl.substring(0, currentUrl.indexOf('#')) // this is so we can make sure the current frame reloads if the variables have changed // by default, if the location is the same but the hash code is different, the browser will not // trigger a reload mainFrame.contentWindow.location.href = currentUrl && urlToLoad.toLowerCase() != currentUrl.toLowerCase() ? urlWithVars : 'resources/reload.html#' + encodeURI(urlWithVars); }; var pluginIds = []; var currentVisibleHostId = null; // --------------------------------------------- // Adds a tool box frame from a url to the interface. This is useful for loading plugins // settings is an object that supports the following properties: // - id : the id of the element for the plugin // - context : the context to create the plugin host for // - title : the user-visible caption for the plugin // --------------------------------------------- _player.createPluginHost = function (settings) { // right now we only understand an interface context if (!(!settings.context || settings.context === 'interface')) { throw ('unknown context type'); } if (!settings.id) throw ('each plugin host needs an id'); var host = $('') .appendTo('#interfaceControlFrameContainer'); var isCurrentDefault = (pluginIds.length == 0); if (!isCurrentDefault) { host.hide(); } else { currentVisibleHostId = settings.id; } //$('#interfaceControlFrameHeader').append('' + settings.title + ''); var headerLink = $('' + settings.title + ''); headerLink .click($axure.utils.curry(interfaceControlHeaderButton_click, settings.id)).wrap('') .parent().appendTo('#interfaceControlFrameHeader'); if (isCurrentDefault) { headerLink.addClass('selected'); } pluginIds[pluginIds.length] = settings.id; }; // private methods var interfaceControlHeaderButton_click = function (id) { $('#interfaceControlFrameHeader a').removeClass('selected'); $('#interfaceControlFrameHeader a[pluginId=' + id + ']').addClass('selected'); $('#' + currentVisibleHostId).hide(); $('#' + id).show(); currentVisibleHostId = id; }; } function setUpDocumentStateManager() { var mgr = $axure.prototype.documentStateManager = {}; $axure.utils.makeBindable(mgr, ['globalVariableChanged']); mgr.globalVariableValues = {}; mgr.setGlobalVariable = function(varname, value, source) { var arg = {}; arg.variableName = varname; arg.newValue = value; arg.oldValue = this.getGlobalVariable(varname); arg.source = source; mgr.globalVariableValues[varname] = value; this.triggerEvent('globalVariableChanged', arg); }; mgr.getGlobalVariable = function(varname) { return mgr.globalVariableValues[varname]; }; } function setUpPageStateManager() { var mgr = $axure.prototype.pageStateManager = {}; mgr.panelToStateIds = {}; }]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fvisibility%2F</url>
    <content type="text"><![CDATA[$axure.internal(function($ax) { var document = window.document; var _visibility = {}; $ax.visibility = _visibility; var _defaultHidden = {}; var _defaultLimbo = {}; // ****************** Visibility and State Functions ****************** // var _isIdVisible = $ax.visibility.IsIdVisible = function(id) { return $ax.visibility.IsVisible(window.document.getElementById(id)); }; $ax.visibility.IsVisible = function(element) { //cannot use css('visibility') because that gets the effective visiblity //e.g. won't be able to set visibility on panels inside hidden panels return element.style.visibility != 'hidden'; }; $ax.visibility.SetIdVisible = function(id, visible) { $ax.visibility.SetVisible(window.document.getElementById(id), visible); // Hide lightbox if necessary if(!visible) { $jobj($ax.repeater.applySuffixToElementId(id, '_lightbox')).remove(); $ax.flyoutManager.unregisterPanel(id, true); } }; $ax.visibility.SetVisible = function(element, visible) { //todo -- ahhhh! I really don't want to add this, I don't know why it is necessary (right now sliding panel state out then in then out breaks //and doesn't go hidden on the second out if we do not set display here. element.style.display = visible ? '' : 'none'; element.style.visibility = visible ? 'visible' : 'hidden'; }; var _setWidgetVisibility = $ax.visibility.SetWidgetVisibility = function(elementId, options) { // If limboed, just fire the next action then leave. if(_limboIds[elementId]) { $ax.action.fireAnimationFromQueue(elementId); return; } var parentId = $jobj(elementId).parent().attr('id'); _setVisibility(parentId, elementId, options); //set the visibility of the annotation box as well if it exists var ann = document.getElementById(elementId + "_ann"); if(ann) _visibility.SetVisible(ann, options.value); //set ref visibility for ref of flow shape, if that exists var ref = document.getElementById(elementId + '_ref'); if(ref) _visibility.SetVisible(ref, options.value); }; var _setVisibility = function(parentId, childId, options) { var widget = $jobj(childId); var visible = $ax.visibility.IsIdVisible(childId); if(visible == options.value) { $ax.action.fireAnimationFromQueue(childId); return; } var child = $jobj(childId); var parent = parentId ? $jobj(parentId) : child.parent(); var needContainer = options.easing && options.easing != 'none'; var cullPosition = options.cull ? options.cull.css('position') : ''; if(needContainer) { var fixedInfo = $ax.dynamicPanelManager.getFixedInfo(childId); var containerId = childId + '_container'; var container = _makeContainer(containerId, options.cull || child, fixedInfo); container.insertBefore(child); child.appendTo(container); if(!options.settingChild) { child.css({ position: 'absolute', left: 0, top: 0, 'margin-left': 0, 'margin-top': 0 }); } } var onComplete = function() { if(needContainer) { var css = {}; if(fixedInfo.fixed) { css.position = 'fixed'; if(fixedInfo.horizontal == 'left') css.left = fixedInfo.x; else if(fixedInfo.horizontal == 'center') { css.left = '50%'; css['margin-left'] = fixedInfo.x; } else if(fixedInfo.horizontal == 'right') { css.left = 'auto'; css.right = fixedInfo.x; } if(fixedInfo.vertical == 'top') css.top = fixedInfo.y; else if(fixedInfo.vertical == 'middle') { css.top = '50%'; css['margin-top'] = fixedInfo.y; } else if(fixedInfo.vertical == 'bottom') { css.top = 'auto'; css.bottom = fixedInfo.y; } } else { css.top = Number(container.css('top').replace('px', '')) || 0; css.left = Number(container.css('left').replace('px', '')) || 0; } child.insertBefore(container); container.remove(); child.css(css); if(options.cull) options.cull.css('position', cullPosition); } options.onComplete && options.onComplete(); if(options.fire) { $ax.event.raiseSyntheticEvent(childId, options.value ? 'onShow' : 'onHide'); $ax.action.fireAnimationFromQueue(childId); } }; var size = options.size || (needContainer ? child : parent); if(!options.easing || options.easing == 'none') { $ax.visibility.SetIdVisible(childId, options.value); onComplete(); } else if(options.easing == 'fade') { if(options.value) { // Can't use $ax.visibility.SetIdVisible, because we only want to set visible, we don't want to display, fadeIn will handle that. widget.css('visibility', 'visible'); widget.fadeIn(options.duration, onComplete); } else { // Fading here is being retarded... widget.animate({ opacity: 0 }, options.duration, 'swing', function() { $ax.visibility.SetIdVisible(childId, false); widget.css('opacity', ''); onComplete(); }); } } else { if(options.value) { _slideStateIn(childId, childId, options.easing, options.direction, options.duration, size, false, onComplete); } else { var top = child.css('top'); var left = child.css('left'); var onOutComplete = function() { $ax.visibility.SetIdVisible(childId, false); child.css('top', top); child.css('left', left); onComplete(); }; _slideStateOut(size, childId, options.easing, options.direction, options.duration, onOutComplete); } } // If showing, go through all rich text objects inside you, and try to redo alignment of them if(options.value) { var descendants = $jobj(childId).find('*'); for(var i = 0; i < descendants.length; i++) { var decendantId = descendants[i].id; // This check is probably redundant? UpdateTextAlignment should ignore any text objects that haven't set the vAlign yet. if($ax.getTypeFromElementId(decendantId) != 'richTextPanel') continue; $ax.style.updateTextAlignmentForVisibility(decendantId); } } }; $ax.visibility.GetPanelState = function(id) { var children = $jobj(id).children(); for(var i = 0; i < children.length; i++) { if(children[i].style && $ax.visibility.IsVisible(children[i])) return children[i].id; } return ''; }; $ax.visibility.SetPanelState = function(id, stateId, easingOut, directionOut, durationOut, easingIn, directionIn, durationIn, showWhenSet) { var show = !$ax.visibility.IsIdVisible(id) && showWhenSet; if(show) $ax.visibility.SetIdVisible(id, true); // Exit here if already at desired state. if($ax.visibility.IsIdVisible(stateId)) { if(show) $ax.event.raiseSyntheticEvent(id, 'onShow'); $ax.action.fireAnimationFromQueue(id); return; } var state = $jobj(stateId); var oldStateId = $ax.visibility.GetPanelState(id); var oldState = $jobj(oldStateId); $ax.dynamicPanelManager.adjustFixed(id, oldState.width(), oldState.height(), state.width(), state.height()); _bringPanelStateToFront(id, oldStateId); var fitToContent = $ax.dynamicPanelManager.isIdFitToContent(id); var resized = false; if(fitToContent) { // Set resized resized = state.width() != oldState.width() || state.height() != oldState.height(); } var movement = (directionOut == 'left' || directionOut == 'up' || state.children().length == 0) && oldState.children().length != 0 ? oldState : state; var onCompleteCount = 0; var onComplete = function() { $ax.dynamicPanelManager.fitParentPanel(id); $ax.dynamicPanelManager.updatePanelPercentWidth(id); $ax.dynamicPanelManager.updatePanelContentPercentWidth(id); $ax.action.fireAnimationFromQueue(id); $ax.event.raiseSyntheticEvent(id, "onPanelStateChange"); $ax.event.leavingState(oldStateId); }; // Must do state out first, so if we cull by new state, location is correct _setVisibility(id, oldStateId, { value: false, easing: easingOut, direction: directionOut, duration: durationOut, onComplete: function() { _bringPanelStateToFront(id, stateId); if(++onCompleteCount == 2) onComplete(); }, settingChild: true, size: movement, cull: easingOut == 'none' || state.children().length == 0 ? oldState : state }); _setVisibility(id, stateId, { value: true, easing: easingIn, direction: directionIn, duration: durationIn, onComplete: function() { if(++onCompleteCount == 2) onComplete(); }, settingChild: true, size: movement }); if(show) $ax.event.raiseSyntheticEvent(id, 'onShow'); if(resized) $ax.event.raiseSyntheticEvent(id, 'onResize'); }; var _makeContainer = function(containerId, rect, fixedInfo) { var container = $(''); container.attr('id', containerId); var css = { position: 'absolute', width: rect.width(), height: rect.height(), overflow: 'hidden' }; // todo: **mas** make sure tihs is ok if(fixedInfo.fixed) { css.position = 'fixed'; if(fixedInfo.horizontal == 'left') css.left = fixedInfo.x; else if(fixedInfo.horizontal == 'center') { css.left = '50%'; css['margin-left'] = fixedInfo.x; } else if(fixedInfo.horizontal = 'right') { css.left = 'auto'; css.right = fixedInfo.x; } if(fixedInfo.vertical == 'top') css.top = fixedInfo.y; else if(fixedInfo.vertical == 'middle') { css.top = '50%'; css['margin-top'] = fixedInfo.y; } else if(fixedInfo.vertical == 'bottom') { css.top = 'auto'; css.bottom = fixedInfo.y; } } else { css.left = Number(rect.css('left').replace('px', '')) || 0; css.top = Number(rect.css('top').replace('px', '')) || 0; } container.css(css); return container; }; var _slideStateOut = function(container, stateId, easingOut, directionOut, durationOut, onComplete) { var width = container.width(); var height = container.height(); if(directionOut == "right") { $ax.move.MoveWidget(stateId, width, 0, easingOut, durationOut, false, onComplete); } else if(directionOut == "left") { $ax.move.MoveWidget(stateId, -width, 0, easingOut, durationOut, false, onComplete); } else if(directionOut == "up") { $ax.move.MoveWidget(stateId, 0, -height, easingOut, durationOut, false, onComplete); } else if(directionOut == "down") { $ax.move.MoveWidget(stateId, 0, height, easingOut, durationOut, false, onComplete); } }; var _slideStateIn = function(id, stateId, easingIn, directionIn, durationIn, container, makePanelVisible, onComplete) { var width = container.width(); var height = container.height(); var state = $jobj(stateId); var oldTop = 0; var oldLeft = 0; if(directionIn == "right") { state.css('left', oldLeft - width + 'px'); } else if(directionIn == "left") { state.css('left', oldLeft + width + 'px'); } else if(directionIn == "up") { state.css('top', oldTop + height + 'px'); } else if(directionIn == "down") { state.css('top', oldTop - height + 'px'); } if(makePanelVisible) $ax.visibility.SetIdVisible(id, true); $ax.visibility.SetIdVisible(stateId, true); if(directionIn == "right") { $ax.move.MoveWidget(stateId, width, 0, easingIn, durationIn, false, onComplete); } else if(directionIn == "left") { $ax.move.MoveWidget(stateId, -width, 0, easingIn, durationIn, false, onComplete); } else if(directionIn == "up") { $ax.move.MoveWidget(stateId, 0, -height, easingIn, durationIn, false, onComplete); } else if(directionIn == "down") { $ax.move.MoveWidget(stateId, 0, height, easingIn, durationIn, false, onComplete); } }; $ax.visibility.GetPanelStateId = function(dpId, index) { var itemNum = $ax.repeater.getItemIdFromElementId(dpId); var panelStateId = $ax.repeater.getScriptIdFromElementId(dpId) + '_state' + index; return $ax.repeater.createElementId(panelStateId, itemNum); }; var _bringPanelStateToFront = function(dpId, stateid) { $('#' + stateid).appendTo($('#' + dpId)); }; var _limboIds = _visibility.limboIds = {}; // limboId's is a dictionary of id->true, essentially a set. var _addLimboAndHiddenIds = $ax.visibility.addLimboAndHiddenIds = function(newLimboIds, newHiddenIds, query) { var limboedByMaster = {}; for(var key in newLimboIds) { if($ax.getObjectFromElementId(key).type != 'referenceDiagramObject') continue; var ids = $ax.model.idsInRdo(key); for(var i = 0; i < ids.length; i++) limboedByMaster[ids[i]] = true; } var hiddenByMaster = {}; for(key in newHiddenIds) { if($ax.getObjectFromElementId(key).type != 'referenceDiagramObject') continue; ids = $ax.model.idsInRdo(key); for(i = 0; i < ids.length; i++) hiddenByMaster[ids[i]] = true; } // Extend with children of rdos newLimboIds = $.extend(newLimboIds, limboedByMaster); newHiddenIds = $.extend(newHiddenIds, hiddenByMaster); // something is only visible if it's not hidden and limboed //if(!skipSetting) { query.each(function(diagramObject, elementId) { // Rdos already handled, contained widgets are limboed by the parent, and sub menus should be ignored if(diagramObject.type == 'referenceDiagramObject' || diagramObject.type == 'tableCell' || diagramObject.isContained || $jobj(elementId).hasClass('sub_menu')) return; if(diagramObject.type == 'table' && $jobj(elementId).parent().hasClass('ax_menu')) return; var shouldBeVisible = Boolean(!newLimboIds[elementId] && !newHiddenIds[elementId]); var isVisible = Boolean(_isIdVisible(elementId)); if(shouldBeVisible != isVisible) { _setWidgetVisibility(elementId, { value: shouldBeVisible }); } }); //} _limboIds = _visibility.limboIds = $.extend(_limboIds, newLimboIds); }; var _clearLimboAndHidden = $ax.visibility.clearLimboAndHidden = function(ids) { _limboIds = _visibility.limboIds = {}; }; $ax.visibility.clearLimboAndHiddenIds = function(ids) { for(var i = 0; i < ids.length; i++) delete _limboIds[ids[i]]; }; $ax.visibility.resetLimboAndHiddenToDefaults = function() { _clearLimboAndHidden(); _addLimboAndHiddenIds(_defaultLimbo, _defaultHidden, $ax('*')); }; $ax.visibility.initialize = function() { // initialize initial visible states $axure('*').each(function(diagramObject, elementId) { // sigh, javascript. we need the === here because undefined means not overriden if(diagramObject.style.visible === false) _defaultHidden[elementId] = true; //todo: **mas** check if the limboed widgets are hidden by default by the generator if(diagramObject.style.limbo) _defaultLimbo[elementId] = true; }); $ax.visibility.addLimboAndHiddenIds(_defaultLimbo, _defaultHidden, $ax('*')); }; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fviewer%2F</url>
    <content type="text"><![CDATA[// ******* SITEMAP TOOLBAR VIEWER ACTIONS ******** // $axure.internal(function($ax) { var userTriggeredEventNames = ['onClick', 'onDoubleClick', 'onMouseOver', 'onMouseMove', 'onMouseOut', 'onMouseDown', 'onMouseUp', 'onKeyDown', 'onKeyUp', 'onFocus', 'onLostFocus', 'onTextChange', 'onSelectionChange', 'onCheckedChange', 'onSwipeLeft', 'onSwipeRight', 'onSwipeUp', 'onSwipeDown', 'onDragStart', 'onDrag', 'onDragDrop', 'onScroll', 'onContextMenu', 'onMouseHover', 'onLongClick']; $ax.messageCenter.addMessageListener(function(message, data) { //If annotation toggle message received from sitemap, toggle footnotes if(message == 'annotationToggle') { if(data == true) { $('div.annotation').show(); $('div.annnotelabel').show(); $('div.annnoteimage').show(); } else { $('div.annotation').hide(); $('div.annnotelabel').hide(); $('div.annnoteimage').hide(); } } }); var highlightEnabled = false; $ax.messageCenter.addMessageListener(function(message, data) { if(message == 'highlightInteractive') { highlightEnabled = data == true; _applyHighlight($ax('*')); } }); var _applyHighlight = $ax.applyHighlight = function(query, ignoreUnset) { if(ignoreUnset && !highlightEnabled) return; //Do condition to check if legacy browser (all IE, except 10) and select appropriate pulsate css class name var userAgentString = navigator.userAgent.toLowerCase(); var isIEpre10 = userAgentString.indexOf('msie 9.') != -1 || userAgentString.indexOf('msie 8.') != -1 || userAgentString.indexOf('msie 7.') != -1 || userAgentString.indexOf('msie 6.') != -1; var pulsateClassName = isIEpre10 ? 'legacyPulsateBorder' : 'pulsateBorder'; //Find all widgets with a defined userTriggeredEventName specified in the array above var $matchingElements = query.filter(function(obj) { if(obj.interactionMap) { for(var index in userTriggeredEventNames) { if(obj.interactionMap[userTriggeredEventNames[index]]) return true; } } else if (obj.type == 'flowShape' && obj.referencePageUrl) { return true; } return false; }).$(); var isHighlighted = $matchingElements.is('.' + pulsateClassName); //Toggle the pulsate class on the matched elements if(highlightEnabled && !isHighlighted) { $matchingElements.addClass(pulsateClassName); } else if(!highlightEnabled && isHighlighted) { $matchingElements.removeClass(pulsateClassName); } }; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fvariables%2F</url>
    <content type="text"><![CDATA[// ******* GLOBAL VARIABLE PROVIDER ******** // $axure.internal(function($ax) { var _globalVariableValues = {}; var _globalVariableProvider = {}; $ax.globalVariableProvider = _globalVariableProvider; var setVariableValue = function(variable, value, suppressBroadcast) { if(!(value instanceof Object)) value = value.toString(); variable = variable.toLowerCase(); _globalVariableValues[variable] = value; if(suppressBroadcast !== true) { var varData = { globalVarName: variable, globalVarValue: value.toString() }; $axure.messageCenter.postMessage('setGlobalVar', varData); } //Post global var values only if pageData is loaded (suppresses exception which occurs when page loads) if($ax.pageData) { _postGlobalVarVals(); } }; _globalVariableProvider.setVariableValue = setVariableValue; var getVariableValue = function(variable, eventInfo, ignoreDefaultsForLinkUrl) { variable = variable.toLowerCase(); if(_globalVariableValues[variable] !== undefined) { //If this is for the GetLinkUrl function and //the current value of the global variable is the same as the default defined in the document, don't return it if(ignoreDefaultsForLinkUrl == true && $ax.document.globalVariables[variable] == _globalVariableValues[variable]) { return null; } return _globalVariableValues[variable]; } if($ax.document.globalVariables[variable] !== undefined) return ignoreDefaultsForLinkUrl == true ? null : $ax.document.globalVariables[variable]; switch(variable) { case "pagename": return $ax.pageData.page.name; case "now": return eventInfo.now; case "gendate": return $ax.pageData.generationDate; case "dragx": return $ax.drag.GetDragX(); case "dragy": return $ax.drag.GetDragY(); case "totaldragx": return $ax.drag.GetTotalDragX(); case "totaldragy": return $ax.drag.GetTotalDragY(); case "dragtime": return $ax.drag.GetDragTime(); case "math": return Math; case "date": return Date; case "window": return eventInfo && eventInfo.window; case "this": return eventInfo && eventInfo.thiswidget; case "item": return (eventInfo && eventInfo.item && eventInfo.item.valid && eventInfo.item) || getVariableValue('targetitem', eventInfo, ignoreDefaultsForLinkUrl); case "targetitem": return eventInfo && eventInfo.targetElement && $ax.getItemInfo(eventInfo.targetElement); case "repeater": return eventInfo && eventInfo.repeater; case "target": return eventInfo && eventInfo.targetElement && $ax.getWidgetInfo(eventInfo.targetElement); case "cursor": return eventInfo && eventInfo.cursor; default: var gen = variable.substr(0, 3) == "gen"; var date = gen ? $ax.pageData.generationDate : new Date(); var prop = gen ? variable.substr(3) : variable; switch(prop) { case "day": return date.getDate(); case "month": return date.getMonth() + 1; case "monthname": return $ax.getMonthName(date.getMonth()); case "dayofweek": return $ax.getDayOfWeek(date.getDay()); case "year": return date.getFullYear(); case "time": return date.toLocaleTimeString(); case "hours": return date.getHours(); case "minutes": return date.getMinutes(); case "seconds": return date.getSeconds(); default: return ''; } } }; _globalVariableProvider.getVariableValue = getVariableValue; var load = function() { var csum = false; var query = (window.location.href.split("#")[1] || ''); //hash.substring(1); Firefox decodes this so & in variables breaks if(query.length > 0) { var vars = query.split("&"); for(var i = 0; i < vars.length; i++) { var pair = vars[i].split("="); var varName = pair[0]; var varValue = pair[1]; if(varName) { if(varName == 'CSUM') { csum = true; } else setVariableValue(varName, decodeURIComponent(varValue), true); } } if(!csum && query.length > 250) { window.alert('Axure Warning: The variable values were too long to pass to this page.\n\nIf you are using IE, using Chrome or Firefox will support more data.'); } } }; var getLinkUrl = function(baseUrl) { var toAdd = ''; var definedVariables = _getDefinedVariables(); for(var i = 0; i < definedVariables.length; i++) { var key = definedVariables[i]; var val = getVariableValue(key, undefined, true); if(val != null && val.length > 0) { if(toAdd.length > 0) toAdd += '&'; toAdd += key + '=' + encodeURIComponent(val); } } return toAdd.length > 0 ? baseUrl + ($axure.shouldSendVarsToServer() ? '?' : '#') + toAdd + "&CSUM=1" : baseUrl; }; _globalVariableProvider.getLinkUrl = getLinkUrl; var _getDefinedVariables = function() { return $ax.pageData.variables; }; _globalVariableProvider.getDefinedVariables = _getDefinedVariables; var _postGlobalVarVals = function() { var retVal = {}; var definedVariables = _getDefinedVariables(); for(var i = 0; i < definedVariables.length; i++) { var key = definedVariables[i]; var val = getVariableValue(key); if(val != null) { retVal[key] = val; } } $ax.messageCenter.postMessage('globalVariableValues', retVal); }; $ax.messageCenter.addMessageListener(function(message, data) { if(message == 'getGlobalVariables') { _postGlobalVarVals(); } else if(message == 'resetGlobalVariables') { _globalVariableValues = {}; _postGlobalVarVals(); } }); load(); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Futils.temp%2F</url>
    <content type="text"><![CDATA[// ******* Deep Copy ******** // $axure.internal(function($ax) { // TODO: [ben] Ah, infinite loops cause major issues here. Tried saving objects we've already hit, but that didn't seem to work (at least at my first shot). var _deepCopy = function(original, trackCopies) { if(trackCopies) { var index = _getCopyIndex(original); if(index != -1) return _originalToCopy[index][1]; } var isArray = original instanceof Array; var isObject = !(original instanceof Function) && !(original instanceof Date) && (original instanceof Object); if(!isArray && !isObject) return original; var copy = isArray ? [] : { }; if(trackCopies) _originalToCopy.push([original, copy]); isArray ? deepCopyArray(original, trackCopies, copy) : deepCopyObject(original, trackCopies, copy); return copy; }; $ax.deepCopy = _deepCopy; // Hacky way to copy event info. Copying dragInfo causes major issues due to infinite loops // Hashmap doesn't map objects well. It just toStrings them, making them all the same key. This has to be slow... var _originalToCopy = []; var _getCopyIndex = function(original) { for(var i = 0; i < _originalToCopy.length; i++) if(original == _originalToCopy[i][0]) return i; return -1; }; $ax.eventCopy = function(eventInfo) { var dragInfo = eventInfo.dragInfo; delete eventInfo.dragInfo; var copy = _deepCopy(eventInfo, true); copy.dragInfo = dragInfo; eventInfo.dragInfo = dragInfo; // reset the map. _originalToCopy = []; return copy; }; var deepCopyArray = function(original, trackCopies, copy) { for(var i = 0; i < original.length; i++) { copy[i] = _deepCopy(original[i], trackCopies); } }; var deepCopyObject = function(original, trackCopies, copy) { for(var key in original) { if(!original.hasOwnProperty(key)) continue; copy[key] = _deepCopy(original[key], trackCopies); } }; // Our implementation of splice because it is broken in IE8... $ax.splice = function(array, startIndex, count) { var retval = []; if(startIndex >= array.length || startIndex < 0) return retval; if(!count || startIndex + count > array.length) count = array.length - startIndex; for(var i = 0; i < count; i++) retval[i] = array[startIndex + i]; for(i = startIndex + count; i < array.length; i++) array[i - count] = array[i]; for(i = 0; i < count; i++) array.pop(); return retval; }; }); // ******* Flow Shape Links ******** // $axure.internal(function($ax) { if(!$ax.document.configuration.linkFlowsToPages && !$ax.document.configuration.linkFlowsToPagesNewWindow) return; $(window.document).ready(function() { $ax(function(dObj) { return dObj.type == 'flowShape' && dObj.referencePageUrl; }).each(function(dObj, elementId) { var elementIdQuery = $('#' + elementId); if($ax.document.configuration.linkFlowsToPages) { elementIdQuery.css("cursor", "pointer"); elementIdQuery.click(function() { $ax.navigate({ url: dObj.referencePageUrl, target: "current", includeVariables: true }); }); } if($ax.document.configuration.linkFlowsToPagesNewWindow) { $('#' + elementId + "_ref").append(""); $('#' + elementId + "PagePopup").click(function() { $ax.navigate({ url: dObj.referencePageUrl, target: "new", includeVariables: true }); }); } }); }); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Ftree%2F</url>
    <content type="text"><![CDATA[// This is actually for BOTH trees and menus $axure.internal(function($ax) { var _tree = $ax.tree = {}; var _menu = $ax.menu = {}; $ax.menu.InitializeSubmenu = function(subMenuId, cellId) { var $submenudiv = $('#' + subMenuId); //mouseenter and leave for parent table cell $('#' + cellId).mouseenter(function(e) { //show current submenu $ax.visibility.SetIdVisible(subMenuId, true); $ax.legacy.BringToFront(subMenuId); }).mouseleave(function(e) { var offset = $submenudiv.offset(); var subcontwidth = $submenudiv.width(); var subcontheight = $submenudiv.height(); //If mouse is not within the submenu (added 3 pixel margin to top and left calculations), then close the submenu... if(e.pageX + 3 < offset.left || e.pageX > offset.left + subcontwidth || e.pageY + 3 < offset.top || e.pageY > offset.top + subcontheight) { $submenudiv.find('.sub_menu').andSelf().each(function() { $ax.visibility.SetVisible(this, false); }); $ax.style.SetWidgetHover(cellId, false); } }); $submenudiv.css('display', 'none'); //mouseleave for submenu $submenudiv.mouseleave(function(e) { //close this menu and all menus below it $(this).find('.sub_menu').andSelf().css({ 'visibility': 'hidden', 'display': 'none' }); $ax.style.SetWidgetHover(cellId, false); }); }; function IsNodeVisible(nodeId) { var current = window.document.getElementById(nodeId); var parent = current.parentNode; //move all the parent's children that are below the node and their annotations while(!$(current).hasClass("treeroot")) { if(!$ax.visibility.IsVisible(parent)) return false; current = parent; parent = parent.parentNode; } return true; } $ax.tree.ExpandNode = function(nodeId, childContainerId, plusMinusId) { var container = window.document.getElementById(childContainerId); if($ax.visibility.IsVisible(container)) return; $ax.visibility.SetVisible(container, true); if(plusMinusId != '') $ax.style.SetWidgetSelected(plusMinusId, true); var delta = _getExpandCollapseDelta(nodeId, childContainerId); var isVisible = IsNodeVisible(nodeId); var current = window.document.getElementById(nodeId); var parent = current.parentNode; //move all the parent's children that are below the node and their annotations while(!$(current).hasClass("treeroot")) { var after = false; var i = 0; for(i = 0; i < parent.childNodes.length; i++) { var child = parent.childNodes[i]; if(after && child.id && $(child).hasClass("treenode")) { var elementId = child.id; child.style.top = Number($(child).css('top').replace("px", "")) + delta + 'px'; var ann = window.document.getElementById(elementId + "_ann"); if(ann) ann.style.top = Number($(ann).css('top').replace("px", "")) + delta + 'px'; } if(child == current) after = true; } current = parent; parent = parent.parentNode; if(!isVisible && $ax.visibility.IsVisible(parent)) break; } }; $ax.tree.CollapseNode = function(nodeId, childContainerId, plusMinusId) { var container = window.document.getElementById(childContainerId); if(!$ax.visibility.IsVisible(container)) return; if(plusMinusId != '') $ax.style.SetWidgetSelected(plusMinusId, false); var delta = _getExpandCollapseDelta(nodeId, childContainerId); //hide it after getting the delta, otherwise the delta can't be calculated (offsetParent is null) $ax.visibility.SetVisible(container, false); var isVisible = IsNodeVisible(nodeId); var current = window.document.getElementById(nodeId); var parent = current.parentNode; //move all the parent's children that are below the node and their annotations while(!$(current).hasClass("treeroot")) { var after = false; var i = 0; for(i = 0; i < parent.childNodes.length; i++) { var child = parent.childNodes[i]; if(after && child.id && $(child).hasClass("treenode")) { var elementId = child.id; child.style.top = Number($(child).css('top').replace("px", "")) - delta + 'px'; var ann = window.document.getElementById(elementId + "_ann"); if(ann) ann.style.top = Number($(ann).css('top').replace("px", "")) - delta + 'px'; } if(child == current) after = true; } current = parent; parent = current.parentNode; if(!isVisible && $ax.visibility.IsVisible(parent)) break; } }; var _getExpandCollapseDelta = function(nodeId, childContainerId) { return _getChildContainerHeightHelper(childContainerId); }; var _getChildContainerHeightHelper = function(childContainerId) { var height = 0; $('#' + childContainerId).children().each(function() { if($(this).hasClass("treenode")) { height += $(this).height(); var subContainer = window.document.getElementById(this.id + '_children'); if(subContainer && $ax.visibility.IsVisible(subContainer)) { height += _getChildContainerHeightHelper(subContainer.id); } } }); return height; }; $ax.tree.InitializeTreeNode = function(nodeId, plusminusid, childContainerId, selectText) { var childContainer = window.document.getElementById(childContainerId); if(childContainer) { //relying on the html generator to put this inline so we know to collapse by default var isCollapsed = childContainer.style.visibility == "hidden"; if(isCollapsed) $ax.visibility.SetVisible(childContainer, false); if(!isCollapsed && plusminusid != '') $ax.style.SetWidgetSelected(plusminusid, true); } if(plusminusid != '') { $jobj(plusminusid).click(function() { var visibleSet = $ax.visibility.IsIdVisible(childContainerId); if(visibleSet) $ax.tree.CollapseNode(nodeId, childContainerId, plusminusid); else $ax.tree.ExpandNode(nodeId, childContainerId, plusminusid); $ax.tree.SelectTreeNode(nodeId, true); return false; }).css('cursor', 'default'); } }; var _getButtonShapeId = function(id) { var obj = $obj(id); return obj.type == 'treeNodeObject' ? $ax.getElementIdFromPath([obj.buttonShapeId], { relativeTo: id }) : id; }; $ax.tree.SelectTreeNode = function(id, selected) { $ax.style.SetWidgetSelected(_getButtonShapeId(id), selected); }; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fstyle%2F</url>
    <content type="text"><![CDATA[$axure.internal(function($ax) { var _style = {}; $ax.style = _style; var _disabledWidgets = {}; var _selectedWidgets = {}; // A table to cache the outerHTML of the _rtf elements before the rollover state is applied. var _originalTextCache = {}; // A table to exclude the normal style from adaptive overrides var _shapesWithSetRichText = {}; // just a listing of shape ids var _adaptiveStyledWidgets = {}; var _setLinkStyle = function(id, styleName) { var textId = $ax.style.GetTextIdFromLink(id); var style = _computeAllOverrides(id, textId, styleName, $ax.adaptive.currentViewId); if(!_originalTextCache[textId]) { $ax.style.CacheOriginalText(textId); } if($.isEmptyObject(style)) return; var parentObjectCache = _originalTextCache[textId].styleCache; _transformTextWithVerticalAlignment(textId, function() { var cssProps = _getCssStyleProperties(style); $('#' + id).find('*').andSelf().each(function(index, element) { element.setAttribute('style', parentObjectCache[element.id]); _applyCssProps(element, cssProps); }); }); }; var _resetLinkStyle = function(id) { var textId = $ax.style.GetTextIdFromLink(id); var parentObjectCache = _originalTextCache[textId].styleCache; _transformTextWithVerticalAlignment(textId, function() { $('#' + id).find('*').andSelf().each(function(index, element) { element.style.cssText = parentObjectCache[element.id]; }); }); if($ax.event.mouseDownObjectId) { $ax.style.SetWidgetMouseDown($ax.event.mouseDownObjectId, true); } else if($ax.event.mouseOverObjectId) { $ax.style.SetWidgetHover($ax.event.mouseOverObjectId, true); } }; $ax.style.SetLinkHover = function(id) { _setLinkStyle(id, MOUSE_OVER); }; $ax.style.SetLinkNotHover = function(id) { _resetLinkStyle(id); }; $ax.style.SetLinkMouseDown = function(id) { _setLinkStyle(id, MOUSE_DOWN); }; $ax.style.SetLinkNotMouseDown = function(id) { _resetLinkStyle(id); var style = _computeAllOverrides(id, $ax.event.mouseOverObjectId, MOUSE_OVER, $ax.adaptive.currentViewId); if(!$.isEmptyObject(style)) $ax.style.SetLinkHover(id); //we dont do anything here because the widget not mouse down has taken over here }; var _widgetHasState = function(id, state) { if($ax.style.getElementImageOverride(id, state)) return true; var diagramObject = $ax.getObjectFromElementId(id); var adaptiveIdChain = $ax.adaptive.getAdaptiveIdChain($ax.adaptive.currentViewId); for(var i = 0; i < adaptiveIdChain.length; i++) { var viewId = adaptiveIdChain[i]; var adaptiveStyle = diagramObject.adaptiveStyles[viewId]; if(adaptiveStyle && adaptiveStyle.stateStyles && adaptiveStyle.stateStyles[state]) return true; } if(diagramObject.style.stateStyles) return diagramObject.style.stateStyles[state]; return false; }; // Returns what overrides the hover, or false if nothing. var _hoverOverride = function(id) { if($ax.style.IsWidgetDisabled(id)) return DISABLED; if($ax.style.IsWidgetSelected(id)) return SELECTED; var obj = $ax.getObjectFromElementId(id); if(!obj.isContained) return false; var path = $ax.getPathFromScriptId($ax.repeater.getScriptIdFromElementId(id)); path[path.length - 1] = obj.parent.id; var itemId = $ax.repeater.getItemIdFromElementId(id); return _hoverOverride($ax.getElementIdFromPath(path, { itemNum: itemId })); }; $ax.style.SetWidgetHover = function(id, value) { var override = _hoverOverride(id); if(override == DISABLED) return; if(!_widgetHasState(id, MOUSE_OVER)) return; var valToSet = value || _isRolloverOverride(id); var state = _generateMouseState(id, valToSet ? MOUSE_OVER : NORMAL, override == SELECTED); _applyImageAndTextJson(id, state); _updateElementIdImageStyle(id, state); }; var _rolloverOverrides = []; var _isRolloverOverride = function(id) { return _rolloverOverrides.indexOf(id) != -1; }; $ax.style.AddRolloverOverride = function(id) { if(_isRolloverOverride(id)) return; _rolloverOverrides[_rolloverOverrides.length] = id; if($ax.event.mouseOverIds.indexOf(id) == -1) $ax.style.SetWidgetHover(id, true); }; $ax.style.RemoveRolloverOverride = function(id) { var index = _rolloverOverrides.indexOf(id); if(index == -1) return; $ax.splice(_rolloverOverrides, index, 1); if($ax.event.mouseOverIds.indexOf(id) == -1) $ax.style.SetWidgetHover(id, false); }; // function GetWidgetCurrentState(id) { // if($ax.style.IsWidgetDisabled(id)) return "disabled"; // if($ax.style.IsWidgetSelected(id)) return "selected"; // if($ax.event.mouseOverObjectId == id) return "mouseOver"; // if($ax.event.mouseDownObjectId == id) return "mouseDown"; // return "normal"; // } $ax.style.ObjHasMouseDown = function(id) { var obj = $obj(id); return $ax.style.getElementImageOverride(id, 'mouseDown') || obj.style && obj.style.stateStyles && obj.style.stateStyles.mouseDown; }; $ax.style.SetWidgetMouseDown = function(id, value) { if($ax.style.IsWidgetDisabled(id)) return; if(!_widgetHasState(id, MOUSE_DOWN)) return; // ApplyImageAndTextJson(id, value ? 'mouseDown' : !$.isEmptyObject(GetStyleForState(id, null, 'mouseOver')) ? 'mouseOver' : 'normal'); var state = _generateMouseState(id, value ? MOUSE_DOWN : MOUSE_OVER, $ax.style.IsWidgetSelected(id)); _applyImageAndTextJson(id, state); _updateElementIdImageStyle(id, state); }; var _generateMouseState = function(id, mouseState, selected) { if(selected) { var viewChain = $ax.adaptive.getAdaptiveIdChain($ax.adaptive.currentViewId); viewChain[viewChain.length] = ''; var obj = $obj(id); if(obj.type == "dynamicPanel") return SELECTED; var any = function(dict) { for(var key in dict) return true; return false; }; for(var i = 0; i < viewChain.length; i++) { var viewId = viewChain[i]; // Need to check seperately for images. if(obj.adaptiveStyles && obj.adaptiveStyles[viewId] && any(obj.adaptiveStyles[viewId]) || obj.images && obj.images['selected~' + viewId]) return SELECTED; } var selectedStyle = obj.style && obj.style.stateStyles && obj.style.stateStyles.selected; if(selectedStyle && any(selectedStyle)) return SELECTED; } // Not using selected return mouseState; }; $ax.style.SetWidgetSelected = function(id, value, alwaysApply) { if($ax.style.IsWidgetDisabled(id)) return; if(value) { var group = $('#' + id).attr('selectiongroup'); if(group) { $("[selectiongroup='" + group + "']").each(function() { var otherId = this.id; if(otherId == id) return; $ax.style.SetWidgetSelected(otherId, false); }); } } var obj = $obj(id); if(obj) { if(obj.type == 'dynamicPanel') { var children = $axure('#' + id).getChildren()[0].children; for(var i = 0; i < children.length; i++) { var childId = children[i]; // Special case for trees var childObj = $jobj(childId); if(childObj.hasClass('treeroot')) { var treenodes = childObj.find('.treenode'); for(var j = 0; j < treenodes.length; j++) { $axure('#' + treenodes[j].id).selected(value); } } else $axure('#' + childId).selected(value); } } else { while(obj.isContained && !_widgetHasState(id, 'selected')) obj = obj.parent; var itemId = $ax.repeater.getItemIdFromElementId(id); var path = $ax.getPathFromScriptId($ax.repeater.getScriptIdFromElementId(id)); path[path.length - 1] = obj.id; id = $ax.getElementIdFromPath(path, { itemNum: itemId }); if(alwaysApply || _widgetHasState(id, SELECTED)) { var state = _generateSelectedState(id, value); _applyImageAndTextJson(id, state); _updateElementIdImageStyle(id, state); } } } // ApplyImageAndTextJson(id, value ? 'selected' : 'normal'); _selectedWidgets[id] = value; }; var _generateSelectedState = function(id, selected) { var mouseState = $ax.event.mouseDownObjectId == id ? MOUSE_DOWN : $ax.event.mouseOverIds.indexOf(id) != -1 ? MOUSE_OVER : NORMAL; return _generateMouseState(id, mouseState, selected); }; $ax.style.IsWidgetSelected = function(id) { return Boolean(_selectedWidgets[id]); }; $ax.style.SetWidgetEnabled = function(id, value) { _disabledWidgets[id] = !value; $('#' + id).find('a').css('cursor', value ? 'pointer' : 'default'); if(!_widgetHasState(id, DISABLED)) return; if(!value) { _applyImageAndTextJson(id, DISABLED); _updateElementIdImageStyle(id, DISABLED); } else $ax.style.SetWidgetSelected(id, $ax.style.IsWidgetSelected(id), true); }; $ax.style.SetWidgetPlaceholder = function(id, value, text, password) { var inputId = $ax.repeater.applySuffixToElementId(id, '_input'); // Right now this is the only style on the widget. If other styles (ex. Rollover), are allowed // on TextBox/TextArea, or Placeholder is applied to more widgets, this may need to do more. var obj = $jobj(inputId); if(!value) { obj.attr('style', ''); try { //ie8 and below error if(password) document.getElementById(inputId).type = 'password'; } catch(e) { } } else { var style = _computeAllOverrides(id, undefined, HINT, $ax.adaptive.currentViewId); var styleProperties = _getCssStyleProperties(style); //moved this out of GetCssStyleProperties for now because it was breaking un/rollovers with gradient fills if(style.fill) styleProperties.runProps.backgroundColor = _getColorFromFill(style.fill); _applyCssProps($('#' + inputId)[0], styleProperties); try { //ie8 and below error if(password) document.getElementById(inputId).type = 'text'; } catch(e) { } } obj.val(text); }; var _isWidgetDisabled = $ax.style.IsWidgetDisabled = function(id) { return Boolean(_disabledWidgets[id]); }; var _elementIdsToImageOverrides = {}; $ax.style.mapElementIdToImageOverrides = function(elementId, override) { _elementIdsToImageOverrides[elementId] = override; }; $ax.style.deleteElementIdToImageOverride = function(elementId) { delete _elementIdsToImageOverrides[elementId]; }; $ax.style.getElementImageOverride = function(elementId, state) { var url = _elementIdsToImageOverrides[elementId] && _elementIdsToImageOverrides[elementId][state]; return url; }; $ax.style.elementHasAnyImageOverride = function(elementId) { return Boolean(_elementIdsToImageOverrides[elementId]); }; var NORMAL = 'normal'; var MOUSE_OVER = 'mouseOver'; var MOUSE_DOWN = 'mouseDown'; var SELECTED = 'selected'; var DISABLED = 'disabled'; var HINT = 'hint'; var _generateState = _style.generateState = function(id) { return _style.IsWidgetDisabled(id) ? DISABLED : _generateSelectedState(id, _style.IsWidgetSelected(id)); }; var _progressState = _style.progessState = function(state) { if(state == NORMAL) return false; if(state == MOUSE_DOWN) return MOUSE_OVER; return NORMAL; }; var _unprogressState = function(state, goal) { state = state || NORMAL; if(state == goal) return undefined; if(state == NORMAL && goal == MOUSE_DOWN) return MOUSE_OVER; return goal; }; var _updateElementIdImageStyle = _style.updateElementIdImageStyle = function(elementId, state) { if(!_style.elementHasAnyImageOverride(elementId)) return; if(!state) state = _generateState(elementId); var obj = $obj(elementId); var style = obj.style; var stateStyle = state == NORMAL ? style : style && style.stateStyles && style.stateStyles[state]; if(!stateStyle && !_style.getElementImageOverride(elementId, state)) { state = _progressState(state); if(state) _updateElementIdImageStyle(elementId, state); return; } var computedStyle = _style.computeAllOverrides(elementId, undefined, state, $ax.adaptive.currentViewId); var defaultStyle = $ax.document.stylesheet.defaultStyles[obj.type]; var query = $jobj($ax.repeater.applySuffixToElementId(elementId, '_img')); var borderId = $ax.repeater.applySuffixToElementId(elementId, '_border'); var borderQuery = $jobj(borderId); if(!borderQuery.length) { borderQuery = $(''); borderQuery.attr('id', borderId); query.after(borderQuery); } borderQuery.attr('style', ''); borderQuery.css('position', 'absolute'); query.attr('style', ''); var borderWidth = Number(computedStyle.borderWidth || style.borderWidth || defaultStyle.borderWidth); var hasBorderWidth = borderWidth > 0; if(hasBorderWidth) { borderQuery.css('border-style', 'solid'); borderQuery.css('border-width', borderWidth + 'px'); borderQuery.css('width', style.size.width - borderWidth * 2); borderQuery.css('height', style.size.height - borderWidth * 2); } var linePattern = computedStyle.linePattern || style.linePattern || defaultStyle.linePattern; if(hasBorderWidth && linePattern) borderQuery.css('border-style', linePattern); var borderFill = computedStyle.borderFill || style.borderFill || defaultStyle.borderFill; if(hasBorderWidth && borderFill) { var color = borderFill.fillType == 'solid' ? borderFill.color : borderFill.fillType == 'linearGradient' ? borderFill.colors[0].color : 0; var alpha = Math.floor(color / 256 / 256 / 256); color -= alpha * 256 * 256 * 256; alpha = alpha / 255; var red = Math.floor(color / 256 / 256); color -= red * 256 * 256; var green = Math.floor(color / 256); var blue = color - green * 256; borderQuery.css('border-color', _rgbaToFunc(red, green, blue, alpha)); } var cornerRadiusTopLeft = computedStyle.cornerRadiusTopLeft || style.cornerRadiusTopLeft || defaultStyle.cornerRadiusTopLeft; if(cornerRadiusTopLeft) { query.css('border-radius', cornerRadiusTopLeft + 'px'); borderQuery.css('border-radius', cornerRadiusTopLeft + 'px'); } var outerShadow = computedStyle.outerShadow || style.outerShadow || defaultStyle.outerShadow; if(outerShadow && outerShadow.on) { var arg = ''; arg += outerShadow.offsetX + 'px' + ' ' + outerShadow.offsetY + 'px' + ' '; var rgba = outerShadow.color; arg += outerShadow.blurRadius + 'px' + ' 0px ' + _rgbaToFunc(rgba.r, rgba.g, rgba.b, rgba.a); query.css('-moz-box-shadow', arg); query.css('-wibkit-box-shadow', arg); query.css('box-shadow', arg); query.css('width', style.size.width); query.css('height', style.size.height); query.css('left', '0px'); query.css('top', '0px'); } }; var _rgbaToFunc = function(red, green, blue, alpha) { return 'rgba(' + red + ',' + green + ',' + blue + ',' + alpha + ')'; }; //function $ax.style.GetTextIdFromShape(id) { // return $.grep( // $('#' + id).children().map(function (i, obj) { return obj.id; }), // all the child ids // function (item) { return item.indexOf(id) < 0; })[0]; // that are not similar to the parent //} var _getButtonShapeId = function(id) { var obj = $obj(id); return obj.type == 'treeNodeObject' ? $ax.getElementIdFromPath([obj.buttonShapeId], { relativeTo: id }) : id; }; var _getButtonShape = function(id) { var obj = $obj(id); // some treeNodeObjects don't have button shapes return $jobj(obj.type == 'treeNodeObject' && obj.buttonShapeId ? $ax.getElementIdFromPath([obj.buttonShapeId], { relativeTo: id }) : id); }; var _getTextIdFromShape = $ax.style.GetTextIdFromShape = function(id) { return _getButtonShape(id).find('.text').attr('id'); }; $ax.style.GetTextIdFromLink = function(id) { return $jobj(id).parentsUntil('.text').parent().attr('id'); }; var _getShapeIdFromText = $ax.style.GetShapeIdFromText = function(id) { if(!id) return undefined; // this is to prevent an infinite loop. //return $jobj(id).parent().attr('id'); var current = $jobj(id).parent(); while(!current.is("body")) { var id = current.attr('id'); if(id && id != 'base') return id; current = current.parent(); } return undefined; }; $ax.style.GetImageIdFromShape = function(id) { var image = _getButtonShape(id).find('img[id$=img]'); if(!image.length) image = $jobj(id).find('img[id$=image_sketch]'); return image.attr('id'); }; var _applyImageAndTextJson = function(id, event) { var textId = $ax.style.GetTextIdFromShape(id); _resetTextJson(id, textId); // This should never be the case //if(event != '') { var imgQuery = $jobj($ax.style.GetImageIdFromShape(id)); var e = imgQuery.data('events'); if(e && e[event]) imgQuery.trigger(event); var imageUrl = $ax.adaptive.getImageForStateAndView(id, event); if(imageUrl) _applyImage(id, imageUrl, event); var style = _computeAllOverrides(id, undefined, event, $ax.adaptive.currentViewId); if(!$.isEmptyObject(style)) { _applyTextStyle(textId, style); } }; /* ------------------- here's the algorithm in a nutshell: [DOWN] -- refers to navigation down the view inheritance heirarchy (default to most specific) [UP] -- navigate up the heirarchy ComputeAllOverrides (object): All view styles [DOWN] If hyperlink - DO ComputeStateStyle for parent object - if (MouseOver || MouseDown) - linkMouseOver Style - if (MouseDown) - linkMouseDown style - ComputeStateStyleForViewChain (parent, STATE) if (MouseDown) DO ComputeStateStyleForViewChain for object, mouseOver DO ComputeStateStyleForViewChain for object, style ComputeStateStyleForViewChain (object, STATE) FIRST STATE state style [UP] the chain OR default object STATE style ------------------- */ var FONT_PROPS = { 'typeface': true, 'fontName': true, 'fontWeight': true, 'fontStyle': true, 'fontStretch': true, 'fontSize': true, 'underline': true, 'foreGroundFill': true, 'horizontalAlignment': true }; var _computeAllOverrides = $ax.style.computeAllOverrides = function(id, parentId, state, currentViewId) { var computedStyle = {}; var diagramObject = $ax.getObjectFromElementId(id); var viewIdChain = $ax.adaptive.getAdaptiveIdChain(currentViewId); var excludeFont = _shapesWithSetRichText[id]; for(var i = 0; i < viewIdChain.length; i++) { var viewId = viewIdChain[i]; var style = diagramObject.adaptiveStyles[viewId]; if(style) { // we want to exclude the normal font style for shapes where the rich text has been set with an interaction // so we copy the style so we don't modify the original, then delete all the font props. if(excludeFont) { style = $ax.deepCopy(style); for(var prop in FONT_PROPS) delete style[prop]; } if(style) { var customStyle = style.baseStyle && $ax.document.stylesheet.stylesById[style.baseStyle]; //make sure not to extend the customStyle this can mutate it for future use $.extend(computedStyle, customStyle); } $.extend(computedStyle, style); } } var isHyperlink = Boolean(parentId); var currState = NORMAL; while(currState) { if(isHyperlink && (currState == MOUSE_DOWN || currState == MOUSE_OVER)) { var key = currState == MOUSE_OVER ? 'hyperlinkMouseOver' : 'hyperlinkMouseDown'; $.extend(computedStyle, $ax.document.stylesheet.defaultStyles[key]); } $.extend(computedStyle, _computeStateStyleForViewChain(diagramObject, currState, viewIdChain, true)); currState = _unprogressState(currState, state); } return _removeUnsupportedProperties(computedStyle, diagramObject.type); }; var _computeStateStyleForViewChain = function(diagramObject, state, viewIdChain, excludeNormal) { var styleObject = diagramObject; while(styleObject.isContained) styleObject = styleObject.parent; var adaptiveStyles = styleObject.adaptiveStyles; for(var i = viewIdChain.length - 1; i >= 0; i--) { var viewId = viewIdChain[i]; var viewStyle = adaptiveStyles[viewId]; var stateStyle = viewStyle && _getFullStateStyle(viewStyle, state, excludeNormal); if(stateStyle) return $.extend({}, stateStyle); } // we dont want to actually include the object style because those are not overrides, hence the true for "excludeNormal" and not passing the val through var stateStyleFromDefault = _getFullStateStyle(styleObject.style, state, true); return $.extend({}, stateStyleFromDefault); }; // returns the full effective style for an object in a state state and view var _computeFullStyle = function(id, state, currentViewId) { var obj = $obj(id); var overrides = _computeAllOverrides(id, undefined, state, currentViewId); // todo: account for image box var objStyle = obj.style; var customStyle = objStyle.baseStyle && $ax.document.stylesheet.stylesById[objStyle.baseStyle]; var returnVal = $.extend({}, $ax.document.stylesheet.defaultStyles[obj.styleType], customStyle, objStyle, overrides); return _removeUnsupportedProperties(returnVal, obj.type); }; var _removeUnsupportedProperties = function(style, objectType) { // for now all we need to do is remove padding from checkboxes and radio buttons if(objectType == 'radioButton' || objectType == 'checkbox') { style.paddingTop = 0; style.paddingLeft = 0; style.paddingRight = 0; style.paddingBottom = 0; } return style; }; var _getFullStateStyle = function(style, state, excludeNormal) { //'normal' is needed because now DiagramObjects get their image from the Style and unapplying a rollover needs the image var stateStyle = state == 'normal' && !excludeNormal ? style : style && style.stateStyles && style.stateStyles[state]; if(stateStyle) { var customStyle = stateStyle.baseStyle && $ax.document.stylesheet.stylesById[stateStyle.baseStyle]; //make sure not to extend the customStyle this can mutate it for future use return $.extend({}, customStyle, stateStyle); } return undefined; }; // commented this out for now... we actually will probably need it for ie var _applyOpacityFromStyle = $ax.style.applyOpacityFromStyle = function(id, style) { return; var opacity = style.opacity || ''; $jobj(id).children().css('opacity', opacity); }; var _initialize = function() { //being handled at on window.load //$ax.style.initializeObjectTextAlignment($ax('*')); }; $ax.style.initialize = _initialize; var _initTextAlignment = function(elementId) { var textId = _getTextIdFromShape(elementId); _storeIdToAlignProps(textId); // now handle vertical alignment if(_getObjVisible(textId)) { _setTextAlignment(textId, _idToAlignProps[textId], false); } }; $ax.style.initializeObjectTextAlignment = function(query) { query.filter(function(diagramObject) { return diagramObject.type == 'buttonShape' || diagramObject.type == 'flowShape' || diagramObject.type == 'imageBox'; }).each(function(diagramObject, elementId) { if($jobj(elementId).length == 0) return; _initTextAlignment(elementId); }); }; var _storeIdToAlignProps = function(textId) { var shapeId = _getShapeIdFromText(textId); var state = _generateState(shapeId); var style = _computeFullStyle(shapeId, state, $ax.adaptive.currentViewId); var vAlign = style.verticalAlignment || 'middle'; var paddingTop = style.paddingTop || 0; var paddingBottom = style.paddingBottom || 0; _idToAlignProps[textId] = { vAlign: vAlign, paddingTop: paddingTop, paddingBottom: paddingBottom }; }; var ALL_STATES = ['mouseOver', 'mouseDown', 'selected', 'disabled']; var _applyImage = $ax.style.applyImage = function(id, imgUrl, state) { var imgQuery = $jobj($ax.style.GetImageIdFromShape(id)); var idQuery = $jobj(id); var _updateClass = function() { for(var i = 0; i < ALL_STATES.length; i++) { idQuery.removeClass(ALL_STATES[i]); imgQuery.removeClass(ALL_STATES[i]); } if(state != 'normal') { idQuery.addClass(state); imgQuery.addClass(state); } }; if(imgQuery.attr('src') != imgUrl) { imgQuery[0].onload = function() { _updateClass(); // IE 8 can't set onload to undefined if(IE && BROWSER_VERSION 0) imgQuery.css('border', 'none'); if(imgUrl.indexOf(".png") > -1) $ax.utils.fixPng(imgQuery[0]); }; var _resetTextJson = function(id, textid) { // reset the opacity $jobj(id).children().css('opacity', ''); var cacheObject = _originalTextCache[textid]; if(cacheObject) { _transformTextWithVerticalAlignment(textid, function() { var styleCache = cacheObject.styleCache; var textQuery = $('#' + textid); textQuery.find('*').each(function(index, element) { element.style.cssText = styleCache[element.id]; }); }); } }; // Preserves the alingment for the element textid after executing transformFn var _getRtfElementHeight = function(rtfElement) { if(rtfElement.innerHTML == '') rtfElement.innerHTML = '&nbsp;'; // To handle render text as image var images = $(rtfElement).children('img'); if(images.length) return images.height(); return rtfElement.offsetHeight; }; // why microsoft decided to default to round to even is beyond me... var _roundToEven = function(number) { var numString = number.toString(); var parts = numString.split('.'); if(parts.length == 1) return number; if(parts[1].length == 1 && parts[1] == '5') { var wholePart = Number(parts[0]); return wholePart % 2 == 0 ? wholePart : wholePart + 1; } else return Math.round(number); }; var _transformTextWithVerticalAlignment = $ax.style.transformTextWithVerticalAlignment = function(textId, transformFn) { if(!_originalTextCache[textId]) { $ax.style.CacheOriginalText(textId); } var rtfElement = window.document.getElementById(textId); if(!rtfElement) return; transformFn(); _storeIdToAlignProps(textId); $ax.style.updateTextAlignmentForVisibility(textId); }; // this is for vertical alignments set on hidden objects var _idToAlignProps = {}; $ax.style.updateTextAlignmentForVisibility = function(textId) { var alignProps = _idToAlignProps[textId]; if(!alignProps || !_getObjVisible(textId)) return; _setTextAlignment(textId, alignProps); }; var _getObjVisible = _style.getObjVisible = function(id) { var element = document.getElementById(id); return element && (element.offsetWidth || element.offsetHeight); }; var _setTextAlignment = function(textId, alignProps, updateProps) { if(updateProps) { _storeIdToAlignProps(textId); } if(!alignProps) return; var vAlign = alignProps.vAlign; var paddingTop = Number(alignProps.paddingTop); var paddingBottom = Number(alignProps.paddingBottom); var textObj = $jobj(textId); var textHeight = _getRtfElementHeight(textObj[0]); var textObjParent = textObj.parent(); var containerHeight = textObjParent.height(); var newTop = 0; if(vAlign == "middle") { newTop = _roundToEven((containerHeight - textHeight + paddingTop - paddingBottom) / 2); } else if(vAlign == "bottom") { newTop = _roundToEven(containerHeight - textHeight - paddingBottom); } else { // else top align newTop = _roundToEven(paddingTop); } var oldTop = $jobj(textId).css('top').replace('px', ''); if(oldTop != newTop) { textObj.css('top', newTop + 'px'); _updateTransformOrigin(textId); } }; var _updateTransformOrigin = function(textId) { var textObj = $jobj(textId); var transformOrigin = textObj.css('-webkit-transform-origin') || textObj.css('-moz-transform-origin') || textObj.css('-ms-transform-origin') || textObj.css('transform-origin'); if(transformOrigin) { var textObjParent = textObj.parent(); var newX = (textObjParent.width() / 2 - textObj.css('left').replace('px', '')); var newY = (textObjParent.height() / 2 - textObj.css('top').replace('px', '')); var newOrigin = newX + 'px ' + newY + 'px'; textObj.css('-webkit-transform-origin', newOrigin); textObj.css('-moz-transform-origin', newOrigin); textObj.css('-ms-transform-origin', newOrigin); textObj.css('transform-origin', newOrigin); } }; $ax.style.clearAdaptiveStyles = function() { for(var shapeId in _adaptiveStyledWidgets) { var elementIds = [shapeId]; var repeaterId = $ax.getParentRepeaterFromScriptId(shapeId); if(repeaterId) { var itemIds = $ax.getItemIdsForRepeater(repeaterId); elementIds = []; for(var i = 0; i < itemIds; i++) elementIds.push($ax.repeater.createElementId(shapeId, itemIds[i])); } for(var index = 0; index < elementIds.length; index++) { var elementId = _getButtonShapeId(elementIds[index]); if(elementId) { var textId = $ax.style.GetTextIdFromShape(elementId); _resetTextJson(elementId, textId); _applyImageAndTextJson(elementId, $ax.style.generateState(elementId)); } } } _adaptiveStyledWidgets = {}; }; $ax.style.setAdaptiveStyle = function(shapeId, style) { _adaptiveStyledWidgets[$ax.repeater.getScriptIdFromElementId(shapeId)] = style; var textId = $ax.style.GetTextIdFromShape(shapeId); if(textId) _applyTextStyle(textId, style); // removing this for now // if(style.location) { // $jobj(shapeId).css('top', style.location.x + "px") // .css('left', style.location.y + "px"); // } }; //------------------------------------------------------------------------- // _applyTextStyle // // Applies a rollover style to a text element. // id : the id of the text object to set. // styleProperties : an object mapping style properties to values. eg: // { 'fontWeight' : 'bold', // 'fontStyle' : 'italic' } //------------------------------------------------------------------------- var _applyTextStyle = function(id, style) { _transformTextWithVerticalAlignment(id, function() { var styleProperties = _getCssStyleProperties(style); $('#' + id).find('*').each(function(index, element) { _applyCssProps(element, styleProperties); }); }); }; var _applyCssProps = function(element, styleProperties) { var nodeName = element.nodeName.toLowerCase(); if(nodeName == 'p') { var parProps = styleProperties.parProps; for(var prop in parProps) element.style[prop] = parProps[prop]; } else if(nodeName != 'a') { var runProps = styleProperties.runProps; for(prop in runProps) element.style[prop] = runProps[prop]; } }; var _getCssShadow = function(shadow) { return !shadow.on ? "none" : shadow.offsetX + "px " + shadow.offsetY + "px " + shadow.blurRadius + "px " + _getCssColor(shadow.color); }; var _getCssStyleProperties = function(style) { var toApply = {}; toApply.runProps = {}; toApply.parProps = {}; if(style.fontName) toApply.runProps.fontFamily = style.fontName; // we need to set font size on both runs and pars because otherwise it well mess up the measure and thereby vertical alignment if(style.fontSize) toApply.runProps.fontSize = toApply.parProps.fontSize = style.fontSize; if(style.fontWeight !== undefined) toApply.runProps.fontWeight = style.fontWeight; if(style.fontStyle !== undefined) toApply.runProps.fontStyle = style.fontStyle; if(style.underline !== undefined) toApply.runProps.textDecoration = style.underline ? 'underline' : 'none'; if(style.foreGroundFill) { toApply.runProps.color = _getColorFromFill(style.foreGroundFill); if(style.foreGroundFill.opacity) toApply.runProps.opacity = style.foreGroundFill.opacity; } if(style.horizontalAlignment) toApply.parProps.textAlign = style.horizontalAlignment; if(style.lineSpacing) toApply.parProps.lineHeight = style.lineSpacing; if(style.textShadow) toApply.parProps.textShadow = _getCssShadow(style.textShadow); return toApply; }; var _getColorFromFill = function(fill) { var fillString = '00000' + fill.color.toString(16); return '#' + fillString.substring(fillString.length - 6); }; var _getCssColor = function(rgbaObj) { return "rgba(" + rgbaObj.r + ", " + rgbaObj.g + ", " + rgbaObj.b + ", " + rgbaObj.a + ")"; }; // //-------------------------------------------------------------------------- // // ApplyStyleRecursive // // // // Applies a style recursively to all span and div tags including elementNode // // and all of its children. // // // // element : the element to apply the style to // // styleName : the name of the style property to set (eg. 'font-weight') // // styleValue : the value of the style to set (eg. 'bold') // //-------------------------------------------------------------------------- // function ApplyStyleRecursive(element, styleName, styleValue) { // var nodeName = element.nodeName.toLowerCase(); // if (nodeName == 'div' || nodeName == 'span' || nodeName == 'p') { // element.style[styleName] = styleValue; // } // for (var i = 0; i < element.childNodes.length; i++) { // ApplyStyleRecursive(element.childNodes[i], styleName, styleValue); // } // } // //--------------------------------------------------------------------------- // // ApplyTextProperty // // // // Applies a text property to rtfElement. // // // // rtfElement : the the root text element of the rtf object (this is the // // element named _rtf // // prop : the style property to set. // // value : the style value to set. // //--------------------------------------------------------------------------- // function ApplyTextProperty(rtfElement, prop, value) { // /* // var oldHtml = rtfElement.innerHTML; // if (prop == 'fontWeight') { // rtfElement.innerHTML = oldHtml.replace(/< *b *\/?>/gi, ""); // } else if (prop == 'fontStyle') { // rtfElement.innerHTML = oldHtml.replace(/< *i *\/?>/gi, ""); // } else if (prop == 'textDecoration') { // rtfElement.innerHTML = oldHtml.replace(/< *u *\/?>/gi, ""); // } // */ // for (var i = 0; i < rtfElement.childNodes.length; i++) { // ApplyStyleRecursive(rtfElement.childNodes[i], prop, value); // } // } //} //--------------------------------------------------------------------------- // GetAndCacheOriginalText // // Gets the html for the pre-rollover state and returns the Html representing // the Rich text. //--------------------------------------------------------------------------- var CACHE_COUNTER = 0; $ax.style.CacheOriginalText = function(textId, hasRichTextBeenSet) { var rtfQuery = $('#' + textId); if(rtfQuery.length > 0) { var styleCache = {}; rtfQuery.find('*').each(function(index, element) { var elementId = element.id; if(!elementId) element.id = elementId = 'cache' + CACHE_COUNTER++; styleCache[elementId] = element.style.cssText; }); _originalTextCache[textId] = { styleCache: styleCache }; if(hasRichTextBeenSet) { var shapeId = _getShapeIdFromText(textId); _shapesWithSetRichText[shapeId] = true; } } }; $ax.style.ClearCacheForRepeater = function(repeaterId) { for(var elementId in _originalTextCache) { var scriptId = $ax.repeater.getScriptIdFromElementId(elementId); if($ax.getParentRepeaterFromScriptId(scriptId) == repeaterId) delete _originalTextCache[elementId]; } }; $ax.style.prefetch = function() { var scriptIds = $ax.getAllScriptIds(); var image = new Image(); for(var i = 0; i < scriptIds.length; i++) { var obj = $obj(scriptIds[i]); if(obj.type != 'imageBox') continue; var images = obj.images; for(var key in images) image.src = images[key]; } }; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fsto%2F</url>
    <content type="text"><![CDATA[$axure.internal(function($ax) { var funcs = {}; var weekday = new Array(7); weekday[0] = "Sunday"; weekday[1] = "Monday"; weekday[2] = "Tuesday"; weekday[3] = "Wednesday"; weekday[4] = "Thursday"; weekday[5] = "Friday"; weekday[6] = "Saturday"; funcs.getDayOfWeek = function() { return _getDayOfWeek(this.getDay()); }; var _getDayOfWeek = $ax.getDayOfWeek = function(day) { return weekday[day]; }; var month = new Array(12); month[0] = "January"; month[1] = "February"; month[2] = "March"; month[3] = "April"; month[4] = "May"; month[5] = "June"; month[6] = "July"; month[7] = "August"; month[8] = "September"; month[9] = "October"; month[10] = "November"; month[11] = "December"; funcs.getMonthName = function() { return _getMonthName(this.getMonth()); }; var _getMonthName = $ax.getMonthName = function(monthNum) { return month[monthNum]; }; funcs.getMonth = function() { return this.getMonth() + 1; }; funcs.addYears = function(years) { var retVal = new Date(this.valueOf()); retVal.setFullYear(this.getFullYear() + Number(years)); return retVal; }; funcs.addMonths = function(months) { var retVal = new Date(this.valueOf()); retVal.setMonth(this.getMonth() + Number(months)); return retVal; }; funcs.addDays = function(days) { var retVal = new Date(this.valueOf()); retVal.setDate(this.getDate() + Number(days)); return retVal; }; funcs.addHours = function(hours) { var retVal = new Date(this.valueOf()); retVal.setHours(this.getHours() + Number(hours)); return retVal; }; funcs.addMinutes = function(minutes) { var retVal = new Date(this.valueOf()); retVal.setMinutes(this.getMinutes() + Number(minutes)); return retVal; }; funcs.addSeconds = function(seconds) { var retVal = new Date(this.valueOf()); retVal.setSeconds(this.getSeconds() + Number(seconds)); return retVal; }; funcs.addMilliseconds = function(milliseconds) { var retVal = new Date(this.valueOf()); retVal.setMilliseconds(this.getMilliseconds() + Number(milliseconds)); return retVal; }; var _stoHandlers = {}; _stoHandlers.literal = function(sto, scope, eventInfo) { return sto.value; }; //need angle bracket syntax because var is a reserved word _stoHandlers['var'] = function(sto, scope, eventInfo) { // Can't us 'A || B' here, because the first value can be false, true, or empty string and still be valid. var retVal = scope.hasOwnProperty(sto.name) ? scope[sto.name] : $ax.globalVariableProvider.getVariableValue(sto.name, eventInfo); // Handle desired type here? if((sto.desiredType == 'int' || sto.desiredType == 'float')) { var num = new Number(retVal); retVal = isNaN(num.valueOf()) ? retVal : num; } return retVal; }; //TODO: Perhaps repeaterId can be detirmined at generation, and stored in the sto info. _stoHandlers.item = function(sto, scope, eventInfo, prop) { prop = prop || (eventInfo.data ? 'data' : eventInfo.link ? 'url' : eventInfo.image ? 'img' : 'text'); var id = sto.isTarget || !$ax.repeater.hasData(eventInfo.srcElement, sto.name) ? eventInfo.targetElement : eventInfo.srcElement; return getData(id, sto.name, prop); }; var getData = function(id, name, prop) { var repeaterId = $ax.getParentRepeaterFromScriptId($ax.repeater.getScriptIdFromElementId(id)); var itemId = $ax.repeater.getItemIdFromElementId(id); return $ax.repeater.getData(repeaterId, itemId, name, prop); }; _stoHandlers.paren = function(sto, scope, eventInfo) { return _evaluateSTO(sto.innerSTO, scope, eventInfo); }; _stoHandlers.fCall = function(sto, scope, eventInfo) { //TODO: [mas] handle required type var thisObj = _evaluateSTO(sto.thisSTO, scope, eventInfo); if(sto.thisSTO.desiredType == 'string' && sto.thisSTO.computedType != 'string') thisObj = thisObj.toString(); var args = []; for(var i = 0; i < sto.arguments.length; i++) { args[i] = _evaluateSTO(sto.arguments[i], scope, eventInfo); } var fn = (funcs.hasOwnProperty(sto.func) && funcs[sto.func]) || thisObj[sto.func]; return fn.apply(thisObj, args); }; _stoHandlers.propCall = function(sto, scope, eventInfo) { //TODO: [mas] handle required type if((sto.prop == 'url' || sto.prop == 'img') && sto.thisSTO.sto == 'item') return _stoHandlers.item(sto.thisSTO, scope, eventInfo, sto.prop); var thisObj = _evaluateSTO(sto.thisSTO, scope, eventInfo); return thisObj[sto.prop]; }; var _binOps = {}; _binOps['+'] = function(left, right) { if(left instanceof Date) return addDayToDate(left, right); if(right instanceof Date) return addDayToDate(right, left); var num = Number(left) + Number(right); return isNaN(num) ? (String(left) + String(right)) : num; }; _binOps['-'] = function(left, right) { if(left instanceof Date) return addDayToDate(left, -right); return left - right; }; _binOps['*'] = function(left, right) { return Number(left) * Number(right); }; _binOps['/'] = function(left, right) { return Number(left) / Number(right); }; _binOps['%'] = function(left, right) { return Number(left) % Number(right); }; _binOps['=='] = function(left, right) { return _getBool(left) == _getBool(right); }; _binOps['!='] = function(left, right) { return _getBool(left) != _getBool(right); }; _binOps['='] = function(left, right) { return Number(left) >= Number(right); }; _binOps['&&'] = function(left, right) { return _getBool(left) && _getBool(right); }; _binOps['||'] = function(left, right) { return _getBool(left) || _getBool(right); }; // TODO: Move this to generic place to be used. var addDayToDate = function(date, days) { var retVal = new Date(date.valueOf()); retVal.setDate(date.getDate() + days); return retVal; }; var _unOps = {}; _unOps['+'] = function(arg) { return +arg; }; _unOps['-'] = function(arg) { return -arg; }; _unOps['!'] = function(arg) { return !_getBool(arg); }; _stoHandlers.binOp = function(sto, scope, eventInfo) { var left = _evaluateSTO(sto.leftSTO, scope, eventInfo); var right = _evaluateSTO(sto.rightSTO, scope, eventInfo); return _binOps[sto.op](left, right); }; _stoHandlers.unOp = function(sto, scope, eventInfo) { var input = _evaluateSTO(sto.inputSTO, scope, eventInfo); return _unOps[sto.op](input); }; var _getBool = function(val) { var lowerVal = val.toLowerCase ? val.toLowerCase() : val; return lowerVal == "false" ? false : lowerVal == "true" ? true : val; }; $ax.getBool = _getBool; var _evaluateSTO = function(sto, scope, eventInfo) { if(sto.sto == 'error') return undefined; return castSto(_stoHandlers[sto.sto](sto, scope, eventInfo), sto); }; $ax.evaluateSTO = _evaluateSTO; var castSto = function(val, sto) { var type = sto.computedType || sto.desiredType; if(type == 'string') val = String(val); else if(type == 'date' && !(val instanceof Date)) val = new Date(val); else if(type == 'int' || type == 'float') val = Number(val); else if(type == 'bool') val = Boolean(val); return val; }; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Frepeater%2F</url>
    <content type="text"><![CDATA[// ******* Repeater MANAGER ******** // $axure.internal(function($ax) { var _repeaterManager = {}; $ax.repeater = _repeaterManager; //This is a mapping of current editItems var repeaterToEditItems = {}; //This is a mapping of current filters var repeaterToFilters = {}; // This is a mapping of current sorts var repeaterToSorts = {}; // This is a mapping of repeater page info var repeaterToPageInfo = {}; //Hopefully this can be simplified, but for now I think 3 are needed. //This is the data set that is owned by this repeater. The repeater may or may not reference this data set, and others can reference it. var repeaterToLocalDataSet = {}; //This is the data set referenced by the repeater. It is not a copy of the local data set, but a reference to a local data set (or eventually a global data set could be referenced). var repeaterToCurrentDataSet = {}; //This is a copy of the current data set, that is replaced whenever a set or refresh is done. var repeaterToActiveDataSet = {}; var _loadRepeaters = function() { $ax(function(obj) { return obj.type == 'repeater'; }).each(function(obj, repeaterId) { repeaterToLocalDataSet[repeaterId] = $ax.deepCopy(obj.data); repeaterToLocalDataSet[repeaterId].props = obj.dataProps; repeaterToEditItems[repeaterId] = []; _initPageInfo(obj, repeaterId); _setRepeaterDataSet(repeaterId, repeaterId); }); }; _repeaterManager.load = _loadRepeaters; var _loaded = {}; var _initRepeaters = function() { $ax(function(obj, repeaterId) { return obj.type == 'repeater' && !_loaded[repeaterId]; }).each(function(obj, repeaterId) { _refreshRepeater(repeaterId); }); }; _repeaterManager.init = _initRepeaters; var repeatersHaveNewDataSet = []; var _setRepeaterDataSet = function(repeaterId, dataSetId) { //TODO: No idea about how global data sets will be handled... repeaterToCurrentDataSet[repeaterId] = repeaterToLocalDataSet[dataSetId]; repeaterToActiveDataSet[repeaterId] = repeaterToCurrentDataSet[repeaterId]; repeaterToFilters[repeaterId] = []; repeaterToSorts[repeaterId] = []; // Not using this currently // if(repeatersHaveNewDataSet.indexOf(repeaterId) == -1) repeatersHaveNewDataSet[repeatersHaveNewDataSet.length] = repeaterId; }; _repeaterManager.setDataSet = _setRepeaterDataSet; var _refreshRepeater = function(repeaterId, eventInfo) { // Don't show if you have a parent rdos thats limboed. var rdoPath = $ax.getPathFromScriptId(repeaterId); var view = $ax.adaptive.currentViewId; var chain = $ax.adaptive.getAdaptiveIdChain(view); var testView = view; // Check each parent rdo through appropriate views to see if you are limboed while (rdoPath.length > 0) { var testingChain = testView; var rdoObj = $obj($ax.getScriptIdFromPath(rdoPath)); var style = testView ? rdoObj.adaptiveStyles && rdoObj.adaptiveStyles[testView] : rdoObj.style; if(style && typeof (style.limbo) != 'undefined') { if(style.limbo) { removeItems(repeaterId); return; } // Otherwise this chain is good, move up rdo again testingChain = false; } if(testingChain) { var viewIndex = chain.indexOf(testView); testView = viewIndex == 0 ? '' : chain[viewIndex - 1]; } else { $ax.splice(rdoPath, rdoPath.length - 1, 1); testView = view; } } _loaded[repeaterId] = true; $ax.action.refreshStart(repeaterId); $ax.style.ClearCacheForRepeater(repeaterId); if($ax.visibility.limboIds[repeaterId]) { removeItems(repeaterId); $ax.dynamicPanelManager.fitParentPanel(repeaterId); return; } var path = $ax.getPathFromScriptId(repeaterId); path.pop(); if(eventInfo) { eventInfo = $ax.eventCopy(eventInfo); } var obj = $ax.getObjectFromScriptId(repeaterId); var html = $('#' + repeaterId + '_script').html(); // var container = $(''); // container.html(html); // container.attr('id', '' + repeaterId + '_container'); // container.css({ position: 'absolute' }); // container.offset({ left: -obj.x, top: -obj.y }); var div = $(''); div.html(html); var top = 0; var left = 0; //If there is no wrap, then set it to be above the number of rows var propMap = obj.repeaterPropMap; var viewId = $ax.adaptive.currentViewId || ''; var wrap = _getAdaptiveProp(propMap, 'wrap', viewId); var vertical = _getAdaptiveProp(propMap, 'vertical', viewId); var offset = propMap[viewId]; var xOffset = offset.width + _getAdaptiveProp(propMap, 'horizontalSpacing', viewId); var yOffset = offset.height + _getAdaptiveProp(propMap, 'verticalSpacing', viewId); div.css({ width: offset.width, height: offset.height }); var background = _getAdaptiveProp(propMap, 'backColor', viewId); _applyColorCss(background, div); var hasAltColor = _getAdaptiveProp(propMap, 'hasAltColor', viewId); var altDiv = div; if(hasAltColor) altDiv = _applyColorCss(hasAltColor ? _getAdaptiveProp(propMap, 'altColor', viewId) : background, div.clone()); var orderedIds = getOrderedIds(repeaterId, eventInfo); // Hide repeater, if shown, while updating. var shown = $ax.visibility.IsIdVisible(repeaterId); if(shown) document.getElementById(repeaterId).style.visibility = 'hidden'; var bounds = _getVisibleDataBounds(repeaterToPageInfo[repeaterId], orderedIds.length); var start = bounds[0]; var end = bounds[1]; var useAlt = false; var resized = $ax.getItemIdsForRepeater(repeaterId).length != (end - start); //clean up old items as late as possible removeItems(repeaterId); var i = 0; var ids = []; for(var pos = start; pos < end; pos++) { var itemId = orderedIds[pos]; var itemElementId = _createElementId(repeaterId, itemId); $ax.addItemIdToRepeater(itemId, repeaterId); ids.push(itemElementId); var processId = function(full, prop, id, suffix) { var elementId = _createElementId('u' + id, itemId); //If there is a suffix (ex. _img), then don't push the id. if(!suffix) ids.push(elementId); return prop + '="' + elementId + '"'; }; var copy = (useAlt ? altDiv : div).clone(); useAlt = !useAlt; copy.attr('id', itemElementId); copy.html(div.html().replace(/(id|for)="?u([0-9]+(_[_a-z0-9]*)?)"?/g, processId)); copy.css({ 'position': 'absolute', 'top': top + 'px', 'left': left + 'px', 'width': obj.width + 'px', 'height': obj.height + 'px' }); $('#' + repeaterId).append(copy); i++; if(wrap != -1 && i % wrap == 0) { if(vertical) { top = 0; left += xOffset; } else { left = 0; top += yOffset; } } else if(vertical) top += yOffset; else left += xOffset; } var query = $ax(function(diagramObject, elementId) { // All objects with the repeater as their parent, except the repeater itself. var scriptId = _getScriptIdFromElementId(elementId); return $ax.getParentRepeaterFromScriptId(scriptId) == repeaterId && scriptId != repeaterId; }); if(viewId) $ax.adaptive.applyView(viewId, query); else { var limbo = {}; var hidden = {}; query.each(function(diagramObject, elementId) { // sigh, javascript. we need the === here because undefined means not overriden if(diagramObject.style.visible === false) hidden[elementId] = true; //todo: **mas** check if the limboed widgets are hidden by default by the generator if(diagramObject.style.limbo) limbo[elementId] = true; }); $ax.visibility.addLimboAndHiddenIds(limbo, hidden, query); $ax.dynamicPanelManager.updatePercentPanelCache(query); } $ax.annotation.InitializeAnnotations(query); for(var index = 0; index < ids.length; index++) { var id = ids[index]; var childObj = $obj(id); var childJobj = $jobj(id); var childItemId = _getItemIdFromElementId(id); if(obj.repeaterPropMap.isolateRadio && childObj.type == 'radioButton') { var input = $jobj(_applySuffixToElementId(id, '_input')); input.attr('name', _createElementId(input.attr('name'), childItemId)); if($ax.ieColorManager) $ax.ieColorManager.applyBackground($ax('#' + id)); } if(obj.repeaterPropMap.isolateSelection && childJobj.attr('selectiongroup')) { childJobj.attr('selectiongroup', _createElementId(childJobj.attr('selectiongroup'), childItemId)); } $ax.initializeObjectEvents($ax('#' + id)); $ax.dynamicPanelManager.initFitPanels($ax('#' + id)); $ax.style.initializeObjectTextAlignment($ax('#' + id)); $ax.applyHighlight($ax('#' + id), true); } //$ax.event.raiseSyntheticEvent(itemElementId, 'onLoad', true); //$ax.loadDynamicPanelsAndMasters(obj.objects, path, itemId); // Now load for(pos = start; pos < end; pos++) { itemId = orderedIds[pos]; itemElementId = _createElementId(repeaterId, itemId); $ax.event.raiseSyntheticEvent(itemElementId, 'onItemLoad', true); $ax.loadDynamicPanelsAndMasters(obj.objects, path, itemId); } // Reshow repeater if it was originally shown (load is complete by now) if(shown) document.getElementById(repeaterId).style.visibility = 'visible'; $ax.dynamicPanelManager.fitParentPanel(repeaterId); // If number of items changed, you need to resize the repeater if(resized) { var count = end - start; // When getting assume not vertical first. Get how many items wide and high it is. var yCount = wrap == -1 ? 1 : Math.ceil(count / wrap); var xCount = wrap == -1 ? count : count % wrap; if(xCount == 0) xCount = wrap; // Now swap if vertical if(vertical) { var temp = xCount; xCount = yCount; yCount = temp; } // xOffset includes, the spacing, but first time that should be ignored. So just add the width/height once, and all the other times add the offset. $jobj(repeaterId).css('width', offset.width + (xCount - 1) * xOffset); $jobj(repeaterId).css('height', offset.height + (yCount - 1) * yOffset); } // Right now we assume only one refresh at a time. If we can manually trigger refreshes, that may possibly change. $ax.action.refreshEnd(); }; _repeaterManager.refreshRepeater = _refreshRepeater; _repeaterManager.refreshAllRepeaters = function() { $ax('*').each(function(diagramObject, elementId) { if(diagramObject.type != 'repeater') return; _initPageInfo(diagramObject, elementId); _refreshRepeater(elementId, $ax.getEventInfoFromEvent($ax.getjBrowserEvent())); }); }; _repeaterManager.refreshRepeaters = function(ids, eventInfo) { for(var i = 0; i < ids.length; i++) _refreshRepeater(ids[i], eventInfo); }; var _initPageInfo = function(obj, elementId) { var pageInfo = {}; var map = obj.repeaterPropMap; var currentViewId = $ax.adaptive.currentViewId || ''; var itemsPerPage = _getAdaptiveProp(map, 'itemsPerPage', currentViewId); if(itemsPerPage == -1) pageInfo.noLimit = true; else { pageInfo.itemsPerPage = itemsPerPage; pageInfo.currPage = _getAdaptiveProp(map, 'currPage', currentViewId); } repeaterToPageInfo[elementId] = pageInfo; }; var _applyColorCss = function(json, div) { var args = json.r + ', ' + json.g + ', ' + json.b; var background = json.a == 0 ? '' : json.a == 1 ? 'rgb(' + args + ')' : 'rgba(' + args + ', ' + json.a + ')'; if($ax.ieColorManager && json.a != 0 && json.a != 1) { var ieColor = $ax.ieColorManager.getColorFromArgb(json.a * 255, json.r, json.g, json.b, true); if(ieColor) background = ieColor; } div.css('background-color', background); return div; }; var _getAdaptiveProp = _repeaterManager.getAdaptiveProp = function(map, prop, viewId) { var viewChain = $ax.adaptive.getAdaptiveIdChain(viewId); for(var i = viewChain.length - 1; i >= 0; i--) { viewId = viewChain[i]; var viewProps = map[viewId]; if(viewProps.hasOwnProperty(prop)) return viewProps[prop]; } var base = map['']; if(base.hasOwnProperty(prop)) return base[prop]; return map['default'][prop]; }; _repeaterManager.getItemCount = function(repeaterId) { var data = repeaterToActiveDataSet[repeaterId].length; var info = repeaterToPageInfo[repeaterId]; if(!info.noLimit) { var start = Math.min(data, info.itemsPerPage * info.currPage); var end = Math.min(data, start + info.itemsPerPage); data = end - start; } return data; }; _repeaterManager.setDisplayProps = function(obj, repeaterId, itemIndex) { var data = repeaterToActiveDataSet[repeaterId]; var info = repeaterToPageInfo[repeaterId]; var start = 0; var end = data.length; if(!info.noLimit) { start = Math.min(end, info.itemsPerPage * (info.currPage - 1)); end = Math.min(end, start + info.itemsPerPage); } var count = end - start; var index = -1; for(var i = 0; i < count; i++) { if(data[start + i].index == itemIndex) index = i + 1; } if(index == -1) return; obj.index = index; obj.isfirst = index == 1; obj.islast = index == end - start; obj.iseven = index % 2 == 0; obj.isodd = index % 2 == 1; }; var _getVisibleDataBounds = function(pageInfo, count) { var retval = [0, count]; if(!pageInfo.noLimit) { var end = pageInfo.itemsPerPage * pageInfo.currPage; var start = end - pageInfo.itemsPerPage; // If past the end, move to last page if(start >= count) { pageInfo.currPage = Math.floor((count - 1) / pageInfo.itemsPerPage) + 1; if(pageInfo.currPage 1) mergesort(list, start, middle, compare); if(end - middle > 1) mergesort(list, middle, end, compare); var index1 = start; var index2 = middle; var tempList = []; while(index1 < middle && index2 < end) { tempList[tempList.length] = list[compare(list[index1], list[index2]) > 0 ? index2++ : index1++]; } while(index1 < middle) tempList[tempList.length] = list[index1++]; while(index2 < end) tempList[tempList.length] = list[index2++]; // transfer from temp list to the real list. for(var i = 0; i < tempList.length; i++) list[start + i] = tempList[i]; }; // Compare is the tie breaking function to us if necessary. var getComparator = function(columnName, ascending, type, compare) { // If this needs to be sped up, break up into several smaller functions conditioned off of type return function(row1, row2) { // If column undefined, no way to measure this, so call it a tie. if(row1[columnName] === undefined || row2[columnName] === undefined) return 0; var text1 = row1[columnName].text; var text2 = row2[columnName].text; // This means we are case insensitive, so lowercase everything to kill casing if(type == 'Text') { text1 = text1.toLowerCase(); text2 = text2.toLowerCase(); } //If tied, go to tie breaker if(text1 == text2) { if(compare) return compare(row1, row2); // Actually a tie. return 0; } if(type == 'Text' || type == 'Text (Case Sensitive)') { if(text1 < text2 ^ ascending) return 1; else return -1; } else if(type == 'Number') { var num1 = Number(text1); var num2 = Number(text2); if(isNaN(num1) && isNaN(num2)) return 0; if(isNaN(num1) || isNaN(num2)) return isNaN(num1) ? 1 : -1; if(num1 < num2 ^ ascending) return 1; else return -1; } else if(type == 'Date - YYYY-MM-DD' || type == 'Date - MM/DD/YYYY') { var func = type == 'Date - YYYY-MM-DD' ? getDate1 : getDate2; var date1 = func(text1); var date2 = func(text2); if(!date1.valid && !date2.valid) return 0; if(!date1.valid || !date2.valid) return date1.valid ? -1 : 1; var diff = date2.year - date1.year; if(diff == 0) diff = date2.month - date1.month; if(diff == 0) diff = date2.day - date1.day; if(diff == 0) return 0; return diff > 0 ^ ascending ? 1 : -1; } console.log('unhandled sort type'); return 0; }; }; var compareFunc = null; for(var i = 0; i < sorts.length; i++) compareFunc = getComparator(sorts[i].columnName, sorts[i].ascending, sorts[i].sortType, compareFunc); mergesort(data, 0, data.length, compareFunc); } var ids = []; for(i = 0; i < data.length; i++) ids[i] = data[i].index; return ids; }; var getDate1 = function(text) { var date = { valid: false }; var sections = text.split('-'); if(sections.length == 1) sections = text.split('/'); if(sections.length != 3) return date; date.year = Number(sections[0]); date.month = Number(sections[1]); date.day = Number(sections[2]); date.valid = !isNaN(date.year); date.valid &= !isNaN(date.month) && date.month > 0 && date.month 0 && date.day 0 && date.month 0 && date.day = 0; i--) { var filterObj = filterList[i]; if(filterObj.label && filterObj.label == label) $ax.splice(filterList, i, 1); } }; _repeaterManager.removeFilter = _removeFilter; var _addSort = function(repeaterId, label, columnName, ascending, toggle, sortType) { var sortList = repeaterToSorts[repeaterId]; if(!sortList) repeaterToSorts[repeaterId] = sortList = []; for(var i = 0; i < sortList.length; i++) { if(columnName == sortList[i].columnName) { var lastSortObj = $ax.splice(sortList, i, 1)[0]; if(toggle) ascending = !lastSortObj.ascending; break; } } var sortObj = { columnName: columnName, ascending: ascending, sortType: sortType }; if(label) sortObj.label = label; sortList[sortList.length] = sortObj; }; _repeaterManager.addSort = _addSort; var _removeSort = function(repeaterId, label) { var sortList = repeaterToSorts[repeaterId]; // If no list, nothing to remove if(!sortList) return; // If no label, remove everything if(!label) { repeaterToSorts[repeaterId] = []; return; } for(var i = sortList.length - 1; i >= 0; i--) { var sortObj = sortList[i]; if(sortObj.label && sortObj.label == label) $ax.splice(sortList, i, 1); } }; _repeaterManager.removeSort = _removeSort; var _setRepeaterToPage = function(repeaterId, type, value, eventInfo) { var pageInfo = repeaterToPageInfo[repeaterId]; // page doesn't matter if there is no limit. if(pageInfo.noLimit) return; var dataSet = repeaterToActiveDataSet[repeaterId]; if(!dataSet) dataSet = repeaterToCurrentDataSet[repeaterId]; var lastPage = Math.max(1, Math.ceil(dataSet.length / pageInfo.itemsPerPage)); if(type == 'Value') { var val = Number($ax.expr.evaluateExpr(value, eventInfo)); // if invalid, default to 1, otherwise, clamp the value if(isNaN(val)) val = 1; else if(val < 1) val = 1; else if(val > lastPage) val = lastPage; pageInfo.currPage = val; } else if(type == 'Previous') { if(pageInfo.currPage > 1) pageInfo.currPage--; } else if(type == 'Next') { if(pageInfo.currPage < lastPage) pageInfo.currPage++; } else if(type == 'Last') { pageInfo.currPage = lastPage; } else { console.log('Unknown type'); } }; _repeaterManager.setRepeaterToPage = _setRepeaterToPage; var _setNoItemLimit = function(repeaterId) { var pageInfo = repeaterToPageInfo[repeaterId]; delete pageInfo.currPage; delete pageInfo.itemsPerPage; pageInfo.noLimit = true; }; _repeaterManager.setNoItemLimit = _setNoItemLimit; var _setItemLimit = function(repeaterId, value, eventInfo) { var pageInfo = repeaterToPageInfo[repeaterId]; if(pageInfo.noLimit) { pageInfo.noLimit = false; pageInfo.currPage = 1; } var oldTarget = eventInfo.targetElement; eventInfo.targetElement = repeaterId; var itemLimit = Number($ax.expr.evaluateExpr(value, eventInfo)); eventInfo.targetElement = oldTarget; if(isNaN(itemLimit)) itemLimit = 20; else if(itemLimit < 1) itemLimit = 1; pageInfo.itemsPerPage = itemLimit; }; _repeaterManager.setItemLimit = _setItemLimit; var removeItems = function(repeaterId) { var elementIds = $ax.getChildElementIdsForRepeater(repeaterId); for(var i = 0; i < elementIds.length; i++) $('#' + elementIds[i]).remove(); $ax.visibility.clearLimboAndHiddenIds(elementIds); $ax.clearItemsForRepeater(repeaterId); }; var _getDataFromDataSet = function(repeaterId, itemId, propName, type) { var itemNum = Number(itemId) - 1; // Default to obj with text as empty string, as we don't generate the data for empty props var data = repeaterToCurrentDataSet[repeaterId][itemNum][propName] || { text: '' }; //For now text is always the default. May change this to depend on context. return type == 'data' && data.type != 'text' ? data : (type && data[type]) || data['text']; }; _repeaterManager.getData = _getDataFromDataSet; _repeaterManager.hasData = function(id, propName) { if(!_getItemIdFromElementId(id)) return false; var repeaterId = $ax.getParentRepeaterFromScriptId(_getScriptIdFromElementId(id)); return Boolean(repeaterToCurrentDataSet[repeaterId] && repeaterToCurrentDataSet[repeaterId].props.indexOf(propName) != -1); }; var _addItemToDataSet = function(repeaterId, row, itemEventInfo) { itemEventInfo.data = true; var oldTarget = itemEventInfo.targetElement; itemEventInfo.targetElement = repeaterId; var dataSet = repeaterToLocalDataSet[repeaterId]; for(var propName in row) { if(!row.hasOwnProperty(propName)) continue; var prop = row[propName]; if(prop.type == 'literal') { var retval = $ax.expr.evaluateExpr(prop.literal, itemEventInfo); if(typeof (retval) == 'string') retval = { type: 'text', text: retval }; row[propName] = retval; } } itemEventInfo.targetElement = oldTarget; dataSet[dataSet.length] = row; itemEventInfo.data = false; }; _repeaterManager.addItem = _addItemToDataSet; var _deleteItemsFromDataSet = function(repeaterId, eventInfo, type, rule) { var dataSet = repeaterToCurrentDataSet[repeaterId]; var items; // Should always be this, marked, or rule. if(type == 'this') items = [_getItemIdFromElementId(eventInfo.srcElement)]; else if(type == 'marked') items = repeaterToEditItems[repeaterId]; else { // This should be rule var visibleData = repeaterToCurrentDataSet[repeaterId]; var items = []; var oldTarget = eventInfo.targetElement; for(var i = 0; i < visibleData.length; i++) { var index = i + 1; eventInfo.targetElement = _createElementId(repeaterId, index); if($ax.expr.evaluateExpr(rule, eventInfo).toLowerCase() != 'true') continue; items.push(index); } eventInfo.targetElement = oldTarget; } // Want them decending items.sort(function(a, b) { return b - a; }); for(i = 0; i < items.length; i++) { var itemId = items[i]; $ax.splice(dataSet, itemId - 1, 1); } repeaterToEditItems[repeaterId] = []; }; _repeaterManager.deleteItems = _deleteItemsFromDataSet; var _updateEditItemsInDataSet = function(repeaterId, propMap, eventInfo, type, rule) { var oldTarget = eventInfo.targetElement; var dataSet = repeaterToCurrentDataSet[repeaterId]; var items; // Should always be this, marked, or rule. if(type == 'this') items = [_getItemIdFromElementId(eventInfo.srcElement)]; else if(type == 'marked') items = repeaterToEditItems[repeaterId]; else { // This should be rule var currData = repeaterToCurrentDataSet[repeaterId]; var items = []; var oldTarget = eventInfo.targetElement; for(var i = 0; i < currData.length; i++) { var index = i + 1; eventInfo.targetElement = _createElementId(repeaterId, index); if($ax.expr.evaluateExpr(rule, eventInfo).toLowerCase() != 'true') continue; items.push(index); } eventInfo.targetElement = oldTarget; } eventInfo.data = true; for(var prop in propMap) { if(!propMap.hasOwnProperty(prop)) continue; for(var i = 0; i < items.length; i++) { var data = propMap[prop]; var item = items[i]; if(data.type == 'literal') { eventInfo.targetElement = _createElementId(repeaterId, item); data = $ax.expr.evaluateExpr(data.literal, eventInfo); if(typeof (data) == 'object' && data.isWidget) data = data.text; if(typeof (data) == 'string') data = { type: 'text', text: data }; } dataSet[item - 1][prop] = data; } } eventInfo.targetElement = oldTarget; eventInfo.data = false; }; _repeaterManager.updateEditItems = _updateEditItemsInDataSet; var _getAllItemIds = function(repeaterId) { var retval = []; var currDataSet = repeaterToCurrentDataSet[repeaterId]; for(var i = 0; i < currDataSet.length; i++) retval.push(i + 1); return retval; }; _repeaterManager.getAllItemIds = _getAllItemIds; var _addEditItemToRepeater = function(repeaterId, itemIds) { for(var i = 0; i < itemIds.length; i++) { var itemId = Number(itemIds[i]); var items = repeaterToEditItems[repeaterId]; if(items.indexOf(itemId) == -1) items[items.length] = itemId; } }; _repeaterManager.addEditItems = _addEditItemToRepeater; var _removeEditItemFromRepeater = function(repeaterId, itemIds) { for(var i = 0; i < itemIds.length; i++) { var itemId = itemIds[i]; var items = repeaterToEditItems[repeaterId]; var index = items.indexOf(Number(itemId)); if(index != -1) $ax.splice(items, index, 1); } }; _repeaterManager.removeEditItems = _removeEditItemFromRepeater; _repeaterManager.isEditItem = function(repeaterId, itemId) { var items = repeaterToEditItems[repeaterId]; return items.indexOf(Number(itemId)) != -1; }; var _createElementId = function(scriptId, itemId) { if(!itemId) return scriptId; var i = scriptId.indexOf('_'); var sections = i > -1 ? [scriptId.substring(0, i), scriptId.substring(i + 1)] : [scriptId]; var retval = sections[0] + '-' + itemId; return sections.length > 1 ? retval + '_' + sections[1] : retval; }; _repeaterManager.createElementId = _createElementId; var _getElementId = function(scriptId, childId) { var elementId = scriptId; if($ax.getParentRepeaterFromScriptId(scriptId)) { // Must be in the same item as the child var itemId = $ax.repeater.getItemIdFromElementId(childId); elementId = $ax.repeater.createElementId(scriptId, itemId); } return elementId; }; _repeaterManager.getElementId = _getElementId; var _getScriptIdFromElementId = function(elementId) { if(!elementId) return elementId; var sections = elementId.split('-'); var retval = sections[0]; if(sections.length 1 ? retval + '_' + sections[1] : retval; }; _repeaterManager.getScriptIdFromElementId = _getScriptIdFromElementId; var _getItemIdFromElementId = function(elementId) { var sections = elementId.split('-'); if(sections.length < 2) return ''; sections = sections[1].split('_'); return sections[0]; }; _repeaterManager.getItemIdFromElementId = _getItemIdFromElementId; // TODO: Just inline this if we keep it this way. var _applySuffixToElementId = function(id, suffix) { return id + suffix; // return _createElementId(_getScriptIdFromElementId(id) + suffix, _getItemIdFromElementId(id)); }; _repeaterManager.applySuffixToElementId = _applySuffixToElementId; // var _getRepeaterSize = function(repeaterId) { // var itemCount = ($ax.getItemIdsForRepeater(repeaterId) || []).length; // if(itemCount == 0) return { width: 0, height: 0 }; // var repeater = $obj(repeaterId); // // Width and height per item; // var width = repeater.width; // var height = repeater.height; // var viewId = $ax.adaptive.currentViewId || ''; // var widthIncrement = width + _getAdaptiveProp(repeater.repeaterPropMap, 'horizontalSpacing', viewId); // var heightIncrement = height + _getAdaptiveProp(repeater.repeaterPropMap, 'verticalSpacing', viewId); // var wrap = _getAdaptiveProp(repeater.repeaterPropMap, 'wrap', viewId); // var vertical = _getAdaptiveProp(repeater.repeaterPropMap, 'vertical', viewId); // if(wrap == -1 || itemCount = 0; i--) { var panelId = fitToContent[i]; var stateCount = $obj(panelId).diagrams.length; for(var j = 0; j < stateCount; j++) { // Traverse through children to find what size it should be. var stateId = $ax.repeater.applySuffixToElementId(panelId, '_state' + j); var stateContentId = stateId + '_content'; var stateQuery = $jobj(stateId); var size = getContainerSize(stateContentId); if(!$obj(panelId).percentWidth) stateQuery.width(size.width); stateQuery.height(size.height); } } }; var percentPanelToLeftCache = []; var percentPanelsInitialized = false; var _handleResize = function() { if(percentPanelsInitialized) { for(var key in percentPanelToLeftCache) { //could optimize to only update non-contained panels _updatePanelPercentWidth(key); } } else { $ax('*').each(function(obj, elementId) { if(_isPercentWidthPanel(obj)) _updatePanelPercentWidth(elementId); }); percentPanelsInitialized = true; } }; var _isPercentWidthPanel = _dynamicPanelManager.isPercentWidthPanel = function(obj) { return obj && obj.type == 'dynamicPanel' && obj.percentWidth; }; _dynamicPanelManager.updatePanelContentPercentWidth = function(elementId) { // if(_isPercentWidthPanel($obj(elementId))) return; var stateChildrenQuery = $jobj(elementId).children('.panel_state'); stateChildrenQuery.children('.panel_state_content').each( function() { $(this).children('.ax_dynamic_panel').each( function() { _updatePanelPercentWidth(this.id); } ); } ); }; _dynamicPanelManager.updatePercentPanelCache = function(query) { query.each(function(obj, elementId) { if(_isPercentWidthPanel(obj)) { if(_updatePercentPanelToLeftCache(obj, elementId, true)) { _updatePanelPercentWidth(elementId); } } }); }; _dynamicPanelManager.resetFixedPanel = function(obj, domElement) { if(obj.fixedHorizontal == 'center') domElement.style.marginLeft = ""; if(obj.fixedVertical == 'middle') domElement.style.marginTop = ""; }; _dynamicPanelManager.resetAdaptivePercentPanel = function(obj, domElement) { if(!_isPercentWidthPanel(obj)) return; if(obj.fixedHorizontal == 'center') domElement.style.marginLeft = ""; else if(obj.fixedHorizontal == 'right') domElement.style.width = ""; }; var _updatePercentPanelToLeftCache = function(obj, elementId, overwrite) { var wasUpdated = false; var jObj = $jobj(elementId); if(percentPanelToLeftCache[elementId] == undefined || overwrite) { if(obj.fixedHorizontal == 'center') percentPanelToLeftCache[elementId] = Number(jObj.css('margin-left').replace("px", "")); else if(obj.fixedHorizontal == 'right') percentPanelToLeftCache[elementId] = jObj.width() + Number(jObj.css('right').replace("px", "")); else percentPanelToLeftCache[elementId] = Number(jObj.css('left').replace("px", "")); wasUpdated = true; } if(obj.fixedHorizontal == 'right' && _isIdFitToContent(elementId)) { var fitWidth = getContainerSize($ax.visibility.GetPanelState(elementId) + '_content').width; percentPanelToLeftCache[elementId] = fitWidth + Number(jObj.css('right').replace("px", "")); wasUpdated = true; } return wasUpdated; }; var _updatePanelPercentWidth = _dynamicPanelManager.updatePanelPercentWidth = function(elementId) { var obj = $obj(elementId); if(!_isPercentWidthPanel(obj)) return; _updatePercentPanelToLeftCache(obj, elementId, false); var width; var x; if(obj.fixedHorizontal) { x = 0; width = $(window).width(); } else { var parentPanelInfo = getParentPanel(elementId); if(parentPanelInfo) { var parentId = parentPanelInfo.parent; width = $jobj(parentId).width(); var parentObj = $obj(parentId); if(parentObj.percentWidth) { var stateId = $ax.repeater.applySuffixToElementId(parentId, '_state' + parentPanelInfo.state); var stateContentId = stateId + '_content'; x = -Number($jobj(stateContentId).css('margin-left').replace("px", "")); } else x = 0; } else { var parentRepeater = $ax.getParentRepeaterFromScriptId($ax.repeater.getScriptIdFromElementId(elementId)); if(parentRepeater) { var itemId = $ax.repeater.getItemIdFromElementId(elementId); var itemContainerId = $ax.repeater.createElementId(parentRepeater, itemId); x = 0; width = $jobj(itemContainerId).width(); } else { var $window = $(window); width = $window.width(); var bodyLeft = Number($('body').css('left').replace("px", "")); var bodyWidth = Number($('body').css('width').replace("px", "")); var isCenter = $ax.adaptive.getPageStyle().pageAlignment == 'center'; width = Math.max(width, bodyWidth); x = isCenter ? -(width - bodyWidth) / 2 - bodyLeft : 0; } } } var jObj = $jobj(elementId); if(obj.fixedHorizontal == 'left') jObj.css('left', x + 'px'); else if(obj.fixedHorizontal == 'center') { jObj.css('left', x + 'px'); jObj.css('margin-left', 0 + 'px'); } else jObj.css('left', x + 'px'); jObj.css('width', width + 'px'); var panelLeft = percentPanelToLeftCache[elementId]; var stateChildrenQuery = jObj.children('.panel_state'); stateChildrenQuery.css('width', width + 'px'); if(obj.fixedHorizontal == 'center') stateChildrenQuery.children('.panel_state_content').css('left', '50%').css('margin-left', panelLeft + 'px'); else if(obj.fixedHorizontal == 'right') stateChildrenQuery.children('.panel_state_content').css('left', width - panelLeft + 'px'); else stateChildrenQuery.children('.panel_state_content').css('margin-left', panelLeft - x + 'px'); }; _dynamicPanelManager.updateAllFitPanels = function() { var fitToContent = []; $ax('*').each(function(obj, elementId) { if(obj.type == 'dynamicPanel' && obj.fitToContent) fitToContent[fitToContent.length] = elementId; }); for(var i = fitToContent.length - 1; i >= 0; i--) { var panelId = fitToContent[i]; var stateCount = $obj(panelId).diagrams.length; for(var j = 0; j < stateCount; j++) { $ax.dynamicPanelManager.setFitToContentCss(panelId, true); _updateFitPanel(panelId, j, true); } } }; _dynamicPanelManager.setFitToContentCss = function(elementId, fitToContent, oldWidth, oldHeight) { if($ax.dynamicPanelManager.isIdFitToContent(elementId) == fitToContent) return; var panel = $jobj(elementId); var stateCss; var scrollbars = $obj(elementId).scrollbars; if(fitToContent) { panel.attr('style', ''); stateCss = {}; stateCss.position = 'relative'; if(scrollbars != 'none') { stateCss.overflow = 'visible'; stateCss['-webkit-overflow-scrolling'] = 'visible'; } if(scrollbars == 'verticalAsNeeded') { stateCss['overflow-x'] = 'visible'; stateCss['-ms-overflow-x'] = 'visible'; } else if(scrollbars == 'horizontalAsNeeded') { stateCss['overflow-y'] = 'visible'; stateCss['-ms-overflow-y'] = 'visible'; } panel.children().css(stateCss); } else { var panelCss = { width: oldWidth, height: oldHeight }; stateCss = { width: oldWidth, height: oldHeight }; panelCss.overflow = 'hidden'; stateCss.position = 'absolute'; if(scrollbars != 'none') { stateCss.overflow = 'auto'; stateCss['-webkit-overflow-scrolling'] = 'touch'; } if(scrollbars == 'verticalAsNeeded') { stateCss['overflow-x'] = 'hidden'; stateCss['-ms-overflow-x'] = 'hidden'; } else if(scrollbars == 'horizontalAsNeeded') { stateCss['overflow-y'] = 'hidden'; stateCss['-ms-overflow-y'] = 'hidden'; } panel.css(panelCss); panel.children().css(stateCss); } }; // TODO: [ben] This should be used in a lot more places... var _getPanelJobj = _dynamicPanelManager.getPanelJobj = function(id) { // Try for container first var container = $jobj(id + '_container'); return container.length ? container : $jobj(id); }; var _getShownState = function(id) { var obj = $obj(id); if(!obj || obj.type != 'dynamicPanel') return $jobj(id); var children = $jobj(id).children(); for(var i = 0; i < children.length; i++) { var child = children[i]; if(child && child.style && child.style.display != 'none') return $jobj(child.id); } return $jobj(id); }; var _getClamp = function(id) { var obj = $obj(id); if(!obj) return _getPanelJobj(id); if(obj.type == 'dynamicPanel') return _getShownState(id); return $jobj(id); }; var _updateFitPanel = function(panelId, stateIndex, initializingView) { if(!panelId) return false; // Only fit if fitToContent is true if(!$ax.dynamicPanelManager.isIdFitToContent(panelId)) return false; // Traverse through children to find what size it should be. var stateId = $ax.repeater.applySuffixToElementId(panelId, '_state' + stateIndex); var stateContentId = stateId + '_content'; var stateQuery = $jobj(stateId); var size = getContainerSize(stateContentId); // Skip if size hasn't changed var oldWidth = stateQuery.width(); var oldHeight = stateQuery.height(); if(oldWidth == size.width && oldHeight == size.height) return false; if(!$obj(panelId).percentWidth) stateQuery.width(size.width); stateQuery.height(size.height); //updatePercentWidth on all child panels $jobj(stateContentId).children('.ax_dynamic_panel').each( function() { _updatePanelPercentWidth(this.id); } ); //do the following only if it is the current state if(stateId != $ax.visibility.GetPanelState(panelId)) return false; if(!initializingView) _adjustFixed(panelId, oldWidth, oldHeight, size.width, size.height); else if(stateIndex != 0) { var state0 = $jobj($ax.repeater.applySuffixToElementId(panelId, '_state0')); _adjustFixed(panelId, state0.width(), state0.height(), size.width, size.height); } $ax.event.raiseSyntheticEvent(panelId, 'onResize'); $ax.flyoutManager.updateFlyout(panelId); return true; }; // widgetId is the one that crawls up masters until it finds a parent panel, targetId is the original widgetId (not the crawling master) var getParentPanel = function(widgetId, path, targetId) { path = path || $ax.getPathFromScriptId($ax.repeater.getScriptIdFromElementId(widgetId)); var obj = $obj(widgetId); if(obj.parentDynamicPanel) { path[path.length - 1] = obj.parentDynamicPanel; var parentId = $ax.getScriptIdFromPath(path); parentId = $ax.repeater.getElementId(parentId, widgetId); var parentObj = $obj(parentId); var retVal = { parent: parentId }; for(var i = 0; i < parentObj.diagrams.length; i++) { var stateId = $ax.repeater.applySuffixToElementId(parentId, '_state' + i); var stateQuery = $jobj(stateId); if(stateQuery.find('#' + (targetId || widgetId)).length != 0) { retVal.state = i; break; } } return retVal; } if(path.length == 1) return undefined; path.pop(); var parentMaster = $ax.getScriptIdFromPath(path); parentMaster = $ax.repeater.getElementId(parentMaster, widgetId); return getParentPanel(parentMaster, path, targetId || widgetId); }; // TODO: May be a better location for this. Used currently for rdo and panel state containers var getContainerSize = function(containerId) { var containerQuery = containerId ? $jobj(containerId) : $('#base'); var children = containerQuery.children(); // Default size var size = { width: 0, height: 0 }; for(var i = 0; i < children.length; i++) { var child = $(children[i]); var childId = child.attr('id'); var childObj = $obj(childId); if(!childObj) { // On the body there are some children that should be ignored, as they are not objects. if(!child.hasClass('basiclink') || child.get(0).tagName.toLowerCase() != 'a') continue; // Otherwise it should be a basic link var linkChildren = child.children(); if(!linkChildren.length) continue; child = $(linkChildren[0]); childId = child.attr('id'); childObj = $obj(childId); } if(!childId || $ax.visibility.limboIds[childId] || !$ax.visibility.IsIdVisible(childId)) continue; // Ignore fixed if(childObj.type == 'dynamicPanel' && childObj.fixedHorizontal) continue; var position = { left: Number(child.css('left').replace('px', '')), top: Number(child.css('top').replace('px', '')) }; // Default width and height (adjusted for widgets that are special) var width = child.width(); var height = child.height(); if(childObj.type == 'master') { var masterSize = getContainerSize(childId); width = masterSize.width; height = masterSize.height; // } else if(childObj.type == 'repeater') { // var repeaterSize = $ax.repeater.getRepeaterSize(childId); // width = repeaterSize.width; // height = repeaterSize.height; // if(width == 0 && height == 0) continue; // position.left += childObj.x; // position.top += childObj.y; } else if(childObj.type == 'dynamicPanel') { if($ax.dynamicPanelManager.isIdFitToContent(childId)) { var stateQuery = $jobj($ax.visibility.GetPanelState(childId)); width = stateQuery.width(); height = stateQuery.height(); } } size.width = Math.max(size.width, position.left + width); size.height = Math.max(size.height, position.top + height); } return size; }; var _adjustFixed = _dynamicPanelManager.adjustFixed = function(panelId, oldWidth, oldHeight, width, height) { var loc = _getFixedPosition(panelId, oldWidth, oldHeight, width, height); if(loc) { $ax.action.addAnimation(panelId, function() { $ax.move.MoveWidget(panelId, loc[0], loc[1], 'none', 0, false, null, true); }); } }; var _getFixedPosition = _dynamicPanelManager.getFixedPosition = function(panelId, oldWidth, oldHeight, width, height) { var panelObj = $obj(panelId); var x = 0; var y = 0; if(panelObj.fixedHorizontal == 'center') { x = (oldWidth - width) / 2; } if(panelObj.fixedVertical == 'middle') { y = (oldHeight - height) / 2; } return x == 0 && y == 0 ? undefined : [x, y]; }; _dynamicPanelManager.getFixedInfo = function(panelId) { var panelObj = $obj(panelId); if(!panelObj || panelObj.type != 'dynamicPanel') return {}; var jobj = $jobj(panelId); if(jobj.css('position') == 'absolute') return {}; var info = {}; var horizontal = panelObj.fixedHorizontal; if(!horizontal) return info; info.fixed = true; info.horizontal = horizontal; info.vertical = panelObj.fixedVertical; if(info.horizontal == 'left') info.x = Number(jobj.css('left').replace('px', '')); else if(info.horizontal == 'center') info.x = Number(jobj.css('margin-left').replace('px', '')); else if(info.horizontal == 'right') info.x = Number(jobj.css('right').replace('px', '')); if(info.vertical == 'top') info.y = Number(jobj.css('top').replace('px', '')); else if(info.vertical == 'middle') info.y = Number(jobj.css('margin-top').replace('px', '')); else if(info.vertical == 'bottom') info.y = Number(jobj.css('bottom').replace('px', '')); return info; }; // Show isn't necessary if this is always done before toggling (which is currently true), but I don't want that // change (if it happened) to break this. var _compressToggle = function(id, vert, show, easing, duration) { var panelJobj = _getPanelJobj(id); var threshold = Number(panelJobj.css(vert ? 'top' : 'left').replace('px', '')); var delta = _getShownState(id)[vert ? 'height' : 'width'](); if(!show) { // Need to make threshold bottom/right threshold += delta; // Delta is in the opposite direction delta *= -1; } _compress(id, vert, threshold, delta, easing, duration); }; _dynamicPanelManager.compressToggle = _compressToggle; // Used when setting state of dynamic panel var _compressDelta = function(id, oldState, newState, vert, easing, duration) { var panelQuery = $jobj(id); var oldQuery = $jobj(oldState); var newQuery = $jobj(newState); var thresholdProp = vert ? 'top' : 'left'; var thresholdOffset = vert ? 'height' : 'width'; var threshold = Number(panelQuery.css(thresholdProp).replace('px', '')); threshold += oldQuery[thresholdOffset](); var delta = newQuery[thresholdOffset]() - oldQuery[thresholdOffset](); var clampProp = vert ? 'left' : 'top'; var clampOffset = vert ? 'width' : 'height'; var clamp = [Number(panelQuery.css(clampProp).replace('px', ''))]; clamp[1] = clamp[0] + Math.max(oldQuery[clampOffset](), newQuery[clampOffset]()); _compress(id, vert, threshold, delta, easing, duration, clamp); }; _dynamicPanelManager.compressDelta = _compressDelta; var _compress = function(id, vert, threshold, delta, easing, duration, clamp) { if(!easing) { easing = 'none'; duration = 0; } var parent = $ax('#' + id).getParents()[0]; var obj = $ax.getObjectFromElementId(parent); while(obj && obj.type == 'referenceDiagramObject') { parent = $ax('#' + parent).getParents()[0]; obj = $ax.getObjectFromElementId(parent); } var clampLoc = _getPanelJobj(id); var clampDim = _getClamp(id); // If below, a horizantal clamp, otherwise a vertical clamp var clampProp = vert ? 'left' : 'top'; var clampOffset = vert ? 'width' : 'height'; if(!clamp) { clamp = [Number(clampLoc.css(clampProp).replace('px', ''))]; clamp[1] = clamp[0] + clampDim[clampOffset](); } // If clamps, threshold, or delta is not a number, can't compress. if(isNaN(clamp[0]) || isNaN(clamp[1]) || isNaN(threshold) || isNaN(delta)) return; // Note: If parent is body, some of these aren't widgets if(parent && $jobj(parent + '_content').length > 0) parent = parent + '_content'; var children = $(parent ? '#' + parent : '#base').children(); for(var i = 0; i < children.length; i++) { var child = $(children[i]); // Check for basic links if(child[0] && child[0].tagName == 'A' && child.hasClass('basiclink')) child = child.children(); var childId = child.attr('id'); // Don't move self, and check id to make sure it is a widget. if(childId == id || !childId || childId[0] != 'u') continue; var numbers = childId.substring(1).split('-'); if(numbers.length < 1 || isNaN(Number(numbers[0])) || (numbers.length == 2 && isNaN(Number(numbers[1]))) || numbers.length > 2) continue; var markerProp = vert ? 'top' : 'left'; var marker = Number(child.css(markerProp).replace('px', '')); var childClamp = [Number(child.css(clampProp).replace('px', ''))]; // Dynamic panels are not reporting correct size sometimes, so pull it from the state. Get shown state just returns the widget if it is not a dynamic panel. var sizeChild = _getShownState(childId); childClamp[1] = childClamp[0] + sizeChild[clampOffset](); if(isNaN(marker) || isNaN(childClamp[0]) || isNaN(childClamp[1]) || marker < threshold || childClamp[1] = clamp[1]) continue; //marker += delta; //var props = {}; //props[markerProp] = marker; $ax('#' + childId).moveBy(vert ? 0 : delta, vert ? delta : 0, easing == 'none' ? {} : { duration: duration, easing: easing }); //if(easing == 'none') child.css(props); //else child.animate(props, duration, easing); } }; var _parentHandlesStyles = function(id) { var parents = $ax('#' + id).getParents(true)[0]; if(!parents) return false; var directParent = true; for(var i = 0; i < parents.length; i++) { var parentId = parents[i]; // Because state parent panel id is the active state, must strip off the end of it. var itemId = $ax.repeater.getItemIdFromElementId(parentId); parentId = parentId.split('_')[0]; if(itemId) parentId = $ax.repeater.createElementId(parentId, itemId); var parentObj = $obj(parentId); if(parentObj.type != 'dynamicPanel') continue; if(!parentObj.propagate) { directParent = false; continue; } return { id: parentId, direct: directParent }; } return false; }; _dynamicPanelManager.parentHandlesStyles = _parentHandlesStyles; var _propagateMouseOver = function(id, value) { propagate(id, true, value); }; _dynamicPanelManager.propagateMouseOver = _propagateMouseOver; var _propagateMouseDown = function(id, value) { propagate(id, false, value); }; _dynamicPanelManager.propagateMouseDown = _propagateMouseDown; var propagate = function(id, hover, value) { var hoverChildren = function(children) { if(!children) return; for(var i = 0; i < children.length; i++) { var elementId = children[i].id; var obj = $obj(elementId); if(obj == null) { elementId = elementId.split('_')[0]; obj = $obj(elementId); } if(obj == null) continue; if(obj.type == 'dynamicPanel' && !obj.propagate) continue; if(hover) $ax.style.SetWidgetHover(elementId, value); else $ax.style.SetWidgetMouseDown(elementId, value); $ax.annotation.updateLinkLocations($ax.style.GetTextIdFromShape(elementId)); hoverChildren(children[i].children); } }; hoverChildren($ax('#' + id).getChildren(true)[0].children); }; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fmove%2F</url>
    <content type="text"><![CDATA[$axure.internal(function($ax) { var _move = {}; $ax.move = _move; var widgetMoveInfo = {}; $ax.move.GetWidgetMoveInfo = function() { return $.extend({}, widgetMoveInfo); }; $ax.move.MoveWidget = function(id, x, y, easing, duration, to, animationCompleteCallback, shouldFire) { $ax.drag.LogMovedWidgetForDrag(id); var widget = $('#' + id); var jobj = $jobj(id); var horzProp = 'left'; var vertProp = 'top'; var horzX = to ? x - Number(jobj.css('left').replace('px', '')) : x; var vertY = to ? y - Number(jobj.css('top').replace('px', '')) : y; var fixedInfo = $ax.dynamicPanelManager.getFixedInfo(id); if(fixedInfo.horizontal == 'right') { horzProp = 'right'; horzX = to ? $(window).width() - x - Number(jobj.css('right').replace('px', '')) - widget.width() : -x; } else if(fixedInfo.horizontal == 'center') { horzProp = 'margin-left'; if(to) horzX = x - $(window).width() / 2; } if(fixedInfo.vertical == 'bottom') { vertProp = 'bottom'; vertY = to ? $(window).height() - y - Number(jobj.css('bottom').replace('px', '')) - widget.height() : -y; } else if(fixedInfo.vertical == 'middle') { vertProp = 'margin-top'; if(to) vertY = y - $(window).height() / 2; } var cssStyles = {}; if(!$ax.dynamicPanelManager.isPercentWidthPanel($obj(id))) cssStyles[horzProp] = '+=' + horzX; cssStyles[vertProp] = '+=' + vertY; var query = $jobj(id).add($jobj(id + '_ann')).add($jobj(id + '_ref')); if(easing == 'none') { query.animate(cssStyles, 0); if(animationCompleteCallback) animationCompleteCallback(); if(shouldFire) $ax.action.fireAnimationFromQueue(id); } else { query.animate(cssStyles, duration, easing, function() { if(animationCompleteCallback) animationCompleteCallback(); if(shouldFire) $ax.action.fireAnimationFromQueue(id); }); } var moveInfo = new Object(); moveInfo.x = horzX; moveInfo.y = vertY; moveInfo.options = {}; moveInfo.options.easing = easing; moveInfo.options.duration = duration; widgetMoveInfo[id] = moveInfo; $ax.event.raiseSyntheticEvent(id, "onMove"); }; _move.nopMove = function(id) { var moveInfo = new Object(); moveInfo.x = 0; moveInfo.y = 0; moveInfo.options = {}; moveInfo.options.easing = 'none'; moveInfo.options.duration = 0; widgetMoveInfo[id] = moveInfo; }; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fmodel%2F</url>
    <content type="text"><![CDATA[// ******* Object Model ******** // $axure.internal(function($ax) { var _implementations = {}; var _initializeObject = function(type, obj) { $.extend(obj, _implementations[type]); }; $ax.initializeObject = _initializeObject; var _model = $ax.model = {}; _model.idsInRdo = function(rdoId, elementIds) { var rdoScriptId = $ax.repeater.getScriptIdFromElementId(rdoId); var rdoObj = $obj(rdoId); var path = $ax.getPathFromScriptId(rdoScriptId); var rdoRepeater = $ax.getParentRepeaterFromScriptId(rdoScriptId); var rdoItem = $ax.repeater.getItemIdFromElementId(rdoId); if(!elementIds) elementIds = []; $ax('*').each(function(obj, elementId) { // Make sure in same rdo var scriptId = $ax.repeater.getScriptIdFromElementId(elementId); var elementPath = $ax.getPathFromScriptId(scriptId); // This is because last part of path is for the obj itself. elementPath.pop(); if(elementPath.length != path.length) return; for(var i = 0; i < path.length; i++) if(elementPath[i] != path[i]) return; // If object is in a panel, the panel will be hidden, so the obj doesn't have to be. if(obj.parentDynamicPanel) return; var repeater = $ax.getParentRepeaterFromScriptId(scriptId); var item = $ax.repeater.getItemIdFromElementId(elementId); if(repeater != rdoRepeater || item != rdoItem) return; if(obj.type == 'referenceDiagramObject') _model.idsInRdo(elementId, elementIds); // Kind of complicated, but returning for isContained objects, hyperlinks, tabel cell, non-root tree nodes, and images in the tree. else if(obj.isContained || obj.type == 'hyperlink' || obj.type == 'tableCell' || (obj.type == 'treeNodeObject' && !$jobj(elementId).hasClass('treeroot')) || (obj.type == 'imageBox' && obj.parent.type == 'treeNodeObject')) return; else elementIds.push(elementId); }); return elementIds; }; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Flegacy%2F</url>
    <content type="text"><![CDATA[//stored on each browser event var windowEvent; $axure.internal(function($ax) { var _legacy = {}; $ax.legacy = _legacy; // ************************** GLOBAL VARS *********************************// // ************************************************************************// //Check if IE //var bIE = false; //if ((index = navigator.userAgent.indexOf("MSIE")) >= 0) { // bIE = true; //} var Forms = window.document.getElementsByTagName("FORM"); for(var i = 0; i < Forms.length; i++) { var Form = Forms[i]; Form.onclick = $ax.legacy.SuppressBubble; } $ax.legacy.SuppressBubble = function(event) { if(IE) { window.event.cancelBubble = true; window.event.returnValue = false; } else { if(event) { event.stopPropagation(); } } }; // function InsertAfterBegin(dom, html) { // if(!IE) { // var phtml; // var range = dom.ownerDocument.createRange(); // range.selectNodeContents(dom); // range.collapse(true); // phtml = range.createContextualFragment(html); // dom.insertBefore(phtml, dom.firstChild); // } else { // dom.insertAdjacentHTML("afterBegin", html); // } // } // function InsertBeforeEnd(dom, html) { // if(!IE) { // var phtml; // var range = dom.ownerDocument.createRange(); // range.selectNodeContents(dom); // range.collapse(dom); // phtml = range.createContextualFragment(html); // dom.appendChild(phtml); // } else { // dom.insertAdjacentHTML("beforeEnd", html); // } // } //Get the id of the Workflow Dialog belonging to element with id = id // function Workflow(id) { // return id + 'WF'; // } $ax.legacy.BringToFront = function(id, skipFixed) { _bringToFrontHelper(id); if(!skipFixed) $ax.legacy.BringFixedToFront(); }; var _bringToFrontHelper = function(id) { var target = window.document.getElementById(id); if(target == null) return; $ax.globals.MaxZIndex = $ax.globals.MaxZIndex + 1; target.style.zIndex = $ax.globals.MaxZIndex; }; $ax.legacy.BringFixedToFront = function() { $ax(function(diagramObject) { return diagramObject.fixedKeepInFront; }).each(function(diagramObject, scriptId) { _bringToFrontHelper(scriptId); }); }; $ax.legacy.SendToBack = function(id) { var target = window.document.getElementById(id); if(target == null) return; target.style.zIndex = $ax.globals.MinZIndex = $ax.globals.MinZIndex - 1; }; $ax.legacy.RefreshScreen = function() { var oldColor = window.document.body.style.backgroundColor; var setColor = (oldColor == "rgb(0,0,0)") ? "#FFFFFF" : "#000000"; window.document.body.style.backgroundColor = setColor; window.document.body.style.backgroundColor = oldColor; }; $ax.legacy.getAbsoluteLeft = function(currentNode) { var oldDisplay = currentNode.css('display'); var displaySet = false; if(oldDisplay == 'none') { currentNode.css('display', ''); displaySet = true; } var left = currentNode.offset().left; if(displaySet) currentNode.css('display', oldDisplay); var body = $('body'); if(body.css('position') == 'relative') left -= (Number(body.css('left').replace('px', '')) + Math.max(0, ($(window).width() - body.width()) / 2)); return left; }; $ax.legacy.getAbsoluteTop = function(currentNode) { var oldDisplay = currentNode.css('display'); var displaySet = false; if(oldDisplay == 'none') { currentNode.css('display', ''); displaySet = true; } var top = currentNode.offset().top; if(displaySet) currentNode.css('display', oldDisplay); return top; }; // ****************** Annotation and Link Functions ****************** // $ax.legacy.GetAnnotationHtml = function(annJson) { var retVal = ""; for(var noteName in annJson) { if(noteName != "label") { retVal += "" + noteName + ""; retVal += "" + annJson[noteName] + ""; } } return retVal; }; $ax.legacy.GetScrollable = function(target) { var $target = $(target); var current = $target; var last = $target; while(!current.is('body') && !current.is('html')) { var elementId = current.attr('id'); var diagramObject = elementId && $ax.getObjectFromElementId(elementId); if(diagramObject && diagramObject.type == 'dynamicPanel' && diagramObject.scrollbars != 'none') { //returns the panel diagram div which handles scrolling return window.document.getElementById(last.attr('id')); } last = current; current = current.parent(); } // Need to do this because of ie if(IE) return window.document.documentElement; else return window.document.body; }; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Finit.temp%2F</url>
    <content type="text"><![CDATA[$axure.internal(function($ax) { $(window.document).ready(function() { var readyStart = (new Date()).getTime(); //this is because the page id is not formatted as a guid var pageId = $ax.pageData.page.packageId; var pageData = { id: pageId, pageName: $ax.pageData.page.name, location: window.location.toString(), notes: $ax.pageData.page.notes }; //only trigger the page.data setting if the window is on the mainframe var isMainFrame = false; try { if(window.name == 'mainFrame' || (!CHROME_5_LOCAL && window.parent.$ && window.parent.$('#mainFrame').length > 0)) { isMainFrame = true; $ax.messageCenter.addMessageListener(function(message, data) { if(message == 'finishInit') { _processTempInit(); } }); $axure.messageCenter.setState('page.data', pageData); window.focus(); } } catch(e) { } //attach here for chrome local $(window).load(function() { $ax.style.initializeObjectTextAlignment($ax('*')); }); if(!isMainFrame) _processTempInit(); }); var _processTempInit = function() { //var start = (new Date()).getTime(); //var end = (new Date()).getTime(); //window.alert('elapsed ' + (end - start)); $('iframe').each(function() { var origSrc = $(this).attr('basesrc'); var $this = $(this); if(origSrc) { var newSrcUrl = origSrc.toLowerCase().indexOf('http://') == -1 ? $ax.globalVariableProvider.getLinkUrl(origSrc) : origSrc; $this.attr('src', newSrcUrl); } if(IOS) { $this.parent().css('overflow', 'auto').css('-webkit-overflow-scrolling', 'touch').css('-ms-overflow-x', 'hidden').css('overflow-x', 'hidden'); } }); $axure.messageCenter.addMessageListener(function(message, data) { if(message == 'setGlobalVar') { $ax.globalVariableProvider.setVariableValue(data.globalVarName, data.globalVarValue, true); } }); var lastFocusedClickable; var shouldOutline = true; $ax(function(dObj) { return dObj.tabbable; }).each(function(dObj, elementId) { var focusableId = $ax.event.getFocusableWidgetOrChildId(elementId); $('#' + focusableId).attr("tabIndex", 0); }); $('div[tabIndex=0], img[tabIndex=0]').bind($ax.features.eventNames.mouseDownName, function() { shouldOutline = false; }); $(window.document).bind($ax.features.eventNames.mouseUpName, function() { shouldOutline = true; }); $('div[tabIndex=0], img[tabIndex=0], a').focus(function() { if(shouldOutline) { $(this).css('outline', ''); } else { $(this).css('outline', 'none'); } lastFocusedClickable = this; }); $('div[tabIndex=0], img[tabIndex=0], a').blur(function() { if(lastFocusedClickable == this) lastFocusedClickable = null; }); $(window.document).bind('keyup', function(e) { if(e.keyCode == '13' || e.keyCode == '32') { if(lastFocusedClickable) $(lastFocusedClickable).click(); } }); if($ax.document.configuration.hideAddress) { $(window).load(function() { window.setTimeout(function() { window.scrollTo(0, 0.9); }, 0); }); } if($ax.document.configuration.preventScroll) { $(window.document).bind('touchmove', function(e) { var inScrollable = $ax.legacy.GetScrollable(e.target) != window.document.body; if(!inScrollable) { e.preventDefault(); } }); $ax(function(diagramObject) { return diagramObject.type == 'dynamicPanel' && diagramObject.scrollbars != 'none'; }).$().children().bind('touchstart', function() { var target = this; var top = target.scrollTop; if(top = target.scrollHeight) target.scrollTop = target.scrollHeight - target.offsetHeight - 1; }); } if(OS_MAC && WEBKIT) { $ax(function(diagramObject) { return diagramObject.type == 'comboBox'; }).each(function(obj, id) { $jobj($ax.INPUT(id)).css('-webkit-appearance', 'menulist-button').css('border-color', '#999999'); }); } $ax.legacy.BringFixedToFront(); $ax.event.initialize(); $ax.style.initialize(); $ax.visibility.initialize(); $ax.dynamicPanelManager.initialize(); //needs to be called after visibility is initialized $ax.adaptive.initialize(); $ax.loadDynamicPanelsAndMasters(); $ax.adaptive.loadFinished(); $ax.repeater.init(); $ax.style.prefetch(); $(window).resize(); //var readyEnd = (new Date()).getTime(); //window.alert('elapsed ' + (readyEnd - readyStart)); }; }); /* extend canvas */ var gv_hasCanvas = false; (function() { var _canvas = document.createElement('canvas'), proto, abbrev; if(gv_hasCanvas = !!(_canvas.getContext && _canvas.getContext('2d')) && typeof (CanvasGradient) !== 'undefined') { function chain(func) { return function() { return func.apply(this, arguments) || this; }; } with(proto = CanvasRenderingContext2D.prototype) for(var func in abbrev = { a: arc, b: beginPath, n: clearRect, c: clip, p: closePath, g: createLinearGradient, f: fill, j: fillRect, z: function(s) { this.fillStyle = s; }, l: lineTo, w: function(w) { this.lineWidth = w; }, m: moveTo, q: quadraticCurveTo, h: rect, r: restore, o: rotate, s: save, x: scale, y: function(s) { this.strokeStyle = s; }, u: setTransform, k: stroke, i: strokeRect, t: translate }) proto[func] = chain(abbrev[func]); CanvasGradient.prototype.a = chain(CanvasGradient.prototype.addColorStop); } })();]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fie%2F</url>
    <content type="text"><![CDATA[// ******* Internet Explorer MANAGER ******** // //this is to handle all the stupid IE Stuff $axure.internal(function($ax) { if(!IE) return; var _ieColorManager = {}; if(Number(BROWSER_VERSION) < 9) $ax.ieColorManager = _ieColorManager; var _applyIEFixedPosition = function() { if(Number(BROWSER_VERSION) >= 7) return; $axure(function(diagramObject) { return diagramObject.fixedVertical; }).$() .appendTo($('body')) .css('position', 'absolute').css('margin-left', 0 + 'px').css('margin-top', 0 + 'px'); var handleScroll = function() { $axure(function(diagramObject) { return diagramObject.fixedVertical; }) .each(function(diagramObject, elementId) { var win = $(window); var windowWidth = win.width(); var windowHeight = win.height(); var windowScrollLeft = win.scrollLeft(); var windowScrollTop = win.scrollTop(); var newLeft = 0; var newTop = 0; var elementQuery = $('#' + elementId); var width = elementQuery.width(); var height = elementQuery.height(); var horz = diagramObject.fixedHorizontal; if(horz == 'left') { newLeft = windowScrollLeft + diagramObject.fixedMarginHorizontal; } else if(horz == 'center') { newLeft = windowScrollLeft + ((windowWidth - width) / 2) + diagramObject.fixedMarginHorizontal; } else if(horz == 'right') { newLeft = windowScrollLeft + windowWidth - width - diagramObject.fixedMarginHorizontal; } var vert = diagramObject.fixedVertical; if(vert == 'top') { newTop = windowScrollTop + diagramObject.fixedMarginVertical; } else if(vert == 'middle') { newTop = windowScrollTop + ((windowHeight - height) / 2) + diagramObject.fixedMarginVertical; } else if(vert == 'bottom') { newTop = windowScrollTop + windowHeight - height - diagramObject.fixedMarginVertical; } elementQuery.css('top', newTop + 'px').css('left', newLeft + 'px'); }); }; $(window).scroll(handleScroll); $axure.resize(handleScroll); handleScroll(); }; var _applyBackground = function() { if(Number(BROWSER_VERSION) >= 9) return; var styleChain = $ax.adaptive.getAdaptiveIdChain($ax.adaptive.currentViewId); var argb = _getArgb($ax.pageData.page, styleChain); var hexColor = _getHexColor(argb, false); if(hexColor) $('body').css('background-color', hexColor); _applyBackgroundToQuery($ax('*')); }; var _applyBackgroundToQuery = function(query) { if(Number(BROWSER_VERSION) >= 9) return; var styleChain = $ax.adaptive.getAdaptiveIdChain($ax.adaptive.currentViewId); query.each(function(obj, elementId) { if(obj.type == 'dynamicPanel') { var stateCount = obj.diagrams.length; for(var j = 0; j < stateCount; j++) { var stateId = $ax.repeater.applySuffixToElementId(elementId, '_state' + j); var argb = _getArgb(obj.diagrams[j], styleChain); var hexColor = _getHexColor(argb, true); if(hexColor) $jobj(stateId).css('background-color', hexColor); } } else if(obj.type == 'repeater') { } }); }; _ieColorManager.applyBackground = _applyBackgroundToQuery; var _getArgb = function(diagram, styleChain) { var argb = undefined; for(var i = 0; i < styleChain.length && !argb; i++) { var style = diagram.adaptiveStyles[styleChain[i]]; argb = style.fill && style.fill.color; } if(!argb) argb = diagram.style.fill.color; return argb; }; var gMult = 256; var rMult = gMult * 256; var aMult = rMult * 256; var _getHexColor = function(argb, allowWhite) { var a = Math.floor(argb / aMult); argb -= a * aMult; var r = Math.floor(argb / rMult); argb -= r * rMult; var g = Math.floor(argb / gMult); var b = argb - g * gMult; return _getColorFromArgb(a, r, g, b, allowWhite); }; var _getColorFromArgb = function(a, r, g, b, allowWhite) { if(Number(BROWSER_VERSION) >= 9) return undefined; //convert the color with alpha to a color with no alpha (assuming white background) r = Math.min((r * a) / 255 + 255 - a, 255); g = Math.min((g * a) / 255 + 255 - a, 255); b = Math.min((b * a) / 255 + 255 - a, 255); if(a == 0) return undefined; if(!allowWhite && (r == 255 && g == 255 && b == 255)) return undefined; var color = '#'; color += Math.floor(r / 16).toString(16); color += Math.floor(r % 16).toString(16); color += Math.floor(g / 16).toString(16); color += Math.floor(g % 16).toString(16); color += Math.floor(b / 16).toString(16); color += Math.floor(b % 16).toString(16); return color; }; _ieColorManager.getColorFromArgb = _getColorFromArgb; var getIEOffset = function(transform, rect) { var translatedVertexes = [ $axure.utils.Vector2D(0, 0), //we dont translate, so the orgin is fixed transform.mul($axure.utils.Vector2D(0, rect.height)), transform.mul($axure.utils.Vector2D(rect.width, 0)), transform.mul($axure.utils.Vector2D(rect.width, rect.height))]; var minX = 0, minY = 0, maxX = 0, maxY = 0; $.each(translatedVertexes, function(index, p) { minX = Math.min(minX, p.x); minY = Math.min(minY, p.y); maxX = Math.max(maxX, p.x); maxY = Math.max(maxY, p.y); }); return $axure.utils.Vector2D( (maxX - minX - rect.width) / 2, (maxY - minY - rect.height) / 2); }; var _filterFromTransform = function(transform) { return "progid:DXImageTransform.Microsoft.Matrix(M11=" + transform.m11 + ", M12=" + transform.m12 + ", M21=" + transform.m21 + ", M22=" + transform.m22 + ", SizingMethod='auto expand')"; }; var _applyIERotation = function() { if(Number(BROWSER_VERSION) >= 9) return; $axure(function(diagramObject) { return ((diagramObject.style.rotation && Math.abs(diagramObject.style.rotation) > 0.1) || (diagramObject.style.textRotation && Math.abs(diagramObject.style.textRotation) > 0.1)) && !diagramObject.isContained; }).each(function(diagramObject, elementId) { var rotation = diagramObject.style.rotation || 0; var $element = $('#' + elementId); var width = $element.width(); var height = $element.height(); var originX = width / 2; var originY = height / 2; var shapeIeOffset; $element.children().each(function() { var $child = $(this); var childWidth = $child.width(); var childHeight = $child.height() + $child.position().top; var centerX = $child.position().left + (childWidth / 2); var centerY = $child.position().top + (childHeight / 2); var deltaX = centerX - originX; var deltaY = centerY - originY; var effectiveRotation = rotation; var textObject = $ax.getObjectFromElementId($child.attr('id')); if(textObject) { if(textObject.style.textRotation) effectiveRotation = textObject.style.textRotation; else return; } var transform = $ax.utils.Matrix2D.identity().rotate(effectiveRotation); var filter = _filterFromTransform(transform); $child.css('filter', filter) .width(childWidth + 1) .height(childHeight + 1); var p = transform.mul($ax.utils.Vector2D(deltaX, deltaY)); var ieOffset = getIEOffset(transform, { width: childWidth, height: childHeight }); if(!textObject) { shapeIeOffset = ieOffset; } else { // This is a close approximation, but not exact if(diagramObject.style.verticalAlignment != 'top') ieOffset.y -= shapeIeOffset.y + Math.abs(shapeIeOffset.x); } $child.css("margin-left", -ieOffset.x - deltaX + p.x).css("margin-top", -ieOffset.y - deltaY + p.y); }); }); }; var _fixIEStretchBackground = function() { if(Number(BROWSER_VERSION) >= 9) return; var pageStyle = $ax.adaptive.getPageStyle(); if(!pageStyle.imageRepeat || pageStyle.imageRepeat == 'auto') return; $('body').css('background-image', 'none'); var viewId = $ax.adaptive.currentViewId; var imageInfo = viewId ? $ax.pageData.viewIdToBackgroundImageInfo && $ax.pageData.viewIdToBackgroundImageInfo[viewId] : $ax.pageData.defaultBackgroundImageInfo; if(imageInfo && imageInfo.path) { if($('#bg_img').length == 0) $('body').append(''); $('#bg_img').attr('src', imageInfo.path).css('position', 'fixed').css('z-index', '-10000'); _resizeIEBackground(); } else $('#bg_img').remove(); }; var _resizeIEBackground = function() { if(Number(BROWSER_VERSION) >= 9) return; //var page = $ax.pageData.page; var viewId = $ax.adaptive.currentViewId; var pageStyle = $ax.adaptive.getPageStyle(); if(!$ax.pageData.defaultBackgroundImageInfo && !$ax.pageData.viewIdToBackgroundImageInfo) return; var imageInfo = viewId ? $ax.pageData.viewIdToBackgroundImageInfo[viewId] : $ax.pageData.defaultBackgroundImageInfo; if(!imageInfo) return; var imageWidth = imageInfo.width; var imageHeight = imageInfo.height; var windowWidth = $(window).width(); var windowHeight = $(window).height(); var isCover = pageStyle.imageRepeat == 'cover'; var wRatio = windowWidth / imageWidth; var hRatio = windowHeight / imageHeight; var ratio = wRatio; if(isCover) { if(hRatio > wRatio) ratio = hRatio; } else { if(hRatio < wRatio) ratio = hRatio; } var width = imageWidth * ratio; var height = imageHeight * ratio; var left = '0px'; if((isCover && width > windowWidth) || (!isCover && width < windowWidth)) { if(pageStyle.imageHorizontalAlignment == 'center') { left = ((windowWidth - width) / 2) + 'px'; } else if(pageStyle.imageHorizontalAlignment == 'far') { left = (windowWidth - width) + 'px'; } } var top = '0px'; if((isCover && height > windowHeight) || (!isCover && height < windowHeight)) { if(pageStyle.imageVerticalAlignment == 'center') { top = ((windowHeight - height) / 2) + 'px'; } else if(pageStyle.imageVerticalAlignment == 'far') { top = (windowHeight - height) + 'px'; } } $('#bg_img').css('top', top).css('left', left).css('width', width).css('height', height); }; var _fixAllPngs = function() { if(!(/MSIE ((5\.5)|6)/.test(window.navigator.userAgent) && window.navigator.platform == "Win32")) return; $('img[src$=".png"]').each(function() { if(!this.complete) { this.onload = function() { $axure.utils.fixPng(this); }; } else { $axure.utils.fixPng(this); } }); }; var _fixInputSize = function() { if(Number(BROWSER_VERSION) >= 8 || window.navigator.userAgent.indexOf("Trident/4.0") > -1) return; var inputs = $('input').not(':input[type=button], :input[type=submit], :input[type=radio], :input[type=checkbox]'); inputs.each(function() { var $input = $(this); $input.css('height', ($input.height() - 4 + 'px')).css('width', ($input.width() - 2 + 'px')); }); var textAreas = $('textarea'); textAreas.each(function() { var $textArea = $(this); $textArea.css('height', ($textArea.height() - 6 + 'px')).css('width', ($textArea.width() - 6 + 'px')); }); }; var _fixInputBackground = function() { var inputs = $('input').not(':input[type=button], :input[type=submit], :input[type=radio], :input[type=checkbox]'); inputs = inputs.add($('textarea')); inputs.each(function() { var $input = $(this); if($input.css('background-color') == 'transparent') { $input.css('background-image', 'url(../../transparent.gif)'); } else { $input.css('background-image', ''); } }); }; $(document).ready(function() { _fixIEStretchBackground(); _applyIEFixedPosition(); $axure.resize(function() { _resizeIEBackground(); }); $ax.adaptive.bind('viewChanged', function() { _fixIEStretchBackground(); _applyBackground(); _fixInputBackground(); }); _fixAllPngs(); _applyIERotation(); _applyBackground(); _fixInputSize(); _fixInputBackground(); }); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fglobals%2F</url>
    <content type="text"><![CDATA[$axure.internal(function($ax) { var _globals = $ax.globals = {}; $ax.globals.MaxZIndex = 1000; $ax.globals.MinZIndex = -1000; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fgeometry%2F</url>
    <content type="text"><![CDATA[// ******* Region MANAGER ******** // $axure.internal(function($ax) { var _geometry = $ax.geometry = {}; var regionMap = {}; var regionList = []; var _unregister = function(label) { var regionIndex = regionList.indexOf(label); if(regionIndex != -1) { var end = $ax.splice(regionList, regionIndex + 1); $ax.splice(regionList, regionIndex, regionList.length - regionIndex); regionList = regionList.concat(end); } delete regionMap[label]; }; _geometry.unregister = _unregister; var clear = function() { regionMap = {}; regionList = []; }; var _polygonRegistered = function(label) { return Boolean(regionMap[label]); }; _geometry.polygonRegistered = _polygonRegistered; // Must be counterclockwise, or enter/exit will be wrong var _registerPolygon = function(label, points, callback, info) { var regionIndex = regionList.indexOf(label); if(regionIndex == -1) regionList.push(label); regionMap[label] = { points: points, callback: callback, info: info }; }; _geometry.registerPolygon = _registerPolygon; var _getPolygonInfo = function(label) { if(!_polygonRegistered(label)) return undefined; return regionMap[label].info; }; _geometry.getPolygonInfo = _getPolygonInfo; var _genRect = function(info) { var x = info.pagex; var y = info.pagey; var w = info.width; var h = info.height; var r = x + w; var b = y + h; var rect = { X: function() { return x; }, Y: function() { return y; }, Wigth: function() { return w; }, Height: function() { return h; }, Left: function() { return x; }, Right: function() { return r; }, Top: function() { return y; }, Bottom: function() { return b; } }; return rect; }; _geometry.genRect = _genRect; var _genPoint = function(x, y) { return { x: x, y: y }; }; _geometry.genPoint = _genPoint; var oldPoint = _genPoint(0, 0); _geometry.tick = function(x, y, end) { var lastPoint = oldPoint; var nextPoint = oldPoint = _genPoint(x, y); var line = { p1: lastPoint, p2: nextPoint }; if(!regionList.length) return; for(var i = 0; i < regionList.length; i++) { var region = regionMap[regionList[i]]; var points = region.points; if(!region.checked) { if(!_checkInside(points, $ax.mouseLocation)) { region.callback({ outside: true }); continue; } region.checked = true; } for(var j = 0; j < points.length; j++) { var startSegment = points[j]; var endSegment = points[(j + 1) % points.length]; var intersectInfo = linesIntersect(line, { p1: startSegment, p2: endSegment }); if(intersectInfo) { region.callback(intersectInfo); break; } } } if(end) clear(); }; // Info if the one line touches the other (even barely), false otherwise // Info includes point, if l1 is entering or exiting l2, and any ties that happened, or parallel info var linesIntersect = function(l1, l2) { var retval = {}; var ties = {}; var l1p1 = l1.p1.x < l1.p2.x || (l1.p1.x == l1.p2.x && l1.p1.y < l1.p2.y) ? l1.p1 : l1.p2; var l1p2 = l1.p1.x < l1.p2.x || (l1.p1.x == l1.p2.x && l1.p1.y < l1.p2.y) ? l1.p2 : l1.p1; var m1 = (l1p2.y - l1p1.y) / (l1p2.x - l1p1.x); var l2p1 = l2.p1.x < l2.p2.x || (l2.p1.x == l2.p2.x && l2.p1.y < l2.p2.y) ? l2.p1 : l2.p2; var l2p2 = l2.p1.x < l2.p2.x || (l2.p1.x == l2.p2.x && l2.p1.y < l2.p2.y) ? l2.p2 : l2.p1; var m2 = (l2p2.y - l2p1.y) / (l2p2.x - l2p1.x); var l1Vert = l1.p1.x == l1.p2.x; var l2Vert = l2.p1.x == l2.p2.x; if(l1Vert || l2Vert) { if(l1Vert && l2Vert) { // If the lines don't follow the same path, return if(l1p1.x != l2p1.x) return false; // if they never meet, return if(l1p2.y < l2p1.y || l1p1.y > l2p2.y) return false; var firstVert = l1p1.y >= l2p1.y ? l1p1 : l2p1; var secondVert = l1p2.y = x1 && xVert = y1 && y]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fflyout%2F</url>
    <content type="text"><![CDATA[// ******* Flyout MANAGER ******** // $axure.internal(function($ax) { var _flyoutManager = $ax.flyoutManager = {}; var getFlyoutLabel = function(panelId) { return panelId + '_flyout'; }; var _unregisterPanel = function(panelId, keepShown) { $ax.geometry.unregister(getFlyoutLabel(panelId)); if(panelToSrc[panelId]) { $ax.style.RemoveRolloverOverride(panelToSrc[panelId]); delete panelToSrc[panelId]; } if(!keepShown) { $ax.action.addAnimation(panelId, function() { $ax('#' + panelId).hide(); }); } }; _flyoutManager.unregisterPanel = _unregisterPanel; var genPoint = $ax.geometry.genPoint; var _updateFlyout = function(panelId) { var label = getFlyoutLabel(panelId); if(!$ax.geometry.polygonRegistered(label)) return; var info = $ax.geometry.getPolygonInfo(label); var rects = info && info.rects; var targetWidget = $ax.getWidgetInfo(panelId); rects.target = $ax.geometry.genRect(targetWidget); // Src will stay the same, just updating $ax.flyoutManager.registerFlyout(rects, panelId, panelToSrc[panelId]); if(!$ax.geometry.checkInsideRegion(label)) _unregisterPanel(panelId); }; _flyoutManager.updateFlyout = _updateFlyout; var panelToSrc = {}; var _registerFlyout = function(rects, panelId, srcId) { var label = _getFlyoutLabel(panelId); var callback = function(info) { // If leaving object or already outside it, then unregister, otherwise just return if(!info.exiting && !info.outside) return; _unregisterPanel(panelId); }; var points = []; var lastSrcId = panelToSrc[panelId]; if(lastSrcId != srcId) { if(lastSrcId) $ax.style.RemoveRolloverOverride(lastSrcId); if(srcId) { $ax.style.AddRolloverOverride(srcId); panelToSrc[panelId] = srcId; } else delete panelToSrc[panelId]; } // rects should be one or two rectangles if(!rects.src) { var rect = rects.target; points.push(genPoint(rect.Left(), rect.Top())); points.push(genPoint(rect.Right(), rect.Top())); points.push(genPoint(rect.Right(), rect.Bottom())); points.push(genPoint(rect.Left(), rect.Bottom())); } else { var r0 = rects.src; var r1 = rects.target; // Right left of right, left right of left, top below top, bottom above bottom var rlr = r0.Right() = r1.Left(); var tbt = r0.Top() >= r1.Top(); var bab = r0.Bottom()]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fexpr%2F</url>
    <content type="text"><![CDATA[// ******* Expr MANAGER ******** // $axure.internal(function($ax) { var _expr = $ax.expr = {}; var _binOpHandlers = { '&&': function(left, right) { return $ax.getBool(left) && $ax.getBool(right); }, '||': function(left, right) { return $ax.getBool(left) || $ax.getBool(right); }, '==': function(left, right) { return isEqual(left, right); }, '!=': function(left, right) { return !isEqual(left, right); }, '>': function(left, right) { return left > Number(right); }, '=': function(left, right) { return left >= Number(right); }, '= 0; i--) { var args = fcallArgs[i]; // Add event info to the end args[args.length] = eventInfo; retval = _exprFunctions[expr.functionName].apply(this, args); } } else fcallArgs[fcallArgs.length] = eventInfo; return targets.length ? retval : _exprFunctions[expr.functionName].apply(this, fcallArgs); }; _exprHandlers.globalVariableLiteral = function(expr) { return expr.variableName; }; _exprHandlers.keyPressLiteral = function(expr) { var keyInfo = {}; keyInfo.keyCode = expr.keyCode; keyInfo.ctrl = expr.ctrl; keyInfo.alt = expr.alt; keyInfo.shift = expr.shift; return keyInfo; }; _exprHandlers.adaptiveViewLiteral = function(expr) { return expr.id; }; var _substituteSTOs = function(expr, eventInfo) { //first evaluate the local variables var scope = {}; for(var varName in expr.localVariables) { scope[varName] = $ax.expr.evaluateExpr(expr.localVariables[varName], eventInfo); } // TODO: [ben] Date and data object (obj with info for url or image) both need to return non-strings. var i = 0; var retval; var retvalString = expr.value.replace(/\[\[(?!\[)(.*?)\]\](?=\]*)/g, function(match) { var sto = expr.stos[i++]; if(sto.sto == 'error') return match; try { var result = $ax.evaluateSTO(sto, scope, eventInfo); } catch(e) { return match; } if((result instanceof Object) && i == 1 && expr.value.substring(0, 2) == '[[' && expr.value.substring(expr.value.length - 2) == ']]') { // If the result was an object, this was the first result, and the whole thing was this expresion. retval = result; } return ((result instanceof Object) && (result.label || result.text)) || result; }); // If more than one group returned, the object is not valid if(i != 1) retval = false; return retval || retvalString; }; _exprHandlers.htmlLiteral = function(expr, eventInfo) { return _substituteSTOs(expr, eventInfo); }; _exprHandlers.stringLiteral = function(expr, eventInfo) { return _substituteSTOs(expr, eventInfo); }; var _exprFunctions = {}; _exprFunctions.SetCheckState = function(elementIds, value) { var toggle = value == 'toggle'; var boolValue = Boolean(value) && value != 'false'; for(var i = 0; i < elementIds.length; i++) { var query = $ax('#' + elementIds[i]); query.selected(toggle ? !query.selected() : boolValue); } }; _exprFunctions.SetSelectedOption = function(elementIds, value) { for(var i = 0; i < elementIds.length; i++) { var elementId = elementIds[i]; var obj = $jobj($ax.INPUT(elementId)); if(obj.val() == value) return; obj.val(value); if($ax.event.HasSelectionChanged($ax.getObjectFromElementId(elementId))) $ax.event.raiseSyntheticEvent(elementId, 'onSelectionChange'); } }; _exprFunctions.SetGlobalVariableValue = function(varName, value) { $ax.globalVariableProvider.setVariableValue(varName, value); }; _exprFunctions.SetWidgetFormText = function(elementIds, value) { for(var i = 0; i < elementIds.length; i++) { var elementId = elementIds[i]; var inputId = $ax.repeater.applySuffixToElementId(elementId, '_input'); var obj = $jobj(inputId); if(obj.val() == value || (value == '' && $ax.placeholderManager.isActive(elementId))) return; obj.val(value); $ax.placeholderManager.updatePlaceholder(elementId, !value); if($ax.event.HasTextChanged($ax.getObjectFromElementId(elementId))) $ax.event.TryFireTextChanged(elementId); } }; _exprFunctions.SetFocusedWidgetText = function(elementId, value) { if(window.lastFocusedControl) { var elementId = window.lastFocusedControl; var type = $obj(elementId).type; if(type == 'textBox' || type == 'textArea') _exprFunctions.SetWidgetFormText([elementId], value); else _exprFunctions.SetWidgetRichText([elementId], value, true); } }; _exprFunctions.GetRtfElementHeight = function(rtfElement) { if(rtfElement.innerHTML == '') rtfElement.innerHTML = '&nbsp;'; return rtfElement.offsetHeight; }; _exprFunctions.SetWidgetRichText = function(ids, value, plain) { // Converts dates, widgetinfo, and the like to strings. value = _exprFunctions.ToString(value); //Replace any newlines with line breaks value = value.replace(/\r\n/g, '').replace(/\n/g, ''); for(var i = 0; i < ids.length; i++) { var id = ids[i]; // If calling this on button shape, get the id of the rich text panel inside instead var type = $obj(id).type; if(type != 'richTextPanel' && type != 'hyperlink') { id = $jobj(id).find('.text')[0].id; } var element = window.document.getElementById(id); $ax.visibility.SetVisible(element, true); $ax.style.transformTextWithVerticalAlignment(id, function() { var spans = $jobj(id).find('span'); if(plain) { // Wrap in span and p, style them accordingly. var span = $(''); if(spans.length > 0) { span.attr('style', $(spans[0]).attr('style')); span.attr('id', $(spans[0]).attr('id')); } span.html(value); var p = $(''); var ps = $jobj(id).find('p'); if(ps.length > 0) { p.attr('style', $(ps[0]).attr('style')); p.attr('id', $(ps[0]).attr('id')); } p.append(span); value = $('').append(p).html(); } element.innerHTML = value; }); if(!plain) $ax.style.CacheOriginalText(id, true); } }; _exprFunctions.GetCheckState = function(ids) { return $ax('#' + ids[0]).selected(); }; _exprFunctions.GetSelectedOption = function(ids) { return $jobj($ax.INPUT(ids[0]))[0].value; }; _exprFunctions.GetNum = function(str) { //Setting a GlobalVariable to some blank text then setting a widget to the value of that variable would result in 0 not "" //I have fixed this another way so commenting this should be fine now //if (!str) return ""; return isNaN(str) ? str : Number(str); }; _exprFunctions.GetGlobalVariableValue = function(id) { return $ax.globalVariableProvider.getVariableValue(id); }; _exprFunctions.GetGlobalVariableLength = function(id) { return _exprFunctions.GetGlobalVariableValue(id).length; }; _exprFunctions.GetWidgetText = function(ids) { if($ax.placeholderManager.isActive(ids[0])) return ''; var input = $ax.INPUT(ids[0]); return $ax('#' + ($jobj(input).length ? input : ids[0])).text(); }; _exprFunctions.GetFocusedWidgetText = function() { if(window.lastFocusedControl) { return $ax('#' + window.lastFocusedControl).text(); } else { return ""; } }; _exprFunctions.GetWidgetValueLength = function(ids) { var id = ids[0]; if(!id) return undefined; if($ax.placeholderManager.isActive(id)) return 0; var obj = $jobj($ax.INPUT(id)); if(!obj.length) obj = $jobj(id); var val = obj[0].value || _exprFunctions.GetWidgetText([id]); return val.length; }; _exprFunctions.GetPanelState = function(ids) { var id = ids[0]; if(!id) return undefined; var stateId = $ax.visibility.GetPanelState(id); return stateId && String($jobj(stateId).data('label')); }; _exprFunctions.GetWidgetVisibility = function(ids) { var id = ids[0]; if(!id) return undefined; return $ax.visibility.IsIdVisible(id); }; // ***************** Validation Functions ***************** // _exprFunctions.IsValueAlpha = function(val) { var isAlphaRegex = new RegExp("^[a-z\\s]+$", "gi"); return isAlphaRegex.test(val); }; _exprFunctions.IsValueNumeric = function(val) { var isNumericRegex = new RegExp("^[0-9,\\.\\s]+$", "gi"); return isNumericRegex.test(val); }; _exprFunctions.IsValueAlphaNumeric = function(val) { var isAlphaNumericRegex = new RegExp("^[0-9a-z\\s]+$", "gi"); return isAlphaNumericRegex.test(val); }; _exprFunctions.IsValueOneOf = function(val, values) { for(var i = 0; i < values.length; i++) { var option = values[i]; if(val == option) return true; } //by default, return false return false; }; _exprFunctions.IsValueNotAlpha = function(val) { return !_exprFunctions.IsValueAlpha(val); }; _exprFunctions.IsValueNotNumeric = function(val) { return !_exprFunctions.IsValueNumeric(val); }; _exprFunctions.IsValueNotAlphaNumeric = function(val) { return !_exprFunctions.IsValueAlphaNumeric(val); }; _exprFunctions.IsValueNotOneOf = function(val, values) { return !_exprFunctions.IsValueOneOf(val, values); }; _exprFunctions.GetKeyPressed = function(eventInfo) { return eventInfo.keyInfo; }; _exprFunctions.GetCursorRectangles = function() { var rects = new Object(); rects.lastRect = new $ax.drag.Rectangle($ax.lastMouseLocation.x, $ax.lastMouseLocation.y, 1, 1); rects.currentRect = new $ax.drag.Rectangle($ax.mouseLocation.x, $ax.mouseLocation.y, 1, 1); return rects; }; _exprFunctions.GetWidgetRectangles = function(elementId, eventInfo) { var rects = new Object(); var jObj = $jobj(elementId); var invalid = jObj.length == 0; var parent = jObj; // Or are in valid if no obj can be found, or if it is not visible. while(parent.length != 0 && !parent.is('body')) { if(parent.css('display') == 'none') { invalid = true; break; } parent = parent.parent(); } if(invalid) { rects.lastRect = rects.currentRect = new $ax.drag.Rectangle(-1, -1, -1, -1); return rects; } rects.lastRect = new $ax.drag.Rectangle( $ax.legacy.getAbsoluteLeft(jObj), $ax.legacy.getAbsoluteTop(jObj), jObj.width(), jObj.height()); rects.currentRect = rects.lastRect; return rects; }; _exprFunctions.GetWidget = function(elementId) { return $ax.getWidgetInfo(elementId[0]); }; _exprFunctions.GetAdaptiveView = function() { return $ax.adaptive.currentViewId || ''; }; _exprFunctions.IsEntering = function(movingRects, targetRects) { return !movingRects.lastRect.IntersectsWith(targetRects.currentRect) && movingRects.currentRect.IntersectsWith(targetRects.currentRect); }; _exprFunctions.IsLeaving = function(movingRects, targetRects) { return movingRects.lastRect.IntersectsWith(targetRects.currentRect) && !movingRects.currentRect.IntersectsWith(targetRects.currentRect); }; var _IsOver = _exprFunctions.IsOver = function(movingRects, targetRects) { return movingRects.currentRect.IntersectsWith(targetRects.currentRect); }; _exprFunctions.IsNotOver = function(movingRects, targetRects) { return !_IsOver(movingRects, targetRects); }; _exprFunctions.ValueContains = function(inputString, value) { return inputString.indexOf(value) > -1; }; _exprFunctions.ValueNotContains = function(inputString, value) { return !_exprFunctions.ValueContains(inputString, value); }; _exprFunctions.ToString = function(value) { if(value.isWidget) { return value.text; } return String(value); }; var _evaluateExpr = $ax.expr.evaluateExpr = function(expr, eventInfo, toString) { if(expr === undefined || expr === null) return undefined; var result = _exprHandlers[expr.exprType](expr, eventInfo); return toString ? _exprFunctions.ToString(result) : result; }; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fevents%2F</url>
    <content type="text"><![CDATA[// ******* Features MANAGER ******** // $axure.internal(function($ax) { var _features = $ax.features = {}; var _supports = _features.supports = {}; _supports.touchstart = typeof window.ontouchstart !== 'undefined'; _supports.touchmove = typeof window.ontouchmove !== 'undefined'; _supports.touchend = typeof window.ontouchend !== 'undefined'; _supports.mobile = _supports.touchstart && _supports.touchend && _supports.touchmove; // Got this from http://stackoverflow.com/questions/11381673/javascript-solution-to-detect-mobile-browser var check = navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Tablet PC/i) || navigator.userAgent.match(/Windows Phone/i); _supports.windowsMobile = navigator.userAgent.match(/Tablet PC/i) || navigator.userAgent.match(/Windows Phone/i); if(!check && _supports.mobile) { _supports.touchstart = false; _supports.touchmove = false; _supports.touchend = false; _supports.mobile = false; } var _eventNames = _features.eventNames = {}; _eventNames.mouseDownName = _supports.touchstart ? 'touchstart' : 'mousedown'; _eventNames.mouseUpName = _supports.touchend ? 'touchend' : 'mouseup'; _eventNames.mouseMoveName = _supports.touchmove ? 'touchmove' : 'mousemove'; }); // ******* EVENT MANAGER ******** // $axure.internal(function($ax) { var _objectIdToEventHandlers = {}; var _jBrowserEvent = undefined; $ax.setjBrowserEvent = function(event) { _jBrowserEvent = event; }; $ax.getjBrowserEvent = function() { return _jBrowserEvent; }; var _event = {}; $ax.event = _event; //initilize state _event.mouseOverObjectId = ''; _event.mouseDownObjectId = ''; _event.mouseOverIds = []; var EVENT_NAMES = ['mouseenter', 'mouseleave', 'contextmenu', 'change', 'focus', 'blur']; // Tap, double tap, and touch move, or synthetic. if(!$ax.features.supports.mobile) { EVENT_NAMES[EVENT_NAMES.length] = 'click'; EVENT_NAMES[EVENT_NAMES.length] = 'dblclick'; EVENT_NAMES[EVENT_NAMES.length] = 'mousemove'; } // add the event names for the touch events EVENT_NAMES[EVENT_NAMES.length] = $ax.features.eventNames.mouseDownName; EVENT_NAMES[EVENT_NAMES.length] = $ax.features.eventNames.mouseUpName; for(var i = 0; i < EVENT_NAMES.length; i++) { var eventName = EVENT_NAMES[i]; //we need the function here to circumvent closure modifying eventName _event[eventName] = (function(event_Name) { return function(elementId, fn) { var elementIdQuery = $jobj(elementId); var type = $ax.getTypeFromElementId(elementId); //we need specially track link events so we can enable and disable them along with //their parent widgets if(elementIdQuery.is('a')) _attachCustomObjectEvent(elementId, event_Name, fn); //see notes below else if($ax.IsTreeNodeObject(type)) _attachTreeNodeEvent(elementId, event_Name, fn); else if($ax.IsImageFocusable(type) && (event_Name == 'focus' || event_Name == 'blur')) { _attachDefaultObjectEvent($jobj($ax.repeater.applySuffixToElementId(elementId, '_img')), elementId, event_Name, fn); } else { var inputId = $ax.INPUT(elementId); var isInput = $jobj(inputId).length != 0; var id = isInput && (event_Name == 'focus' || event_Name == 'blur') ? inputId : elementId; _attachDefaultObjectEvent($jobj(id), elementId, event_Name, fn); } }; })(eventName); } var AXURE_TO_JQUERY_EVENT_NAMES = { 'onMouseOver': 'mouseenter', 'onMouseOut': 'mouseleave', 'onContextMenu': 'contextmenu', 'onChange': 'change', 'onFocus': 'focus', 'onLostFocus': 'blur' }; // Tap, double tap, and touch move, or synthetic. if(!$ax.features.supports.mobile) { AXURE_TO_JQUERY_EVENT_NAMES.onClick = 'click'; AXURE_TO_JQUERY_EVENT_NAMES.onDoubleClick = 'dblclick'; AXURE_TO_JQUERY_EVENT_NAMES.onMouseMove = 'mousemove'; } AXURE_TO_JQUERY_EVENT_NAMES.onMouseDown = $ax.features.eventNames.mouseDownName; AXURE_TO_JQUERY_EVENT_NAMES.onMouseUp = $ax.features.eventNames.mouseUpName; var _attachEvents = function(diagramObject, elementId) { var inputId = $ax.repeater.applySuffixToElementId(elementId, '_input'); var id = $jobj(inputId).length ? inputId : elementId; for(var eventName in diagramObject.interactionMap) { var jQueryEventName = AXURE_TO_JQUERY_EVENT_NAMES[eventName]; if(!jQueryEventName) continue; _event[jQueryEventName](id, //this is needed to escape closure (function(axEventObject) { return function(e) { $ax.setjBrowserEvent(e); _handleEvent(elementId, $ax.getEventInfoFromEvent($ax.getjBrowserEvent(), false, elementId), axEventObject); }; })(diagramObject.interactionMap[eventName]) ); } }; var preventDefaultEvents = ['OnContextMenu', 'OnKeyUp', 'OnKeyDown']; var allowBubble = ['OnFocus', 'OnResize', 'OnMouseOut', 'OnMouseOver']; var _canClick = true; var _startScroll = []; var _setCanClick = function(canClick) { _canClick = canClick; if(_canClick) _startScroll = [$(window).scrollLeft(), $(window).scrollTop()]; }; var _getCanClick = function() { if(!$ax.features.supports.mobile) return true; var endScroll = [$(window).scrollLeft(), $(window).scrollTop()]; return _canClick && _startScroll[0] == endScroll[0] && _startScroll[1] == endScroll[1]; }; var _handleEvent = $ax.event.handleEvent = function(elementId, eventInfo, axEventObject, skipShowDescriptions, synthetic) { var eventDescription = axEventObject.description; if(!_getCanClick() && eventDescription == 'OnClick') return; // If you are supposed to suppress, do that right away. if(suppressedEventStatus[eventDescription]) { return; } var currentEvent = $ax.getjBrowserEvent(); if(!synthetic && currentEvent && currentEvent.originalEvent && currentEvent.originalEvent.handled && !eventInfo.isMasterEvent) return; if(!synthetic && elementId && !$ax.style.getObjVisible(elementId) && $ax.getTypeFromElementId(elementId) != 'referenceDiagramObject') return; var bubble = true; if(skipShowDescriptions || !_shouldShowCaseDescriptions(axEventObject)) { //handle case descriptions var caseGroups = []; var currentCaseGroup = []; caseGroups[0] = currentCaseGroup; // Those refreshes not after a wait var guaranteedRefreshes = {}; var caseGroupIndex = 0; for(var i = 0; i < axEventObject.cases.length; i++) { var currentCase = axEventObject.cases[i]; if(currentCase.isNewIfGroup && i != 0) { caseGroupIndex++; currentCaseGroup = []; caseGroups[caseGroups.length] = currentCaseGroup; } currentCaseGroup[currentCaseGroup.length] = currentCase; for(var j = 0; j < currentCase.actions.length; j++) { var action = currentCase.actions[j]; if(action.action == 'wait') break; if(action.action != 'refreshRepeater') continue; for(var k = 0; k < action.repeatersToRefresh.length; k++) { var id = $ax.getElementIdsFromPath(action.repeatersToRefresh[k], eventInfo)[0]; guaranteedRefreshes[id] = caseGroupIndex; } } } for(var i = 0; i < caseGroups.length; i++) { var groupRefreshes = []; for(var key in guaranteedRefreshes) { if(guaranteedRefreshes[key] == i) groupRefreshes[groupRefreshes.length] = key; } bubble = _handleCaseGroup(eventInfo, caseGroups[i], groupRefreshes) && bubble; } } else { _showCaseDescriptions(elementId, eventInfo, axEventObject, synthetic); bubble = false; } // Only trigger a supression if it handled this event if(!bubble && suppressingEvents[eventDescription]) { suppressedEventStatus[suppressingEvents[eventDescription]] = true; } // This should not be needed anymore. All refreshes should be inserted, or handled earlier. var repeaters = $ax.deepCopy($ax.action.repeatersToRefresh); while($ax.action.repeatersToRefresh.length) $ax.action.repeatersToRefresh.pop(); for(i = 0; i < repeaters.length; i++) $ax.repeater.refreshRepeater(repeaters[i], eventInfo); if(currentEvent && currentEvent.originalEvent) { currentEvent.originalEvent.handled = !synthetic && !bubble && allowBubble.indexOf(eventDescription) == -1; //currentEvent.originalEvent.donotdrag = currentEvent.donotdrag || (!bubble && eventDescription == 'OnMouseDown'); // Prevent default if necessary if(currentEvent.originalEvent.handled && preventDefaultEvents.indexOf(eventDescription) != -1) { currentEvent.preventDefault(); } } }; var _showCaseDescriptions = function(elementId, eventInfo, axEventObject, synthetic) { if(axEventObject.cases.length == 0) return true; var linksId = elementId + "linkBox"; $('#' + linksId).remove(); var $container = $(""); if(!_isEventSimulating(axEventObject)) { var copy = $ax.eventCopy(eventInfo); for(var i = 0; i < axEventObject.cases.length; i++) { var $link = $("" + axEventObject.cases[i].description + ""); $link.click(function(j) { return function() { var bubble = $ax.action.dispatchAction(copy, axEventObject.cases[j].actions); $('#' + linksId).remove(); return bubble; }; } (i) ); $container.append($link); } } else { var fullDescription = axEventObject.description + ":"; for(var i = 0; i < axEventObject.cases.length; i++) { var currentCase = axEventObject.cases[i]; fullDescription += "&nbsp;&nbsp;" + currentCase.description.replace(//g, '&nbsp;&nbsp;') + ":"; for(var j = 0; j < currentCase.actions.length; j++) { fullDescription += "&nbsp;&nbsp;&nbsp;&nbsp;" + currentCase.actions[j].description.replace(//g, '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;') + ""; } } fullDescription = fullDescription.substring(0, fullDescription.length - 4); var $link = $("" + fullDescription + ""); $link.click(function() { _handleEvent(elementId, eventInfo, axEventObject, true, synthetic); $('#' + linksId).remove(); return; }); $container.append($link); } $container.mouseleave(function(e) { $ax.legacy.SuppressBubble(e); }); $('body').append($container); _showCaseLinks(eventInfo, linksId); }; var _showCaseLinks = function(eventInfo, linksId) { var links = window.document.getElementById(linksId); links.style.top = eventInfo.pageY; var left = eventInfo.pageX; links.style.left = left; $ax.visibility.SetVisible(links, true); $ax.legacy.BringToFront(linksId, true); $ax.legacy.RefreshScreen(); }; var _shouldShowCaseDescriptions = function(axEventObject) { if($ax.document.configuration.linkStyle == "alwaysDisplayTargets") return true; if($ax.document.configuration.linkStyle == "neverDisplayTargets") return false; if(axEventObject.cases.length == 0) return false; if(_isEventSimulating(axEventObject)) return false; if(axEventObject.cases.length >= 2) return true; return false; }; var _isEventSimulating = function(axEventObject) { for(var i = 0; i < axEventObject.cases.length; i++) { if(axEventObject.cases[i].condition) return true; } return false; }; var _handleCaseGroup = function(eventInfo, caseGroup, groupRefreshes) { for(var i = 0; i < caseGroup.length; i++) { var currentCase = caseGroup[i]; if(!currentCase.condition || _processCondition(currentCase.condition, eventInfo)) { for(var j = 0; j < currentCase.actions.length; j++) { var action = currentCase.actions[j]; if(action.action == 'wait') break; if(action.action != 'refreshRepeater') continue; for(var k = 0; k < action.repeatersToRefresh.length; k++) { var id = $ax.getElementIdsFromPath(action.repeatersToRefresh[i], eventInfo)[i]; var index = groupRefreshes.indexOf(id); if(index != -1) $ax.splice(groupRefreshes, index); } } // Any guaranteed refreshes that aren't accounted for must be run still. $ax.action.tryRefreshRepeaters(groupRefreshes, eventInfo); $ax.action.dispatchAction(eventInfo, currentCase.actions); return false; } } // Any guaranteed refreshes that aren't accounted for must be run still. $ax.action.tryRefreshRepeaters(groupRefreshes, eventInfo); return true; }; var _processCondition = function(expr, eventInfo) { return $ax.expr.evaluateExpr(expr, eventInfo); }; var _attachTreeNodeEvent = function(elementId, eventName, fn) { //we need to set the cursor here because we want to make sure that every tree node has the default //cursor set and then it's overridden if it has a click if(eventName == 'click') window.document.getElementById(elementId).style.cursor = 'pointer'; _attachCustomObjectEvent(elementId, eventName, fn); }; var _attachDefaultObjectEvent = function(elementIdQuery, elementId, eventName, fn) { var func = function() { if(!$ax.style.IsWidgetDisabled(elementId)) return fn.apply(this, arguments); return true; }; var bind = !elementIdQuery[eventName]; if(bind) elementIdQuery.bind(eventName, func); else elementIdQuery[eventName](func); }; var _attachCustomObjectEvent = function(elementId, eventName, fn) { var handlers = _objectIdToEventHandlers[elementId]; if(!handlers) _objectIdToEventHandlers[elementId] = handlers = {}; var fnList = handlers[eventName]; if(!fnList) handlers[eventName] = fnList = []; fnList[fnList.length] = fn; }; var _fireObjectEvent = function(elementId, event, originalArgs) { var element = window.document.getElementById(elementId); var handlerList = _objectIdToEventHandlers[elementId] && _objectIdToEventHandlers[elementId][event]; if(handlerList) { for(var i = 0; i < handlerList.length; i++) handlerList[i].apply(element, originalArgs); } }; //for button shapes and images the img is focusable instead of the div to get better outlines $ax.event.getFocusableWidgetOrChildId = function(elementId) { var imgId = $ax.repeater.applySuffixToElementId(elementId, '_img'); var imgQuery = $jobj(imgId); var inputId = $ax.repeater.applySuffixToElementId(elementId, '_input'); var inputQuery = $jobj(inputId); return inputQuery.length > 0 ? inputId : imgQuery.length > 0 ? imgId : elementId; }; // key is the suppressing event, and the value is the event that is supressed var suppressingEvents = {}; // key is the event that will cancel the suppression, and value is the event that was being suppressed var cancelSuppressions = {}; // suppressed event maps to true if it is supressed var suppressedEventStatus = {}; // Attempt at a generic way to supress events var initSuppressingEvents = function(query) { suppressingEvents['OnLongClick'] = 'OnClick'; cancelSuppressions['onMouseDown'] = 'OnClick'; // Have to cancel suppressed event here. Only works for non-synthetic events currently for(var key in cancelSuppressions) { var eventName = AXURE_TO_JQUERY_EVENT_NAMES[key]; if(!eventName) continue; (function(eventName, suppressed) { query.bind(eventName, function() { suppressedEventStatus[suppressed] = false; }); })(eventName, cancelSuppressions[key]); } // Otherwise see if you have the chance to cancel a supression // if(cancelSuppressions[eventDescription]) { // suppressedEventStatus[cancelSuppressions[eventDescription]] = false; // } }; // TODO: It may be a good idea to split this into multiple functions, or at least pull out more similar functions into private methods var _initializeObjectEvents = function (query) { // Must init the supressing eventing before the handlers, so that it has the ability to supress those events. initSuppressingEvents(query); query.each(function(dObj, elementId) { var $element = $jobj(elementId); // Focus has to be done before on focus fires // Set up focus if(dObj.type == 'textArea' || dObj.type == 'textBox' || dObj.type == 'checkBox' || dObj.type == 'radioButton' || dObj.type == 'listBox' || dObj.type == 'comboBox' || dObj.type == 'button' || dObj.type == 'imageBox' || dObj.type == 'buttonShape' || dObj.type == 'flowShape' || dObj.type == 'treeNodeObject' || dObj.type == 'tableCell') { var focusObj = $jobj($ax.event.getFocusableWidgetOrChildId(elementId)); focusObj.focus(function() { window.lastFocusedControl = elementId; }); } // [MAS: Supressing events were here] if(dObj.interactionMap) { _attachEvents(dObj, elementId); }; //attach button shape alternate styles var needsMouseFilter = dObj.type != 'hyperlink' && dObj.type != 'dynamicPanel' && dObj.type != 'richTextPanel' && dObj.type != 'repeater' && dObj.type != 'checkbox' && dObj.type != 'radioButton' && dObj.type != 'treeNodeObject'; if(needsMouseFilter) { $element.mouseenter(function() { var elementId = this.id; var parent = $ax.dynamicPanelManager.parentHandlesStyles(elementId); if(parent && parent.direct) return; if($.inArray(elementId, _event.mouseOverIds) != -1) return; _event.mouseOverIds[_event.mouseOverIds.length] = elementId; if(elementId == _event.mouseOverObjectId) return; _event.mouseOverObjectId = elementId; $ax.style.SetWidgetHover(elementId, true); var textId = $ax.style.GetTextIdFromShape(elementId); if(textId) $ax.annotation.updateLinkLocations(textId); }).mouseleave(function() { var elementId = this.id; var parent = $ax.dynamicPanelManager.parentHandlesStyles(elementId); if(parent && parent.direct) return; $ax.splice(_event.mouseOverIds, $.inArray(elementId, _event.mouseOverIds), 1); if(elementId == _event.mouseOverObjectId) { _event.mouseOverObjectId = ''; } $ax.style.SetWidgetHover(elementId, false); var textId = $ax.style.GetTextIdFromShape(elementId); if(textId) $ax.annotation.updateLinkLocations(textId); }); $element.bind($ax.features.eventNames.mouseDownName, function() { var elementId = this.id; var parent = $ax.dynamicPanelManager.parentHandlesStyles(elementId); if(parent) { dynamicPanelMouseDown(parent.id); if(parent.direct) return; } _event.mouseDownObjectId = elementId; $ax.style.SetWidgetMouseDown(this.id, true); $ax.annotation.updateLinkLocations($ax.style.GetTextIdFromShape(elementId)); }).bind($ax.features.eventNames.mouseUpName, function() { var elementId = this.id; var parent = $ax.dynamicPanelManager.parentHandlesStyles(elementId); if(parent) { dynamicPanelMouseUp(parent.id); if(parent.direct) return; } var mouseDownId = _event.mouseDownObjectId; _event.mouseDownObjectId = ''; if(!$ax.style.ObjHasMouseDown(elementId)) return; $ax.style.SetWidgetMouseDown(elementId, false); $ax.annotation.updateLinkLocations($ax.style.GetTextIdFromShape(elementId)); //there used to be something we needed to make images click, because swapping out the images prevents the click // this is a note that we can eventually delete. }); } var $axElement = undefined; // Initialize selected elements if((dObj.type == 'flowShape' || dObj.type == 'buttonShape' || dObj.type == 'imageBox' || dObj.type == 'dynamicPanel') && dObj.selected) { if(!$axElement) $axElement = $ax('#' + elementId); $axElement.selected(true); } //initialize disabled elements if((dObj.type == 'flowShape' || dObj.type == 'buttonShape' || dObj.type == 'imageBox' || dObj.type == 'dynamicPanel') && dObj.disabled) { if(!$axElement) $axElement = $ax('#' + elementId); $axElement.enabled(false); } if(OS_MAC && WEBKIT) { if(dObj.type == 'comboBox' && dObj.disabled) { $jobj($ax.INPUT(elementId)).css('color', 'grayText'); } }; // Initialize Placeholders. Right now this is text boxes and text areas. // Also, the assuption is being made that these widgets with the placeholder, have no other styles (this may change...) var hasPlaceholder = dObj.placeholderText == '' ? true : Boolean(dObj.placeholderText); if((dObj.type == 'textArea' || dObj.type == 'textBox') && hasPlaceholder) { // This is needed to initialize the placeholder state $jobj($ax.INPUT(elementId)).bind('keydown', function() { var id = this.id; var inputIndex = id.indexOf('_input'); if(inputIndex == -1) return; var inputId = id.substring(0, inputIndex); if(!$ax.placeholderManager.isActive(inputId)) return; $ax.placeholderManager.updatePlaceholder(inputId, false, true); }).bind('keyup', function() { var id = this.id; var inputIndex = id.indexOf('_input'); if(inputIndex == -1) return; var inputId = id.substring(0, inputIndex); if($ax.placeholderManager.isActive(inputId)) return; if(!$jobj(id).val()) { $ax.placeholderManager.updatePlaceholder(inputId, true); $ax.placeholderManager.moveCaret(id, 0); } }).bind('focus', function() { $ax.placeholderManager.moveCaret(this.id); }).bind('mousedown', function() { $ax.placeholderManager.moveCaret(this.id); }).bind('mouseup', function() { $ax.placeholderManager.moveCaret(this.id); }).bind('blur', function() { var id = this.id; var inputIndex = id.indexOf('_input'); if(inputIndex == -1) return; var inputId = id.substring(0, inputIndex); if($jobj(id).val()) return; $ax.placeholderManager.updatePlaceholder(inputId, true); }); $ax.placeholderManager.registerPlaceholder(elementId, dObj.placeholderText, $jobj($ax.INPUT(elementId)).attr('type') == 'password'); $ax.placeholderManager.updatePlaceholder(elementId, !($jobj($ax.repeater.applySuffixToElementId(elementId, '_input')).val())); } // Initialize assigned submit buttons if(dObj.submitButton) { $element.keyup(function(e) { if(e.keyCode == '13') { var scriptId = $ax.repeater.getScriptIdFromElementId(elementId); var path = $ax.deepCopy(dObj.submitButton.path); path[path.length] = dObj.submitButton.id; var itemNum = $ax.repeater.getItemIdFromElementId(elementId); var submitId = $ax.getScriptIdFromPath(path, scriptId); if(itemNum && $ax.getParentRepeaterFromScriptId(submitId) == $ax.getParentRepeaterFromScriptId(scriptId)) { submitId = $ax.repeater.createElementId(submitId, itemNum); } var inputId = $ax.INPUT(submitId); if($jobj(inputId).length) submitId = inputId; $ax.setjBrowserEvent(e); $ax.event.fireClick(submitId); } }).keydown(function(e) { if(e.keyCode == '13') { e.preventDefault(); } }); } // Don't drag after mousing down on a plain text object if(dObj.type == 'textArea' || dObj.type == 'textBox' || dObj.type == 'listBox' || dObj.type == 'comboBox' || dObj.type == 'checkBox' || dObj.type == 'radioButton') { $element.bind($ax.features.eventNames.mouseDownName, function(event) { event.originalEvent.donotdrag = true; }); } if($ax.features.supports.mobile) { $element.bind($ax.features.eventNames.mouseDownName, function() { _setCanClick(true); }); if(dObj.type == 'dynamicPanel') { $element.scroll(function() { _setCanClick(false); }); } } //initialize tree node cursors to default so they will override their parent if(dObj.type == 'treeNodeObject' && !(dObj.interactionMap && dObj.interactionMap.onClick)) { $element.css('cursor', 'default'); } //initialize widgets that are clickable to have the pointer over them when hovering if(dObj.interactionMap && dObj.interactionMap.onClick) { if($element) $element.css('cursor', 'pointer'); } // TODO: not sure if we need this. It appears to be working without //initialize panels for DynamicPanels if(dObj.type == 'dynamicPanel') { $element.children().each(function() { var parts = this.id.split('_'); var state = parts[parts.length - 1].substring(5); if(state != 0) $ax.visibility.SetVisible(this, false); }); } //initialize TreeNodes if(dObj.type == 'treeNodeObject') { if($element.hasClass('treeroot')) return; var childrenId = elementId + '_children'; var children = $element.children('[id="' + childrenId + '"]:first'); if(children.length > 0) { var plusMinusId = 'u' + (parseInt($ax.repeater.getScriptIdFromElementId(elementId).substring(1)) + 1); var itemId = $ax.repeater.getItemIdFromElementId(elementId); if(itemId) plusMinusId = $ax.repeater.createElementId(plusMinusId, itemId); if(!$jobj(plusMinusId).hasClass('ax_image')) plusMinusId = ''; $ax.tree.InitializeTreeNode(elementId, plusMinusId, childrenId); } $element.click(function() { $ax.tree.SelectTreeNode(elementId, true); }); } //initialize submenus if(dObj.type == 'menuObject') { if($element.hasClass('sub_menu')) { var tableCellElementId = $ax.getElementIdFromPath([dObj.parentCellId], { relativeTo: elementId }); $ax.menu.InitializeSubmenu(elementId, tableCellElementId); } } // Attach handles for dynamic panels that propagate styles to inner items. if(dObj.type == 'dynamicPanel' && dObj.propagate) { $element.mouseenter(function() { var elementId = this.id; dynamicPanelMouseOver(elementId); }).mouseleave(function() { var elementId = this.id; dynamicPanelMouseLeave(elementId); }).bind($ax.features.eventNames.mouseDownName, function() { var elementId = this.id; dynamicPanelMouseDown(elementId); }).bind($ax.features.eventNames.mouseUpName, function() { var elementId = this.id; dynamicPanelMouseUp(elementId); }); } // These are the dynamic panel functions for propagating rollover styles and mouse down styles to inner objects var dynamicPanelMouseOver = function(elementId, fromChild) { var parent = $ax.dynamicPanelManager.parentHandlesStyles(elementId); if(parent) { dynamicPanelMouseOver(parent.id, true); if(parent.direct) return; } if($.inArray(elementId, _event.mouseOverIds) != -1) return; // If this event is coming from a child, don't mark that it's actually entered. // Only mark that this has been entered if this event has naturally been triggered. (For reason see mouseleave) if(!fromChild) _event.mouseOverIds[_event.mouseOverIds.length] = elementId; if(elementId == _event.mouseOverObjectId) return; _event.mouseOverObjectId = elementId; $ax.dynamicPanelManager.propagateMouseOver(elementId, true); }; var dynamicPanelMouseLeave = function(elementId, fromChild) { var parent = $ax.dynamicPanelManager.parentHandlesStyles(elementId); if(parent) { dynamicPanelMouseLeave(parent.id, true); if(parent.direct) return; } var index = $.inArray(elementId, _event.mouseOverIds); // If index != -1, this has been natuarally entered. If naturally entered, then leaving child should not trigger leaving, // but instead wait for natural mouse leave. If natural mouse enter never triggered, natural mouse leave won't so do this now. if((index != -1) && fromChild) return; $ax.splice(_event.mouseOverIds, index, 1); if(elementId == _event.mouseOverObjectId) { _event.mouseOverObjectId = ''; } $ax.dynamicPanelManager.propagateMouseOver(elementId, false); }; var dynamicPanelMouseDown = function(elementId) { var parent = $ax.dynamicPanelManager.parentHandlesStyles(elementId); if(parent) { dynamicPanelMouseDown(parent.id); if(parent.direct) return; } _event.mouseDownObjectId = elementId; $ax.dynamicPanelManager.propagateMouseDown(elementId, true); }; var dynamicPanelMouseUp = function(elementId) { var parent = $ax.dynamicPanelManager.parentHandlesStyles(elementId); if(parent) { dynamicPanelMouseUp(parent.id); if(parent.direct) return; } _event.mouseDownObjectId = ''; $ax.dynamicPanelManager.propagateMouseDown(elementId, false); }; //attach handlers for button shape and tree node mouse over styles // TODO: Can this really be removed? Trees seem to work with out (the generic hover case works for it). // query.filter(function(obj) { // return obj.type == 'buttonShape' && obj.parent.type == 'treeNodeObject' && // obj.parent.style && obj.parent.style.stateStyles && // obj.parent.style.stateStyles.mouseOver; // }).mouseenter(function() { // $ax.style.SetWidgetHover(this.id, true); // }).mouseleave(function() { // $ax.style.SetWidgetHover(this.id, false); // }); //handle treeNodeObject events and prevent them from bubbling up. this is necessary because otherwise //both a sub menu and it's parent would get a click if(dObj.type == 'treeNodeObject') { $element.click(function() { //todo -- this was bubbling, but then selecting a child tree node would bubble and select the parent (don't know if there is a better way) _fireObjectEvent(this.id, 'click', arguments); return false; }).each(function() { if(!this.style.cursor) { this.style.cursor = 'default'; } }); } // Synthetic events var map = dObj.interactionMap; // Attach dynamic panel synthetic drag and swipe events if(dObj.type == "dynamicPanel" && map && ( map.onDragStart || map.onDrag || map.onDragDrop || map.onSwipeLeft || map.onSwipeRight || map.onSwipeUp || map.onSwipeDown)) { $element.bind($ax.features.eventNames.mouseDownName, function(e) { $ax.drag.StartDragWidget(e.originalEvent, elementId); }); } // Attach dynamic panel synthetic scroll event if(dObj.type == 'dynamicPanel' && map && map.onScroll) { var diagrams = dObj.diagrams; for(var i = 0; i < diagrams.length; i++) { var panelId = $ax.repeater.applySuffixToElementId(elementId, '_state' + i); (function(id) { _attachDefaultObjectEvent($('#' + id), elementId, 'scroll', function(e) { $ax.setjBrowserEvent(e); _handleEvent(elementId, $ax.getEventInfoFromEvent($ax.getjBrowserEvent(), false, elementId), map.onScroll); }); })(panelId); } } // Attach synthetic hover event if (map && map.onMouseHover) { var MIN_HOVER_HOLD_TIME = 1000; // So when the timeout fires, you know whether it is the same mouseenter that is active or not. var hoverMouseCount = 0; // Update eventInfo regularly, so position is accurate. var hoverEventInfo; $element.mouseenter(function(e) { $ax.setjBrowserEvent(e); hoverEventInfo = $ax.getEventInfoFromEvent($ax.getjBrowserEvent(), false, elementId); (function(currCount) { window.setTimeout(function() { if(currCount == hoverMouseCount) _raiseSyntheticEvent(elementId, 'onMouseHover', false, hoverEventInfo, true); }, MIN_HOVER_HOLD_TIME); })(hoverMouseCount); }).mouseleave(function(e) { $ax.setjBrowserEvent(e); hoverMouseCount++; }).mousemove(function(e) { $ax.setjBrowserEvent(e); hoverEventInfo = $ax.getEventInfoFromEvent($ax.getjBrowserEvent(), false, elementId); }); } // Attach synthetic tap and hold event. if (map && map.onLongClick) { var MIN_LONG_CLICK_HOLD_TIME = 750; // So when the timeout fires, you know whether it is the same mousedown that is active or not. var longClickMouseCount = 0; $element.bind($ax.features.eventNames.mouseDownName, function(e) { (function(currCount) { $ax.setjBrowserEvent(e); var eventInfo = $ax.getEventInfoFromEvent($ax.getjBrowserEvent(), false, elementId); window.setTimeout(function() { if(currCount == longClickMouseCount) _raiseSyntheticEvent(elementId, 'onLongClick', false, eventInfo, true); }, MIN_LONG_CLICK_HOLD_TIME); if(e.preventDefault) e.preventDefault(); })(longClickMouseCount); }).bind($ax.features.eventNames.mouseUpName, function(e) { $ax.setjBrowserEvent(e); longClickMouseCount++; }); }; // Attach synthetic onSelectionChange event to droplist and listbox elements if ($ax.event.HasSelectionChanged(dObj)) { $element.bind('change', function(e) { $ax.setjBrowserEvent(e); _raiseSyntheticEvent(elementId, 'onSelectionChange'); }); }; // Highjack key up and key down to keep track of state of keyboard. _event.initKeyEvents($element); // Attach synthetic onTextChange event to textbox and textarea elements if ($ax.event.HasTextChanged(dObj)) { var element = $jobj($ax.INPUT(elementId)); $ax.updateElementText(elementId, element.val()); //Key down needed because when holding a key down, key up only fires once, but keydown fires repeatedly. //Key up because last mouse down will only show the state before the last character. element.bind('keydown', function(e) { $ax.setjBrowserEvent(e); $ax.event.TryFireTextChanged(elementId); }).bind('keyup', function(e) { $ax.setjBrowserEvent(e); $ax.event.TryFireTextChanged(elementId); }); }; // Attach synthetic onCheckedChange event to radiobutton and checkbox elements if (dObj.type == 'checkbox' || dObj.type == 'radioButton') { var input = $jobj($ax.INPUT(elementId)); if(dObj.type == 'radioButton' && input.prop('checked')) { $ax.updateRadioButtonSelected(input.attr('name'), elementId); } $element.bind('change', function(e) { $ax.setjBrowserEvent(e); _tryFireCheckedChanged(elementId, true); }); }; var hasTap = map && (map.onClick || map.onDoubleClick); var hasMove = map && map.onMouseMove; _event.initMobileEvents(hasTap ? $element : $(), hasMove ? $element : $(), elementId); //attach link alternate styles if(dObj.type == 'hyperlink') { $element.mouseenter(function() { var elementId = this.id; if(_event.mouseOverIds.indexOf(elementId) != -1) return true; _event.mouseOverIds[_event.mouseOverIds.length] = elementId; var mouseOverObjectId = _event.mouseOverObjectId; if(mouseOverObjectId && $ax.style.IsWidgetDisabled(mouseOverObjectId)) return true; $ax.style.SetLinkHover(elementId); var bubble = _fireObjectEvent(elementId, 'mouseenter', arguments); $ax.annotation.updateLinkLocations($ax.style.GetTextIdFromLink(elementId)); return bubble; }).mouseleave(function() { var elementId = this.id; $ax.splice(_event.mouseOverIds, _event.mouseOverIds.indexOf(elementId), 1); var mouseOverObjectId = _event.mouseOverObjectId; if(mouseOverObjectId && $ax.style.IsWidgetDisabled(mouseOverObjectId)) return true; $ax.style.SetLinkNotHover(elementId); var bubble = _fireObjectEvent(elementId, 'mouseleave', arguments); $ax.annotation.updateLinkLocations($ax.style.GetTextIdFromLink(elementId)); return bubble; }).bind($ax.features.eventNames.mouseDownName, function() { var elementId = this.id; var mouseOverObjectId = _event.mouseOverObjectId; if($ax.style.IsWidgetDisabled(mouseOverObjectId)) return undefined; if(mouseOverObjectId) $ax.style.SetWidgetMouseDown(mouseOverObjectId, true); $ax.style.SetLinkMouseDown(elementId); $ax.annotation.updateLinkLocations($ax.style.GetTextIdFromLink(elementId)); return false; }).bind($ax.features.eventNames.mouseUpName, function() { var elementId = this.id; var mouseOverObjectId = _event.mouseOverObjectId; if(mouseOverObjectId && $ax.style.IsWidgetDisabled(mouseOverObjectId)) return; if(mouseOverObjectId) $ax.style.SetWidgetMouseDown(mouseOverObjectId, false); $ax.style.SetLinkNotMouseDown(elementId); $ax.annotation.updateLinkLocations($ax.style.GetTextIdFromLink(elementId)); }).click(function() { var elementId = this.id; var mouseOverObjectId = _event.mouseOverObjectId; if(mouseOverObjectId && $ax.style.IsWidgetDisabled(mouseOverObjectId)) return undefined; return _fireObjectEvent(elementId, 'click', arguments); }); } // Init inline frames if (dObj.type == 'inlineFrame') { var target = dObj.target; var url = ''; if(target.includeVariables && target.url) { var origSrc = target.url; url = origSrc.toLowerCase().indexOf('http://') == -1 ? $ax.globalVariableProvider.getLinkUrl(origSrc) : origSrc; } else if(target.urlLiteral) { url = $ax.expr.evaluateExpr(target.urlLiteral, $ax.getEventInfoFromEvent(undefined, true, elementId), true); } if(url) $jobj($ax.INPUT(elementId)).attr('src', url); }; }); } $ax.initializeObjectEvents = _initializeObjectEvents; // Handle key up and key down events (function() { var _keyState = {}; _keyState.ctrl = false; _keyState.alt = false; _keyState.shift = false; _keyState.keyCode = 0; $ax.event.keyState = function() { return $ax.deepCopy(_keyState); }; var modifierCodes = [16, 17, 18]; $ax.event.initKeyEvents = function($query) { $query.keydown(function(e) { var elementId = this.id; _keyState.ctrl = e.ctrlKey; _keyState.alt = e.altKey; _keyState.shift = e.shiftKey; // If a modifier was pressed, then don't set the keyCode; if(modifierCodes.indexOf(e.keyCode) == -1) _keyState.keyCode = e.keyCode; $ax.setjBrowserEvent(e); if(!elementId) fireEventThroughContainers('onKeyDown', undefined, false, ['page', 'referenceDiagramObject', 'dynamicPanel', 'repeater'], ['page', 'referenceDiagramObject']); else _raiseSyntheticEvent(elementId, 'onKeyDown', false, undefined, true); }); $query.keyup(function(e) { var elementId = this.id; $ax.setjBrowserEvent(e); // Fire event before updating modifiers. if(!elementId) fireEventThroughContainers('onKeyUp', undefined, false, ['page', 'referenceDiagramObject', 'dynamicPanel', 'repeater'], ['page', 'referenceDiagramObject']); else _raiseSyntheticEvent(elementId, 'onKeyUp', false, undefined, true); _keyState.ctrl = e.ctrlKey; _keyState.alt = e.altKey; _keyState.shift = e.shiftKey; // If a non-modifier was lifted, clear the keycode if(modifierCodes.indexOf(e.keyCode) == -1) _keyState.keyCode = 0; }); }; })(); // Handle adding mobile events (function() { // NOTE: Multi touch is NOT handled currently. var CLICK_THRESHOLD_PX = 25; var CLICK_THRESHOLD_PX_SQ = CLICK_THRESHOLD_PX * CLICK_THRESHOLD_PX; var DBLCLICK_THRESHOLD_MS = 500; // Location in page cooridinates var tapDownLoc; var lastClickEventTime; _event.initMobileEvents = function($tapQuery, $moveQuery, elementId) { if(!$ax.features.supports.mobile) return; // Handle touch start $tapQuery.bind('touchstart', function(e) { // We do NOT support multiple touches. This isn't necessarily the touch we want. var touch = e.originalEvent && e.originalEvent.changedTouches && e.originalEvent.changedTouches[0]; if(!touch) return; tapDownLoc = [touch.pageX, touch.pageY]; var time = (new Date()).getTime(); if(time - lastClickEventTime < DBLCLICK_THRESHOLD_MS) { var dObj = elementId === '' ? $ax.pageData.page : $ax.getObjectFromElementId(elementId); var axEventObject = dObj && dObj.interactionMap && dObj.interactionMap['onDoubleClick']; if(axEventObject) e.preventDefault(); //for Chrome on Android } }).bind('touchend', function(e) { var touch = e.originalEvent && e.originalEvent.changedTouches && e.originalEvent.changedTouches[0]; if(!touch || !tapDownLoc) return; var tapUpLoc = [touch.pageX, touch.pageY]; var xDiff = tapUpLoc[0] - tapDownLoc[0]; var yDiff = tapUpLoc[1] - tapDownLoc[1]; if((xDiff * xDiff + yDiff * yDiff) < CLICK_THRESHOLD_PX_SQ) { $ax.setjBrowserEvent(e); _raiseSyntheticEvent(elementId, 'onClick', false, undefined, true); var time = (new Date()).getTime(); if(time - lastClickEventTime < DBLCLICK_THRESHOLD_MS) { _raiseSyntheticEvent(elementId, 'onDoubleClick', false, undefined, true); if(e.originalEvent && e.originalEvent.handled) e.preventDefault(); //for iOS } lastClickEventTime = time; } }); // Handles touch move $moveQuery.bind('touchmove', function(e) { $ax.setjBrowserEvent(e); _raiseSyntheticEvent(elementId, 'onMouseMove', false, undefined, true); if(e.originalEvent && e.originalEvent.handled) e.preventDefault(); }); }; })(); // Handle adding device independent click events to non-widgets (function() { var CLICK_THRESHOLD_PX = 25; var CLICK_THRESHOLD_PX_SQ = CLICK_THRESHOLD_PX * CLICK_THRESHOLD_PX; // Location in page cooridinates var tapDownLoc; _event.attachClick = function(query, clickHandler) { if(!$ax.features.supports.mobile) { query.click(clickHandler); return; } $(query).bind('touchstart', function(e) { // We do NOT support multiple touches. This isn't necessarily the touch we want. var touch = e.originalEvent && e.originalEvent.changedTouches && e.originalEvent.changedTouches[0]; if(!touch) return; tapDownLoc = [touch.pageX, touch.pageY]; }); $(query).bind('touchend', function(e) { var touch = e.originalEvent && e.originalEvent.changedTouches && e.originalEvent.changedTouches[0]; if(!touch) return; var tapUpLoc = [touch.pageX, touch.pageY]; var xDiff = tapUpLoc[0] - tapDownLoc[0]; var yDiff = tapUpLoc[1] - tapDownLoc[1]; if((xDiff * xDiff + yDiff * yDiff) < CLICK_THRESHOLD_PX_SQ) { clickHandler(); } }); }; })(); // Handle firing device independent click events on widgets (function() { _event.fireClick = function(elementId) { if(!$ax.features.supports.mobile) { $('#' + elementId).click(); return; } _raiseSyntheticEvent(elementId, 'onClick', false, undefined, true); }; })(); var _mouseLocation = $ax.mouseLocation = { x: 0, y: 0 }; var _lastmouseLocation = $ax.lastMouseLocation = { x: 0, y: 0 }; var _updateMouseLocation = function(e, end) { if(!e) return; if(IE && typeof (e.type) == 'unknown') return; if(e.type != 'mousemove' && e.type != 'touchstart' && e.type != 'touchmove' && e.type != 'touchend') return; var newX; var newY; if(IE) { newX = e.clientX + $('html').scrollLeft(); newY = e.clientY + $('html').scrollTop(); } else { newX = e.pageX; newY = e.pageY; } var body = $('body'); if(body.css('position') == 'relative') newX = Math.round(newX - Number(body.css('left').replace('px', '')) - Math.max(0, ($(window).width() - body.width()) / 2)); if(_mouseLocation.x == newX && _mouseLocation.y == newY) return; _lastmouseLocation.x = _mouseLocation.x; _lastmouseLocation.y = _mouseLocation.y; _mouseLocation.x = newX; _mouseLocation.y = newY; $ax.geometry.tick(_mouseLocation.x, _mouseLocation.y, end); }; _event.updateMouseLocation = _updateMouseLocation; var _leavingState = function(stateId) { var mouseOverIds = _event.mouseOverIds; if(mouseOverIds.length == 0) return; var stateQuery = $jobj(stateId); for(var i = mouseOverIds.length - 1; i >= 0; i--) { var id = mouseOverIds[i]; if(stateQuery.find('#' + id).length) { $ax.splice(mouseOverIds, $.inArray(id, mouseOverIds), 1); $ax.style.SetWidgetMouseDown(id, false); $ax.style.SetWidgetHover(id, false); } } }; _event.leavingState = _leavingState; var _raiseSyntheticEvent = function(elementId, eventName, skipShowDescription, eventInfo, nonSynthetic) { // Empty string used when this is an event directly on the page. var dObj = elementId === '' ? $ax.pageData.page : $ax.getObjectFromElementId(elementId); var axEventObject = dObj && dObj.interactionMap && dObj.interactionMap[eventName]; if(!axEventObject) return; eventInfo = eventInfo || $ax.getEventInfoFromEvent($ax.getjBrowserEvent(), skipShowDescription, elementId); _handleEvent(elementId, eventInfo, axEventObject, false, !nonSynthetic); }; $ax.event.raiseSyntheticEvent = _raiseSyntheticEvent; var _hasSyntheticEvent = function(scriptId, eventName) { var dObj = $ax.getObjectFromScriptId(scriptId); var axEventObject = dObj && dObj.interactionMap && dObj.interactionMap[eventName]; return Boolean(axEventObject); }; $ax.event.hasSyntheticEvent = _hasSyntheticEvent; var _initialize = function() { $ax.repeater.load(); // Make sure key events for page are initialized first. That way they will update the value of key pressed before any other events occur. _event.initKeyEvents($(window)); _initializeObjectEvents($ax('*')); //finally, process the pageload _pageLoad(); // _loadDynamicPanelsAndMasters(); // $ax.repeater.init(); // and wipe out the basic links. $('.basiclink').click(function() { return false; }); }; _event.initialize = _initialize; $ax.event.HasTextChanged = function(diagramObject) { if(diagramObject.type != 'textBox' && diagramObject.type != 'textArea') return false; var map = diagramObject.interactionMap; return map && map.onTextChange; }; $ax.event.TryFireTextChanged = function(elementId) { var query = $jobj($ax.repeater.applySuffixToElementId(elementId, '_input')); if(!$ax.hasElementTextChanged(elementId, query.val())) return; $ax.updateElementText(elementId, query.val()); $ax.event.raiseSyntheticEvent(elementId, 'onTextChange'); }; $ax.event.HasSelectionChanged = function(diagramObject) { if(diagramObject.type != 'listBox' && diagramObject.type != 'comboBox') return false; var map = diagramObject.interactionMap; return map && map.onSelectionChange; }; $ax.event.HasCheckedChanged = function(diagramObject) { if(diagramObject.type != 'checkbox' && diagramObject.type != 'radioButton') return false; var map = diagramObject.interactionMap; return map && map.onCheckedChange; }; var _tryFireCheckedChanged = $ax.event.TryFireCheckChanged = function(elementId, value) { var isRadio = $obj(elementId).type == 'radioButton'; if(isRadio) { if(!value) { $ax.updateRadioButtonSelected($jobj($ax.INPUT(elementId)).attr('name'), undefined); } else { var last = $ax.updateRadioButtonSelected($jobj($ax.INPUT(elementId)).attr('name'), elementId); // If no change, this should not fire if(last == elementId) return; // Initially selecting one, last may be undefined if(last) $ax.event.raiseSyntheticEvent(last, 'onCheckedChange'); } } $ax.event.raiseSyntheticEvent(elementId, 'onCheckedChange'); }; var _loadDynamicPanelsAndMasters = function(objects, path, itemId) { fireEventThroughContainers('onLoad', objects, true, ['page', 'referenceDiagramObject', 'dynamicPanel'], ['page', 'referenceDiagramObject', 'dynamicPanel', 'repeater'], path, itemId); }; $ax.loadDynamicPanelsAndMasters = _loadDynamicPanelsAndMasters; var _viewChangePageAndMasters = function() { fireEventThroughContainers('onAdaptiveViewChange', undefined, true, ['page', 'referenceDiagramObject', 'dynamicPanel'], ['page', 'referenceDiagramObject']); _postAdaptiveViewChanged(); }; $ax.viewChangePageAndMasters = _viewChangePageAndMasters; var _postAdaptiveViewChanged = function() { //only trigger adaptive view changed if the window is on the mainframe. Also triggered on init, even if default. try { if(window.name == 'mainFrame' || (!CHROME_5_LOCAL && window.parent.$ && window.parent.$('#mainFrame').length > 0)) { $axure.messageCenter.postMessage('adaptiveViewChange', $ax.adaptive.currentViewId); } } catch(e) { } }; $ax.postAdaptiveViewChanged = _postAdaptiveViewChanged; var _postResize = $ax.postResize = function(e) { $ax.setjBrowserEvent(e); return fireEventThroughContainers('onResize', undefined, false, ['page', 'referenceDiagramObject', 'dynamicPanel', 'repeater'], ['page', 'referenceDiagramObject']); }; // Filters include page, referenceDiagramObject, dynamicPanel, and repeater. var fireEventThroughContainers = function(eventName, objects, synthetic, searchFilter, callFilter, path, itemId) { // TODO: may want to pass in this as a parameter. At that point, may want to convert some of them to an option parameter. For now this is the only case var skipShowDescription = eventName == 'onLoad'; // If objects undefined, load page if(!objects) { if(callFilter.indexOf('page') != -1) { var map = $ax.pageData.page.interactionMap; var pageEventInfo = $ax.getEventInfoFromEvent($ax.getjBrowserEvent(), skipShowDescription, ''); var pageEvent = map && map[eventName]; if(pageEvent) _handleEvent('', pageEventInfo, pageEvent, skipShowDescription, synthetic); } if(searchFilter.indexOf('page') != -1) fireEventThroughContainers(eventName, $ax.pageData.page.diagram.objects, synthetic, searchFilter, callFilter); return; } if(!path) path = []; var pathCopy = []; for(var j = 0; j < path.length; j++) pathCopy[j] = path[j]; for(var i = 0; i < objects.length; i++) { var obj = objects[i]; if(obj.type != 'referenceDiagramObject' && obj.type != 'dynamicPanel' && obj.type != 'repeater') continue; pathCopy[path.length] = obj.id; var objId = $ax.getScriptIdFromPath(pathCopy); objId = $ax.repeater.createElementId(objId, itemId); if(obj.type == 'referenceDiagramObject') { if(callFilter.indexOf('referenceDiagramObject') != -1) { var axEvent = $ax.pageData.masters[obj.masterId].interactionMap[eventName]; if(axEvent) { var eventInfo = $ax.getEventInfoFromEvent($ax.getjBrowserEvent(), skipShowDescription, objId); eventInfo.isMasterEvent = true; _handleEvent(objId, eventInfo, axEvent, skipShowDescription, synthetic); } } if(searchFilter.indexOf('referenceDiagramObject') != -1) fireEventThroughContainers(eventName, $ax.pageData.masters[obj.masterId].diagram.objects, synthetic, searchFilter, callFilter, pathCopy, itemId); } else if(obj.type == 'dynamicPanel') { if(callFilter.indexOf('dynamicPanel') != -1) $ax.event.raiseSyntheticEvent(objId, eventName, skipShowDescription, undefined, !synthetic); if(searchFilter.indexOf('dynamicPanel') != -1) { var diagrams = obj.diagrams; for(var j = 0; j < diagrams.length; j++) { fireEventThroughContainers(eventName, diagrams[j].objects, synthetic, searchFilter, callFilter, path, itemId); } } } else if(obj.type == 'repeater') { // TODO: possible an option for repeater item? Now fires overall for the repeater if(callFilter.indexOf('repeater') != -1) $ax.event.raiseSyntheticEvent(objId, eventName, skipShowDescription, undefined, !synthetic); if(searchFilter.indexOf('repeater') != -1) { var itemIds = $ax.getItemIdsForRepeater(objId); for(var j = 0; j < itemIds.length; j++) { fireEventThroughContainers(eventName, obj.objects, synthetic, searchFilter, callFilter, path, itemIds[j]); } } } } }; // FOCUS stuff (function() { })(); var _pageLoad = function() { // Map of axure event names to pair of what it should attach to, and what the jquery event name is. var PAGE_AXURE_TO_JQUERY_EVENT_NAMES = { 'onScroll': [window, 'scroll'], //'onResize': [window, 'resize'], 'onContextMenu': [window, 'contextmenu'] }; var $win = $(window); if(!$ax.features.supports.mobile) { PAGE_AXURE_TO_JQUERY_EVENT_NAMES.onClick = ['html', 'click']; PAGE_AXURE_TO_JQUERY_EVENT_NAMES.onDoubleClick = ['html', 'dblclick']; PAGE_AXURE_TO_JQUERY_EVENT_NAMES.onMouseMove = ['html', 'mousemove']; } else { _event.initMobileEvents($win, $win, ''); $win.bind($ax.features.eventNames.mouseDownName, _updateMouseLocation); $win.bind($ax.features.eventNames.mouseUpName, function(e) { _updateMouseLocation(e, true); }); $win.scroll(function() { _setCanClick(false); }); $win.bind($ax.features.eventNames.mouseDownName, (function() { _setCanClick(true); })); } $win.bind($ax.features.eventNames.mouseMoveName, _updateMouseLocation); $win.scroll($ax.flyoutManager.reregisterAllFlyouts); for(key in PAGE_AXURE_TO_JQUERY_EVENT_NAMES) { if(!PAGE_AXURE_TO_JQUERY_EVENT_NAMES.hasOwnProperty(key)) continue; (function(axureName) { var jqueryEventNamePair = PAGE_AXURE_TO_JQUERY_EVENT_NAMES[axureName]; $(jqueryEventNamePair[0])[jqueryEventNamePair[1]](function(e) { $ax.setjBrowserEvent(e); return fireEventThroughContainers(axureName, undefined, false, ['page', 'referenceDiagramObject', 'dynamicPanel', 'repeater'], ['page', 'referenceDiagramObject']); }); })(key); } }; _event.pageLoad = _pageLoad; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fdrag%2F</url>
    <content type="text"><![CDATA[$axure.internal(function($ax) { var widgetDragInfo = new Object(); var _drag = {}; $ax.drag = _drag; $ax.drag.GetWidgetDragInfo = function() { return $.extend({}, widgetDragInfo); }; $ax.drag.StartDragWidget = function(event, id) { $ax.setjBrowserEvent(jQuery.Event(event)); if(event.donotdrag) return; var x, y; var tg; if(IE) { x = window.event.clientX + window.document.documentElement.scrollLeft + window.document.body.scrollLeft; y = window.event.clientY + window.document.documentElement.scrollTop + window.document.body.scrollTop; tg = window.event.srcElement; } else { if(event.changedTouches) { x = event.changedTouches[0].pageX; y = event.changedTouches[0].pageY; } else { x = event.pageX; y = event.pageY; event.preventDefault(); } tg = event.target; } widgetDragInfo.hasStarted = false; widgetDragInfo.widgetId = id; widgetDragInfo.cursorStartX = x; widgetDragInfo.cursorStartY = y; widgetDragInfo.lastX = x; widgetDragInfo.lastY = y; widgetDragInfo.currentX = x; widgetDragInfo.currentY = y; widgetDragInfo.movedWidgets = new Object(); widgetDragInfo.startTime = (new Date()).getTime(); widgetDragInfo.targetWidget = tg; if(IE) { if($ax.features.supports.windowsMobile) { window.document.attachEvent($ax.features.eventNames.mouseDownName, _dragWidget); window.document.attachEvent($ax.features.eventNames.mouseUpName, _stopDragWidget); } else { window.document.attachEvent('on' + $ax.features.eventNames.mouseMoveName, _dragWidget); window.document.attachEvent('on' + $ax.features.eventNames.mouseUpName, _stopDragWidget); } } else { window.document.addEventListener($ax.features.eventNames.mouseMoveName, _dragWidget, true); window.document.addEventListener($ax.features.eventNames.mouseUpName, _stopDragWidget, true); } $ax.legacy.SuppressBubble(event); }; var _dragWidget = function(event) { $ax.setjBrowserEvent(jQuery.Event(event)); var x, y; if(IE) { x = window.event.clientX + window.document.documentElement.scrollLeft + window.document.body.scrollLeft; y = window.event.clientY + window.document.documentElement.scrollTop + window.document.body.scrollTop; } else { if(event.changedTouches) { x = event.changedTouches[0].pageX; y = event.changedTouches[0].pageY; //allow scroll (defaults) if only swipe events have cases and delta x is less than 5px and not blocking scrolling var deltaX = x - widgetDragInfo.currentX; var target = window.document.getElementById(widgetDragInfo.widgetId); if($ax.event.hasSyntheticEvent(widgetDragInfo.widgetId, "onDrag") || $ax.event.hasSyntheticEvent(widgetDragInfo.widgetId, "onSwipeUp") || $ax.event.hasSyntheticEvent(widgetDragInfo.widgetId, "onSwipeDown") || (deltaX * deltaX) > 25 || ($ax.document.configuration.preventScroll && $ax.legacy.GetScrollable(target) == window.document.body)) { event.preventDefault(); } } else { x = event.pageX; y = event.pageY; } } widgetDragInfo.xDelta = x - widgetDragInfo.currentX; widgetDragInfo.yDelta = y - widgetDragInfo.currentY; widgetDragInfo.lastX = widgetDragInfo.currentX; widgetDragInfo.lastY = widgetDragInfo.currentY; widgetDragInfo.currentX = x; widgetDragInfo.currentY = y; widgetDragInfo.currentTime = (new Date()).getTime(); $ax.legacy.SuppressBubble(event); if(!widgetDragInfo.hasStarted) { widgetDragInfo.hasStarted = true; $ax.event.raiseSyntheticEvent(widgetDragInfo.widgetId, "onDragStart"); widgetDragInfo.oldBodyCursor = window.document.body.style.cursor; window.document.body.style.cursor = 'move'; var widget = window.document.getElementById(widgetDragInfo.widgetId); widgetDragInfo.oldCursor = widget.style.cursor; widget.style.cursor = 'move'; } $ax.event.raiseSyntheticEvent(widgetDragInfo.widgetId, "onDrag"); }; var _suppressClickAfterDrag = function(event) { _removeSuppressEvents(); $ax.legacy.SuppressBubble(event); }; var _removeSuppressEvents = function() { if(IE) { window.event.srcElement.detachEvent("onclick", _suppressClickAfterDrag); widgetDragInfo.targetWidget.detachEvent("onmousemove", _removeSuppressEvents); } else { window.document.removeEventListener("click", _suppressClickAfterDrag, true); window.document.removeEventListener("mousemove", _removeSuppressEvents, true); } }; var _stopDragWidget = function(event) { $ax.setjBrowserEvent(jQuery.Event(event)); var tg; if(IE) { if($ax.features.supports.windowsMobile) { window.document.detachEvent($ax.features.eventNames.mouseDownName, _dragWidget); window.document.detachEvent($ax.features.eventNames.mouseUpName, _stopDragWidget); } else { window.document.detachEvent('on' + $ax.features.eventNames.mouseMoveName, _dragWidget); window.document.detachEvent('on' + $ax.features.eventNames.mouseUpName, _stopDragWidget); } tg = window.event.srcElement; } else { window.document.removeEventListener($ax.features.eventNames.mouseMoveName, _dragWidget, true); window.document.removeEventListener($ax.features.eventNames.mouseUpName, _stopDragWidget, true); tg = event.target; } if(widgetDragInfo.hasStarted) { widgetDragInfo.currentTime = (new Date()).getTime(); $ax.event.raiseSyntheticEvent(widgetDragInfo.widgetId, "onDragDrop"); if($ax.globalVariableProvider.getVariableValue('totaldragx') < -30 && $ax.globalVariableProvider.getVariableValue('dragtime') < 1000) { $ax.event.raiseSyntheticEvent(widgetDragInfo.widgetId, "onSwipeLeft"); } if($ax.globalVariableProvider.getVariableValue('totaldragx') > 30 && $ax.globalVariableProvider.getVariableValue('dragtime') < 1000) { $ax.event.raiseSyntheticEvent(widgetDragInfo.widgetId, "onSwipeRight"); } var totalDragY = $ax.globalVariableProvider.getVariableValue('totaldragy'); if(totalDragY < -30 && $ax.globalVariableProvider.getVariableValue('dragtime') < 1000) { $ax.event.raiseSyntheticEvent(widgetDragInfo.widgetId, "onSwipeUp"); } if(totalDragY > 30 && $ax.globalVariableProvider.getVariableValue('dragtime') < 1000) { $ax.event.raiseSyntheticEvent(widgetDragInfo.widgetId, "onSwipeDown"); } window.document.body.style.cursor = widgetDragInfo.oldBodyCursor; var widget = window.document.getElementById(widgetDragInfo.widgetId); // It may be null if OnDragDrop filtered out the widget if(widget != null) widget.style.cursor = widgetDragInfo.oldCursor; if(widgetDragInfo.targetWidget == tg && !event.changedTouches) { // suppress the click after the drag on desktop browsers if(IE && widgetDragInfo.targetWidget) { widgetDragInfo.targetWidget.attachEvent("onclick", _suppressClickAfterDrag); } else { window.document.addEventListener("click", _suppressClickAfterDrag, true); } if(IE && widgetDragInfo.targetWidget) { widgetDragInfo.targetWidget.attachEvent("onmousemove", _removeSuppressEvents); } else { window.document.addEventListener("mousemove", _removeSuppressEvents, true); } } } widgetDragInfo.hasStarted = false; widgetDragInfo.movedWidgets = new Object(); return false; }; $ax.drag.GetDragX = function() { if(widgetDragInfo.hasStarted) return widgetDragInfo.xDelta; return 0; }; $ax.drag.GetDragY = function() { if(widgetDragInfo.hasStarted) return widgetDragInfo.yDelta; return 0; }; $ax.drag.GetTotalDragX = function() { if(widgetDragInfo.hasStarted) return widgetDragInfo.currentX - widgetDragInfo.cursorStartX; return 0; }; $ax.drag.GetTotalDragY = function() { if(widgetDragInfo.hasStarted) return widgetDragInfo.currentY - widgetDragInfo.cursorStartY; return 0; }; $ax.drag.GetDragTime = function() { if(widgetDragInfo.hasStarted) return widgetDragInfo.currentTime - widgetDragInfo.startTime; return 600000; }; // $ax.drag.GetCursorRectangles = function() { // var rects = new Object(); // rects.lastRect = new Rectangle($ax.lastMouseLocation.x, $ax.lastMouseLocation.y, 1, 1); // rects.currentRect = new Rectangle($ax.mouseLocation.x, $ax.mouseLocation.y, 1, 1); // return rects; // }; // $ax.drag.GetWidgetRectangles = function(id) { // var widget = window.document.getElementById(id); // var rects = new Object(); // rects.lastRect = new Rectangle($ax.legacy.getAbsoluteLeft(widget), $ax.legacy.getAbsoluteTop(widget), Number($('#' + id).css('width').replace("px", "")), Number($('#' + id).css('height').replace("px", ""))); // rects.currentRect = rects.lastRect; // return rects; // }; // $ax.drag.IsEntering = function(movingRects, targetRects) { // return !movingRects.lastRect.IntersectsWith(targetRects.currentRect) && movingRects.currentRect.IntersectsWith(targetRects.currentRect); // }; // $ax.drag.IsLeaving = function(movingRects, targetRects) { // return movingRects.lastRect.IntersectsWith(targetRects.currentRect) && !movingRects.currentRect.IntersectsWith(targetRects.currentRect); // }; // function IsOver(movingRects, targetRects) { // return movingRects.currentRect.IntersectsWith(targetRects.currentRect); // } // function IsNotOver(movingRects, targetRects) { // return !IsOver(movingRects, targetRects); // } $ax.drag.LogMovedWidgetForDrag = function(id) { if(widgetDragInfo.hasStarted) { var widget = $('#' + id); var y = Number(widget.css('top').replace("px", "")); var x = Number(widget.css('left').replace("px", "")); var movedWidgets = widgetDragInfo.movedWidgets; if(!movedWidgets[id]) { movedWidgets[id] = new Location(x, y); } } }; var Location = function(x, y) { this.x = x; this.y = y; }; $ax.drag.location = Location; var Rectangle = $ax.drag.Rectangle = function(x, y, width, height) { this.x = x; this.y = y; this.width = width; this.height = height; this.right = x + width; this.bottom = y + height; }; Rectangle.prototype.IntersectsWith = function(rect) { if(this.Invalid()) return false; if(rect.length) { for(var i = 0; i < rect.length; i++) if(!rect[i].Invalid && this.IntersectsWith(rect[i])) return true; return false; } if(rect.Invalid()) return false; return this.x < rect.right && this.right > rect.x && this.y < rect.bottom && this.bottom > rect.y; }; Rectangle.prototype.Invalid = function() { return this.x == -1 && this.y == -1 && this.width == -1 && this.height == -1; }; Rectangle.prototype.Move = function(x, y) { return new Rectangle(x, y, this.width, this.height); }; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fdoc%2F</url>
    <content type="text"><![CDATA[$axure.internal(function($ax) { var _pageData; var _initializePageFragment = function(pageFragment, objIdToObject) { var objectArrayHelper = function(objects, parent) { for(var i = 0; i < objects.length; i++) { diagramObjectHelper(objects[i], parent); } }; var diagramObjectHelper = function(diagramObject, parent) { $ax.initializeObject('diagramObject', diagramObject); objIdToObject[pageFragment.packageId + '~' + diagramObject.id] = diagramObject; diagramObject.parent = parent; diagramObject.owner = pageFragment; diagramObject.scriptIds = []; if(diagramObject.diagrams) { //dynamic panel for(var i = 0; i < diagramObject.diagrams.length; i++) { var diagram = diagramObject.diagrams[i]; objectArrayHelper(diagram.objects, diagram); } } if(diagramObject.objects) objectArrayHelper(diagramObject.objects, diagramObject); }; objectArrayHelper(pageFragment.diagram.objects, pageFragment.diagram); }; var _initalizeStylesheet = function(stylesheet) { var stylesById = {}; var customStyles = stylesheet.customStyles; for(var key in customStyles) { var style = customStyles[key]; stylesById[style.id] = style; } stylesheet.stylesById = stylesById; }; var _initializeDocumentData = function() { _initalizeStylesheet($ax.document.stylesheet); }; var _initializePageData; // ******* Dictionaries ******** // (function() { var elementIdToObject = {}; var scriptIdToObject = {}; var scriptIdToRepeaterId = {}; var repeaterIdToScriptIds = {}; var repeaterIdToItemIds = {}; var scriptIdToPath = {}; var _scriptIds = []; var elementIdToText = {}; var radioGroupToSelectedElementId = {}; _initializePageData = function() { if(!_pageData || !_pageData.page || !_pageData.page.diagram) return; var objIdToObject = {}; _initializePageFragment(_pageData.page, objIdToObject); for(var masterId in _pageData.masters) { var master = _pageData.masters[masterId]; _initializePageFragment(master, objIdToObject); } var _pathsToScriptIds = []; _pathToScriptIdHelper(_pageData.objectPaths, [], _pathsToScriptIds, scriptIdToPath); for(var i = 0; i < _pathsToScriptIds.length; i++) { var path = _pathsToScriptIds[i].idPath; var scriptId = _pathsToScriptIds[i].scriptId; var packageId = _pageData.page.packageId; if(path.length > 1) { for(var j = 0; j < path.length - 1; j++) { var rdoId = path[j]; var rdo = objIdToObject[packageId + '~' + rdoId]; packageId = rdo.masterId; } } var diagramObject = objIdToObject[packageId + '~' + path[path.length - 1]]; diagramObject.scriptIds[diagramObject.scriptIds.length] = scriptId; scriptIdToObject[scriptId] = diagramObject; _scriptIds[_scriptIds.length] = scriptId; } // Now map scriptIds to repeaters var mapScriptIdToRepeaterId = function(scriptId, repeaterId) { scriptIdToRepeaterId[scriptId] = repeaterId; var scriptIds = repeaterIdToScriptIds[repeaterId]; if(scriptIds) scriptIds[scriptIds.length] = scriptId; else repeaterIdToScriptIds[repeaterId] = [scriptId]; }; var mapIdsToRepeaterId = function(path, objs, repeaterId) { var pathCopy = $ax.deepCopy(path); for(var i = 0; i < objs.length; i++) { var obj = objs[i]; pathCopy[path.length] = obj.id; var scriptId = $ax.getScriptIdFromPath(pathCopy); // Rdo have no element on page and are not mapped to the repeater if(repeaterId) mapScriptIdToRepeaterId(scriptId, repeaterId); if(obj.type == 'dynamicPanel') { for(var j = 0; j < obj.diagrams.length; j++) mapIdsToRepeaterId(path, obj.diagrams[j].objects, repeaterId); } else if(obj.type == 'referenceDiagramObject') { mapIdsToRepeaterId(pathCopy, $ax.pageData.masters[obj.masterId].diagram.objects, repeaterId); } else if(obj.type == 'repeater') { mapScriptIdToRepeaterId(scriptId, scriptId); mapIdsToRepeaterId(path, obj.objects, scriptId); } else if(obj.objects && obj.objects.length) { if(repeaterId) { for(var j = 0; j < obj.objects.length; j++) { mapIdsToRepeaterId(path, obj.objects, repeaterId); } } } } }; mapIdsToRepeaterId([], $ax.pageData.page.diagram.objects); }; $ax.getPathFromScriptId = function(scriptId) { var reversedPath = []; var path = scriptIdToPath[scriptId]; while(path && path.uniqueId) { reversedPath[reversedPath.length] = path.uniqueId; path = path.parent; } return reversedPath.reverse(); }; var _getScriptIdFromFullPath = function(path) { var current = $ax.pageData.objectPaths; for(var i = 0; i < path.length; i++) { current = current[path[i]]; if(!current) return current; } return current && current.scriptId; }; var _getScriptIdFromPath = function(path, relativeTo) { var relativePath = []; var includeMasterInPath = false; if(relativeTo) { var relativeToScriptId; if(relativeTo.srcElement) { //this is eventInfo relativeToScriptId = $ax.repeater.getScriptIdFromElementId(relativeTo.raisedId || relativeTo.srcElement); includeMasterInPath = relativeTo.isMasterEvent; } else if(typeof relativeTo === 'string') { //this is an element id relativeToScriptId = relativeTo; } if(relativeToScriptId) { relativePath = $ax.getPathFromScriptId(relativeToScriptId); if(!includeMasterInPath) relativePath = relativePath.slice(0, relativePath.length - 1); } else if(relativeTo instanceof Array) { //this is a path relativePath = relativeTo; } } var fullPath = relativePath.concat(path); return _getScriptIdFromFullPath(fullPath); }; $ax.getScriptIdFromPath = _getScriptIdFromPath; var _getElementIdsFromPath = function(path, eventInfo) { var scriptId = _getScriptIdFromPath(path, eventInfo); return $ax.getElementIdsFromEventAndScriptId(eventInfo, scriptId); }; $ax.getElementIdsFromPath = _getElementIdsFromPath; var _getElementIdFromPath = function(path, params) { var itemNum = params.itemNum; if(params.relativeTo && typeof params.relativeTo === 'string') { if($jobj(params.relativeTo)) itemNum = $ax.repeater.getItemIdFromElementId(params.relativeTo); } return $ax.repeater.createElementId(_getScriptIdFromPath(path, params.relativeTo), itemNum); }; $ax.getElementIdFromPath = _getElementIdFromPath; var _getElementsIdFromEventAndScriptId = function(eventInfo, scriptId) { var itemId = eventInfo && $ax.repeater.getItemIdFromElementId(eventInfo.srcElement); var target = false; // Try to get itemId from target if you can't get it from source. if(!itemId) { itemId = eventInfo && eventInfo.targetElement && $ax.repeater.getItemIdFromElementId(eventInfo.targetElement); if(itemId) target = true; } var parentRepeater = $ax.getParentRepeaterFromScriptId(scriptId); if(parentRepeater && scriptId != parentRepeater) { if(itemId && (!eventInfo || parentRepeater == $ax.getParentRepeaterFromScriptId($ax.repeater.getScriptIdFromElementId(target ? eventInfo.targetElement : eventInfo.srcElement)))) { return [$ax.repeater.createElementId(scriptId, itemId)]; } var elementIds = []; var itemIds = $ax.getItemIdsForRepeater(parentRepeater); if(!itemIds) return []; for(var i = 0; i < itemIds.length; i++) elementIds[i] = $ax.repeater.createElementId(scriptId, itemIds[i]); return elementIds; } return [scriptId]; }; $ax.getElementIdsFromEventAndScriptId = _getElementsIdFromEventAndScriptId; var _getSrcElementIdFromEvent = function(event) { var currentQuery = $(event.srcElement || event.target); while(currentQuery && currentQuery.length && (!$obj(currentQuery.attr('id')) || $jobj(currentQuery.attr('id')).hasClass('text'))) { currentQuery = currentQuery.parent(); }; return currentQuery.attr('id'); }; $ax.getSrcElementIdFromEvent = _getSrcElementIdFromEvent; var _getEventInfoFromEvent = function(event, skipShowDescriptions, elementId) { var eventInfo = {}; eventInfo.srcElement = elementId; eventInfo.now = new Date(); if(event != null) { //elementId can be empty string, so can't simple use "or" assignment here. eventInfo.srcElement = elementId || elementId == '' ? elementId : _getSrcElementIdFromEvent(event); eventInfo.which = event.which; // When getting locations in mobile, need to extract the touch object to get the mouse location attributes var mouseEvent = (event.originalEvent && event.originalEvent.changedTouches && event.originalEvent.changedTouches[0]) || event.originalEvent; if(mouseEvent && !mouseEvent.type) mouseEvent.type = event.type; if(skipShowDescriptions) eventInfo.skipShowDescriptions = true; // Always update mouse location if possible $ax.event.updateMouseLocation(mouseEvent); } // Always set event info about cursor var _cursor = eventInfo.cursor = {}; _cursor.x = $ax.mouseLocation.x; _cursor.y = $ax.mouseLocation.y; eventInfo.pageX = _cursor.x + 'px'; eventInfo.pageY = _cursor.y + 'px'; // Do Keyboard Info eventInfo.keyInfo = $ax.event.keyState(); eventInfo.window = _getWindowInfo(); eventInfo.thiswidget = _getWidgetInfo(eventInfo.srcElement); eventInfo.item = _getItemInfo(eventInfo.srcElement); eventInfo.dragInfo = $ax.drag.GetWidgetDragInfo(); return eventInfo; }; $ax.getEventInfoFromEvent = _getEventInfoFromEvent; var _getWindowInfo = function() { var win = {}; win.width = $(window).width(); win.height = $(window).height(); win.scrollx = $(window).scrollLeft(); win.scrolly = $(window).scrollTop(); return win; }; $ax.getWindowInfo = _getWindowInfo; var _getItemInfo = function(elementId) { if(!elementId) return { valid: false }; elementId = _getParentElement(elementId); var index = $ax.repeater.getItemIdFromElementId(elementId); if(!index) return { valid: false }; var item = { valid: true }; var scriptId = $ax.repeater.getScriptIdFromElementId(elementId); var repeaterId = $ax.getParentRepeaterFromScriptId(scriptId); item.repeater = _getWidgetInfo(repeaterId); $ax.repeater.setDisplayProps(item, repeaterId, index); item.ismarked = $ax.repeater.isEditItem(repeaterId, index); item.isvisible = Boolean($jobj(elementId).length); return item; }; $ax.getItemInfo = _getItemInfo; var _getWidgetInfo = function(elementId) { if(!elementId) return { valid: false }; elementId = _getParentElement(elementId); var elementQuery = $jobj(elementId); var obj = $obj(elementId); var widget = { valid: true, isWidget: true }; widget.elementId = elementId; widget.name = widget.label = (elementQuery.data('label') ? elementQuery.data('label') : ''); widget.text = $ax('#' + elementId).text(); var scriptId = $ax.repeater.getScriptIdFromElementId(elementId); var repeaterId = $ax.getParentRepeaterFromScriptId(scriptId); if(repeaterId) widget.repeater = obj.type == 'repeater' ? widget : _getWidgetInfo(repeaterId); var x = elementQuery.css('left'); if(x !== undefined) x = Number(x.replace('px', '')); var y = elementQuery.css('top'); if(y !== undefined) y = Number(y.replace('px', '')); if(elementQuery.length != 0) { widget.pagex = $ax.legacy.getAbsoluteLeft(elementQuery); widget.pagey = $ax.legacy.getAbsoluteTop(elementQuery); } widget.x = x; widget.y = y; widget.width = elementQuery.width(); widget.height = elementQuery.height(); // Right now only dynamic panel can scroll if(obj.type == 'dynamicPanel') { var stateQuery = $('#' + $ax.visibility.GetPanelState(elementId)); widget.scrollx = stateQuery.scrollLeft(); widget.scrolly = stateQuery.scrollTop(); if($ax.dynamicPanelManager.isIdFitToContent(elementId)) { widget.width = stateQuery.width(); widget.height = stateQuery.height(); } } else { widget.scrollx = 0; widget.scrolly = 0; } // repeater only props if(obj.type == 'repeater') { widget.visibleitemcount = repeaterIdToItemIds[scriptId] ? repeaterIdToItemIds[scriptId].length : $ax.repeater.getVisibleDataCount(scriptId); widget.itemcount = $ax.repeater.getFilteredDataCount(scriptId); widget.datacount = $ax.repeater.getDataCount(scriptId); widget.pagecount = $ax.repeater.getPageCount(scriptId); widget.pageindex = $ax.repeater.getPageIndex(scriptId); } widget.left = widget.x; widget.top = widget.y; widget.right = widget.x + widget.width; widget.bottom = widget.y + widget.height; return widget; }; $ax.getWidgetInfo = _getWidgetInfo; var _getParentElement = $ax.getParentElement = function(elementId) { var obj = $obj(elementId); while(obj.isContained) { var path = $ax.getPathFromScriptId($ax.repeater.getScriptIdFromElementId(elementId)); var itemId = $ax.repeater.getItemIdFromElementId(elementId); path[path.length - 1] = obj.parent.id; elementId = $ax.getElementIdFromPath(path, { itemNum: itemId }); obj = $obj(elementId); } return elementId; }; $ax.addItemIdToRepeater = function(itemId, repeaterId) { var itemIds = repeaterIdToItemIds[repeaterId]; if(itemIds) itemIds[itemIds.length] = itemId; else repeaterIdToItemIds[repeaterId] = [itemId]; var scriptIds = repeaterIdToScriptIds[repeaterId]; for(var i = 0; i < scriptIds.length; i++) elementIdToObject[$ax.repeater.createElementId(scriptIds[i], itemId)] = $ax.getObjectFromScriptId(scriptIds[i]); }; $ax.getAllElementIds = function() { var elementIds = []; for(var i = 0; i < _scriptIds.length; i++) { var scriptId = _scriptIds[i]; var repeaterId = scriptIdToRepeaterId[scriptId]; if(repeaterId && repeaterId != scriptId) { var itemIds = repeaterIdToItemIds[repeaterId] || []; for(var j = 0; j < itemIds.length; j++) elementIds[elementIds.length] = $ax.repeater.createElementId(scriptId, itemIds[j]); } else elementIds[elementIds.length] = scriptId; } return elementIds; }; $ax.getAllScriptIds = function() { return _scriptIds; }; $ax.getObjectFromElementId = function(elementId) { return $ax.getObjectFromScriptId($ax.repeater.getScriptIdFromElementId(elementId)); }; $ax.getObjectFromScriptId = function(scriptId) { return scriptIdToObject[scriptId]; }; $ax.getParentRepeaterFromScriptId = function(scriptId) { return scriptIdToRepeaterId[scriptId]; }; var _getChildScriptIdsForRepeater = function(repeaterId) { return repeaterIdToScriptIds[repeaterId]; }; var _getItemIdsForRepeater = function(repeaterId) { return repeaterIdToItemIds[repeaterId] || []; }; $ax.getItemIdsForRepeater = _getItemIdsForRepeater; var _clearItemIdsForRepeater = function(repeaterId) { repeaterIdToItemIds[repeaterId] = []; }; $ax.clearItemsForRepeater = _clearItemIdsForRepeater; $ax.getChildElementIdsForRepeater = function(repeaterId) { var scriptIds = _getChildScriptIdsForRepeater(repeaterId); var itemIds = _getItemIdsForRepeater(repeaterId); var retVal = []; if(!itemIds || !scriptIds) return retVal; for(var i = 0; i < scriptIds.length; i++) { for(var j = 0; j < itemIds.length; j++) { retVal[retVal.length] = $ax.repeater.createElementId(scriptIds[i], itemIds[j]); } } return retVal; }; $ax.getRdoParentFromElementId = function(elementId) { var scriptId = $ax.repeater.getScriptIdFromElementId(elementId); var rdoId = scriptIdToPath[scriptId].parent.scriptId; if($ax.getParentRepeaterFromScriptId(rdoId)) rdoId = $ax.repeater.createElementId(rdoId, $ax.repeater.getItemIdFromElementId(elementId)); return rdoId; }; $ax.updateElementText = function(elementId, text) { elementIdToText[elementId] = text; }; $ax.hasElementTextChanged = function(elementId, text) { return elementIdToText[elementId] != text; }; $ax.updateRadioButtonSelected = function(group, elementId) { var old = radioGroupToSelectedElementId[group]; radioGroupToSelectedElementId[group] = elementId; return old; }; $ax.hasRadioButtonSelectedChanged = function(group, elementId) { return radioGroupToSelectedElementId[group] != elementId; }; })(); //Recursively populates fullPathArray with: // [ { idPath, scriptId }, ... ] //for every scriptId in the object //also populates an object of scriptId -> path var _pathToScriptIdHelper = function(currentPath, currentChain, fullPathArray, scriptIdToPath) { for(var key in currentPath) { if(key != "scriptId") { var nextPath = currentPath[key]; _pathToScriptIdHelper(nextPath, currentChain.concat(key), fullPathArray, scriptIdToPath); nextPath.parent = currentPath; nextPath.uniqueId = key; } else { fullPathArray[fullPathArray.length] = { idPath: currentChain, scriptId: currentPath.scriptId }; scriptIdToPath[currentPath.scriptId] = currentPath; } } }; $ax.public.loadCurrentPage = $ax.loadCurrentPage = function(pageData) { $ax.pageData = _pageData = pageData; _initializePageData(); }; $ax.public.loadDocument = $ax.loadDocument = function(document) { $ax.document = document; _initializeDocumentData(); }; /** Navigates to a page */ $ax.public.navigate = $ax.navigate = function(to) { //url, includeVariables, type) { var targetUrl; if(typeof (to) === 'object') { includeVariables = to.includeVariables; targetUrl = !includeVariables ? to.url : $ax.globalVariableProvider.getLinkUrl(to.url); if(to.target == "new") { window.open(targetUrl, to.name); } else if(to.target == "popup") { var features = _getPopupFeatures(to.popupOptions); window.open(targetUrl, to.name, features); } else { var targetLocation = window.location; if(to.target == "current") { } else if(to.target == "parent") { targetLocation = top.opener.window.location; } else if(to.target == "parentFrame") { targetLocation = parent.location; } else if(to.target == "frame") { // targetLocation = to.frame.contentWindow.location; $(to.frame).attr('src', targetUrl || 'about:blank'); return; } if(!_needsReload(targetLocation, to.url)) { targetLocation.href = targetUrl || 'about:blank'; } else { targetLocation.href = $axure.utils.getReloadPath() + "#" + encodeURI(targetUrl); } } } else { $ax.navigate({ url: to, target: "current", includeVariables: arguments[1] }); } }; var _needsReload = function(oldLocation, newBaseUrl) { var reload = false; try { var oldUrl = oldLocation.href; var oldBaseUrl = oldUrl.split("#")[0]; var lastslash = oldBaseUrl.lastIndexOf("/"); if(lastslash > 0) { oldBaseUrl = oldBaseUrl.substring(lastslash + 1, oldBaseUrl.length); if(oldBaseUrl == encodeURI(newBaseUrl)) { reload = true; } } } catch(e) { } return reload; }; var _getPopupFeatures = function(options) { var defaultOptions = { toolbar: true, scrollbars: true, location: true, status: true, menubar: true, directories: true, resizable: true, centerwindow: true, left: -1, top: -1, height: -1, width: -1 }; var selectedOptions = $.extend({}, defaultOptions, options); var optionsList = []; optionsList.push('toolbar=' + (selectedOptions.toolbar ? 'yes' : 'no')); optionsList.push('scrollbars=' + (selectedOptions.scrollbars ? 'yes' : 'no')); optionsList.push('location=' + (selectedOptions.location ? 'yes' : 'no')); optionsList.push('status=' + (selectedOptions.status ? 'yes' : 'no')); optionsList.push('menubar=' + (selectedOptions.menubar ? 'yes' : 'no')); optionsList.push('directories=' + (selectedOptions.directories ? 'yes' : 'no')); optionsList.push('resizable=' + (selectedOptions.resizable ? 'yes' : 'no')); if(selectedOptions.centerwindow == false) { if(selectedOptions.left > -1) { optionsList.push('left=' + selectedOptions.left); } if(selectedOptions.top > -1) { optionsList.push('top=' + selectedOptions.top); } } var height = 0; var width = 0; if(selectedOptions.height > 0) { optionsList.push('height=' + selectedOptions.height); height = selectedOptions.height; } if(selectedOptions.width > 0) { optionsList.push('width=' + selectedOptions.width); width = selectedOptions.width; } var features = optionsList.join(','); if(selectedOptions.centerwindow) { var winl = (window.screen.width - width) / 2; var wint = (window.screen.height - height) / 2; features = features + ',left=' + winl + ',top=' + wint; } return features; }; /** Closes a window */ $ax.public.closeWindow = $ax.closeWindow = function() { parent.window.close(); }; /** Goes back */ $ax.public.back = $ax.back = function() { window.history.go(-1); }; /** Reloads the current page. # includeVariables: true if it should re-include the variables when the page is reloaded */ $ax.public.reload = $ax.reload = function(includeVariables) { var targetUrl = (includeVariables === false) ? $axure.utils.getReloadPath() + "#" + encodeURI($ax.pageData.url) : $axure.utils.getReloadPath() + "#" + encodeURI($ax.globalVariableProvider.getLinkUrl($ax.pageData.url)); window.location.href = targetUrl; }; /** Sets a variable. # name: The name of the global variable to set # value: The value that should be set */ $ax.public.setGlobalVariable = $ax.setGlobalVariable = function(name, value) { if(!name || !value) { return; } $ax.globalVariableProvider.setVariableValue(name, value); }; /** Gets the value of a global variable # name: The name of the global variable value to get */ $ax.public.getGlobalVariable = $ax.getGlobalVariable = function(name) { $ax.globalVariableProvider.getVariableValue(name); }; $ax.getTypeFromElementId = function(elementId) { var elementIdInput = elementId.charAt(0) == '#' ? elementId.substring(1) : elementId; var obj = this.getObjectFromElementId(elementIdInput); return obj && obj.type; }; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2FaxQuery.std%2F</url>
    <content type="text"><![CDATA[// ******* AxQuery Plugins ******** // $axure.internal(function($ax) { var DYNAMIC_PANEL_TYPE = 'dynamicPanel'; var TEXT_BOX_TYPE = 'textBox'; var TEXT_AREA_TYPE = 'textArea'; var LIST_BOX_TYPE = 'listBox'; var COMBO_BOX_TYPE = 'comboBox'; var CHECK_BOX_TYPE = 'checkbox'; var RADIO_BUTTON_TYPE = 'radioButton'; var BUTTON_TYPE = 'button'; var IMAGE_MAP_REGION_TYPE = 'imageMapRegion'; var IMAGE_BOX_TYPE = 'imageBox'; var BUTTON_SHAPE_TYPE = 'buttonShape'; var FLOW_SHAPE_TYPE = 'flowShape'; var TREE_NODE_OBJECT_TYPE = 'treeNodeObject'; var TABLE_CELL_TYPE = 'tableCell'; var PLAIN_TEXT_TYPES = [TEXT_BOX_TYPE, TEXT_AREA_TYPE, LIST_BOX_TYPE, COMBO_BOX_TYPE, CHECK_BOX_TYPE, RADIO_BUTTON_TYPE, BUTTON_TYPE]; var _addJQueryFunction = function(name) { $ax.public.fn[name] = function() { var val = $.fn[name].apply(this.jQuery(), arguments); return arguments[0] ? this : val; }; }; var _jQueryFunctionsToAdd = ['text', 'val', 'css']; for(var i = 0; i < _jQueryFunctionsToAdd.length; i++) _addJQueryFunction(_jQueryFunctionsToAdd[i]); // var _addJQueryEventFunction = function(name) { // $ax.public.fn[name] = function() { // $.fn[name].apply(this.jQuery(), arguments); // return this; // }; // }; // var _addJQueryEventFunction = function(name) { // $ax.public.fn[name] = (function(nn) { // return function() { // $.fn[nn].apply(this.jQuery(), arguments); // return this; // }; // })(name); // }; var _addJQueryEventFunction = function(name) { $ax.public.fn[name] = function() { //With Martin - No idea why this is necessary. We tried encapsulating the function thinking it was related to closure (above), //but that didn't fix the problem. If we don't add this Repeaters will give "Uncaught TypeError: Object # has no method 'apply'" //here (but Indeterminately, often on larger/slower Repeaters) because it is Undefined. However it seems the catch is never hit //if we surround the statement with the try/catch. Perhaps the try/catch block creates a scope or closure. try { $.fn[name].apply(this.jQuery(), arguments); } catch(e) { console.log("Couldn't find the event: " + name); } return this; }; }; var _jQueryEventFunctionsToAdd = ['click', 'mouseenter', 'mouseleave', 'bind']; for(var i = 0; i < _jQueryEventFunctionsToAdd.length; i++) _addJQueryEventFunction(_jQueryEventFunctionsToAdd[i]); $ax.public.fn.openLink = function(url, includeVariables) { this.jQuery().each(function() { if(!($(this).is('iframe'))) { return; } var objIframe = $(this).get(0); $ax.navigate({ url: url, target: "frame", includeVariables: includeVariables, frame: objIframe }); }); return this; }; $ax.public.fn.SetPanelState = function(stateNumber, options, showWhenSet) { var easingIn = 'none'; var easingOut = 'none'; var directionIn = ''; var directionOut = ''; var durationIn = 500; var durationOut = 500; if(options && options.animateIn) { easingIn = 'fade'; directionIn = _getEasingDirection(options.animateIn); if(directionIn != '') easingIn = 'swing'; if(options.animateIn.duration) { durationIn = options.animateIn.duration; } } if(options && options.animateOut) { easingOut = 'fade'; directionOut = _getEasingDirection(options.animateOut); if(directionOut != '') easingOut = 'swing'; if(options.animateOut.duration) { durationOut = options.animateOut.duration; } } var elementIds = this.getElementIds(); for(var index = 0; index < elementIds.length; index++) { var elementId = elementIds[index]; if($ax.getTypeFromElementId(elementId) == DYNAMIC_PANEL_TYPE) { var stateName = $ax.visibility.GetPanelStateId(elementId, Number(stateNumber) - 1); var wasVisible = $ax.visibility.IsIdVisible(elementId); // If compressing because you are fit to content and the change of state may change size, must be before the change. if(options.compress && $ax.dynamicPanelManager.isIdFitToContent(elementId) && wasVisible) { $ax.dynamicPanelManager.compressDelta(elementId, $ax.visibility.GetPanelState(elementId), stateName, options.vertical, options.compressEasing, options.compressDuration); } $ax.visibility.SetPanelState(elementId, stateName, easingOut, directionOut, durationOut, easingIn, directionIn, durationIn, showWhenSet); // If compressing because of a show, must be after state is set. if(options.compress && !wasVisible && showWhenSet) { $ax.dynamicPanelManager.compressToggle(elementId, options.vertical, true, options.compressEasing, options.compressDuration); } } } return this; }; $ax.public.fn.show = function(options, eventInfo) { var elementIds = this.getElementIds(); for(var index = 0; index < elementIds.length; index++) { var elementId = elementIds[index]; var lightboxId = $ax.repeater.applySuffixToElementId(elementId, '_lightbox'); var lightbox = $jobj(lightboxId); if(options && options.showType == 'lightbox') { $ax.flyoutManager.unregisterPanel(elementId, true); // Add lightbox if there isn't one if(lightbox.length == 0) { lightbox = $(''); lightbox.attr('id', lightboxId); var color = 'rgb(' + options.lightbox.r + ',' + options.lightbox.g + ',' + options.lightbox.b + ')'; lightbox.css({ position: 'fixed', left: '0px', top: '0px', width: '10000px', height: '10000px', 'background-color': color, opacity: options.lightbox.a / 255 }); var parents = $ax('#' + elementId).getParents(true)[0]; var fixedParentPanelId = undefined; for(var j = 0; j < parents.length; j++) { var parentId = parents[j].split('_')[0]; var parentObj = $obj(parentId); if(parentObj.type == 'dynamicPanel' && ($jobj(parentId).css('z-index') != 'auto' || $ax.features.supports.mobile)) { fixedParentPanelId = parents[j]; break; } } if(!fixedParentPanelId) $('#base').append(lightbox); else $jobj(fixedParentPanelId).append(lightbox); var wasVisible = $ax.visibility.IsIdVisible(elementId); (function(lightbox, query) { $ax.event.attachClick(lightbox, function() { $ax.action.addAnimation(elementId, function() { if(!wasVisible) query.hide(); else $ax.action.fireAnimationFromQueue(elementId); lightbox.remove(); }); }); })(lightbox, this); } $ax.legacy.BringToFront(lightboxId, true); $ax.legacy.BringToFront(elementId, true); } else if(options && options.showType == 'flyout') { // Remove lightbox if there is one lightbox.remove(); var src = eventInfo.thiswidget; var target = $ax.getWidgetInfo(elementId); var rects = {}; if(src.valid) rects.src = $ax.geometry.genRect(src); if(target.valid) rects.target = $ax.geometry.genRect(target); $ax.flyoutManager.registerFlyout(rects, elementId, eventInfo.srcElement); $ax.style.AddRolloverOverride(elementId); $ax.legacy.BringToFront(elementId); } else { // Remove lightbox, unregister flyout lightbox.remove(); $ax.flyoutManager.unregisterPanel(elementId, true); _setVisibility(elementId, true, options); if(options && options.showType == 'front') $ax.legacy.BringToFront(elementId); continue; } _setVisibility(elementId, true, options); } return this; }; var _getEasingDirection = function(options) { if(options && options.easing) { if(options.easing == 'slideLeft') { return 'left'; } else if(options.easing == 'slideRight') { return 'right'; } else if(options.easing == 'slideUp') { return 'up'; } else if(options.easing == 'slideDown') { return 'down'; } } return ''; }; $ax.public.fn.hide = function(options) { var elementIds = this.getElementIds(); for(var index = 0; index < elementIds.length; index++) { var elementId = elementIds[index]; var wasShown = $ax.visibility.IsIdVisible(elementId); _setVisibility(elementId, false, options); } return this; }; $ax.public.fn.toggleVisibility = function(options) { var easing = options && options.easing || 'none'; var duration = options && options.duration || 0; var direction = _getEasingDirection(options); if(direction != '') easing = 'swing'; var elementIds = this.getElementIds(); for(var index = 0; index < elementIds.length; index++) { var elementId = elementIds[index]; var show = !$ax.visibility.IsIdVisible(elementId); _setVisibility(elementId, show, options); } return this; }; var _setVisibility = function(elementId, value, options) { var easing = options && options.easing || 'none'; var duration = options && options.duration || 0; var direction = _getEasingDirection(options); if(direction != '') easing = 'swing'; var wasShown = $ax.visibility.IsIdVisible(elementId); var compress = options && options.showType == 'compress' && wasShown != value; var compressed = false; var onComplete = function() { if(compress && !compressed) $ax.dynamicPanelManager.compressToggle(elementId, options.vertical, value, options.compressEasing, options.compressDuration); compressed = true; $ax.dynamicPanelManager.fitParentPanel(elementId); }; $ax.visibility.SetWidgetVisibility(elementId, { value: value, easing: easing, direction: direction, duration: duration, fire: true, onComplete: onComplete }); if(compress && !compressed) $ax.dynamicPanelManager.compressToggle(elementId, options.vertical, value, options.compressEasing, options.compressDuration); compressed = true; }; $ax.public.fn.moveTo = function(x, y, options) { var easing = 'none'; var duration = 500; if(options && options.easing) { easing = options.easing; if(options.duration) { duration = options.duration; } } var elementIds = this.getElementIds(); for(var index = 0; index < elementIds.length; index++) { var elementId = elementIds[index]; $ax.move.MoveWidget(elementId, x, y, easing, duration, true, function() { $ax.dynamicPanelManager.fitParentPanel(elementId); }, true); } return this; }; $ax.public.fn.moveBy = function(x, y, options) { var elementIds = this.getElementIds(); if(x == 0 && y == 0) { for(var i = 0; i < elementIds.length; i++) { var id = this.getElementIds()[i]; $ax.move.nopMove(id); $ax.event.raiseSyntheticEvent(id, "onMove"); $ax.action.fireAnimationFromQueue(id); } return this; } var easing = 'none'; var duration = 500; if(options && options.easing) { easing = options.easing; if(options.duration) { duration = options.duration; } } for(var index = 0; index < elementIds.length; index++) { var elementId = elementIds[index]; $ax.move.MoveWidget(elementId, x, y, easing, duration, false, function() { $ax.dynamicPanelManager.fitParentPanel(elementId); }, true); } return this; }; $ax.public.fn.bringToFront = function() { var elementIds = this.getElementIds(); for(var index = 0; index < elementIds.length; index++) { $ax.legacy.BringToFront(elementIds[index]); } return this; }; $ax.public.fn.sendToBack = function() { var elementIds = this.getElementIds(); for(var index = 0; index < elementIds.length; index++) { $ax.legacy.SendToBack(elementIds[index]); } return this; }; $ax.public.fn.text = function() { if(arguments[0] == undefined) { var firstId = this.getElementIds()[0]; if(!firstId) { return undefined; } return getWidgetText(firstId); } else { var elementIds = this.getElementIds(); for(var index = 0; index < elementIds.length; index++) { var currentItem = elementIds[index]; var widgetType = $ax.getTypeFromElementId(currentItem); if(widgetType == TEXT_BOX_TYPE || widgetType == TEXT_AREA_TYPE) { //For non rtf SetWidgetFormText(currentItem, arguments[0]); } else { var idRtf = '#' + currentItem; if($(idRtf).length == 0) idRtf = '#u' + (Number(currentItem.substring(1)) + 1); if($(idRtf).length != 0) { //If the richtext div already has some text in it, //preserve only the first style and get rid of the rest //If no pre-existing p-span tags, don't do anything if($(idRtf).find('p').find('span').length > 0) { $(idRtf).find('p:not(:first)').remove(); $(idRtf).find('p').find('span:not(:first)').remove(); //Replace new-lines with NEWLINE token, then html encode the string, //finally replace NEWLINE token with linebreak var textWithLineBreaks = arguments[0].replace(/\n/g, '--NEWLINE--'); var textHtml = $('').text(textWithLineBreaks).html(); $(idRtf).find('span').html(textHtml.replace(/--NEWLINE--/g, '')); } } } } return this; } }; var getWidgetText = function(id) { var idQuery = $jobj(id); var inputQuery = $jobj($ax.INPUT(id)); if(inputQuery.length) idQuery = inputQuery; if(idQuery.is('input') && (idQuery.attr('type') == 'checkbox' || idQuery.attr('type') == 'radio')) { idQuery = idQuery.parent().find('label').find('div'); } if(idQuery.is('div')) { var $rtfObj = idQuery.hasClass('text') ? idQuery : idQuery.find('.text'); if($rtfObj.length == 0) return undefined; var textOut = ''; $rtfObj.children('p').each(function(index) { if(index != 0) textOut += '\n'; //Replace line breaks (set in SetWidgetRichText) with newlines and nbsp's with regular spaces. var htmlContent = $(this).html().replace(/]*>/ig, '\n').replace(/&nbsp;/ig, ' '); textOut += $(htmlContent).text(); }); return textOut; } else { var val = idQuery.val(); return val == undefined ? '' : val; } }; $ax.public.fn.setRichTextHtml = function() { if(arguments[0] == undefined) { //No getter function, so just return undefined return undefined; } else { var elementIds = this.getElementIds(); for(var index = 0; index < elementIds.length; index++) { var currentItem = elementIds[index]; var widgetType = $ax.getTypeFromElementId(currentItem); if(widgetType == TEXT_BOX_TYPE || widgetType == TEXT_AREA_TYPE) { //Do nothing for non rtf continue; } else { //TODO -- [mas] fix this! var idRtf = '#' + currentItem; if($(idRtf).length == 0) idRtf = '#u' + (parseInt(currentItem.substring(1)) + 1); if($(idRtf).length != 0) SetWidgetRichText(idRtf, arguments[0]); } } return this; } }; $ax.public.fn.value = function() { if(arguments[0] == undefined) { var firstId = this.getElementIds()[0]; if(!firstId) { return undefined; } var widgetType = $ax.getTypeFromElementId(firstId); if(widgetType == COMBO_BOX_TYPE || widgetType == LIST_BOX_TYPE) { //for select lists and drop lists return $('#' + firstId + ' :selected').text(); } else if(widgetType == CHECK_BOX_TYPE || widgetType == RADIO_BUTTON_TYPE) { //for radio/checkboxes return $('#' + firstId + '_input').is(':checked'); } else if(widgetType == TEXT_BOX_TYPE) { //for text box return $('#' + firstId + '_input').val(); } else { //for text based form elements return this.jQuery().first().val(); } } else { var elementIds = this.getElementIds(); for(var index = 0; index < elementIds.length; index++) { var widgetType = $ax.getTypeFromElementId(elementIds[index]); var elementIdQuery = $('#' + elementIds[index]); if(widgetType == CHECK_BOX_TYPE || widgetType == RADIO_BUTTON_TYPE) { //for radio/checkboxes if(arguments[0] == true) { elementIdQuery.attr('checked', true); } else if(arguments[0] == false) { elementIdQuery.removeAttr('checked'); } } else { //For select lists, drop lists, text based form elements elementIdQuery.val(arguments[0]); } } return this; } }; $ax.public.fn.checked = function() { if(arguments[0] == undefined) { return this.selected(); } else { this.selected(arguments[0]); return this; } }; var _getRelativeLeft = function(node, parent) { var currentNode = node; var left = 0; while(currentNode != null && currentNode.tagName != "BODY") { left += currentNode.offsetLeft; currentNode = currentNode.offsetParent; if(currentNode == parent) break; } return left; }; var _getRelativeTop = function(node, parent) { var currentNode = node; var top = 0; while(currentNode != null && currentNode.tagName != "BODY") { top += currentNode.offsetTop; currentNode = currentNode.offsetParent; if(currentNode == parent) break; } return top; }; var _scrollHelper = function(id, scrollX, scrollY, easing, duration) { var target = window.document.getElementById(id); var scrollable = $ax.legacy.GetScrollable(target); var targetLeft = _getRelativeLeft(target, scrollable); var targetTop = _getRelativeTop(target, scrollable); if(!scrollX) targetLeft = scrollable.scrollLeft; if(!scrollY) targetTop = scrollable.scrollTop; var $scrollable = $(scrollable); if($scrollable.is('body')) { $scrollable = $('html,body'); } if(easing == 'none') { if(scrollY) $scrollable.scrollTop(targetTop); if(scrollX) $scrollable.scrollLeft(targetLeft); } else { if(!scrollX) { $scrollable.animate({ scrollTop: targetTop }, duration, easing); } else if(!scrollY) { $scrollable.animate({ scrollLeft: targetLeft }, duration, easing); } else { $scrollable.animate({ scrollTop: targetTop, scrollLeft: targetLeft }, duration, easing); } } }; $ax.public.fn.scroll = function(scrollOption) { var easing = 'none'; var duration = 500; if(scrollOption && scrollOption.easing) { easing = scrollOption.easing; if(scrollOption.duration) { duration = scrollOption.duration; } } var scrollX = true; var scrollY = true; if(scrollOption.direction == 'vertical') { scrollX = false; } else if(scrollOption.direction == 'horizontal') { scrollY = false; } var elementIds = this.getElementIds(); for(var index = 0; index < elementIds.length; index++) { // if($ax.getTypeFromElementId(elementIds[index]) == IMAGE_MAP_REGION_TYPE) { _scrollHelper(elementIds[index], scrollX, scrollY, easing, duration); // } } return this; }; $ax.public.fn.enabled = function() { if(arguments[0] == undefined) { var firstId = this.getElementIds()[0]; if(!firstId) return undefined; var widgetType = $ax.getTypeFromElementId(firstId); if(widgetType == IMAGE_BOX_TYPE || widgetType == BUTTON_SHAPE_TYPE || widgetType == FLOW_SHAPE_TYPE) return !$ax.style.IsWidgetDisabled(firstId); else return this.jQuery().first().not(':disabled').length > 0; } else { var elementIds = this.getElementIds(); for(var index = 0; index < elementIds.length; index++) { var elementId = elementIds[index]; var widgetType = $ax.getTypeFromElementId(elementId); var enabled = arguments[0]; if(widgetType == IMAGE_BOX_TYPE || widgetType == BUTTON_SHAPE_TYPE || widgetType == FLOW_SHAPE_TYPE) $ax.style.SetWidgetEnabled(elementId, enabled); if(widgetType == DYNAMIC_PANEL_TYPE) { $ax.style.SetWidgetEnabled(elementId, enabled); var children = this.getChildren()[index].children; for(var i = 0; i < children.length; i++) { var childId = children[i]; // Need to check this because of radio button and checkbox var end = '_container'; if(childId.length > end.length && childId.substring(childId.length - end.length) == end) { childId = childId.substring(0, childId.length - end.length); } $axure('#' + childId).enabled(enabled); } } var obj = $obj(elementId); var images = obj.images; if(PLAIN_TEXT_TYPES.indexOf(widgetType) != -1 && images) { var img = $jobj($ax.repeater.applySuffixToElementId(elementId, '_image_sketch')); var key = (enabled ? 'normal~' : 'disabled~') + ($ax.adaptive.currentViewId || ''); img.attr('src', images[key]); } var jobj = $jobj(elementId); var input = $jobj($ax.INPUT(elementId)); if(input.length) jobj = input; if(OS_MAC && WEBKIT && widgetType == 'comboBox') jobj.css('color', enabled ? '' : 'grayText'); if(enabled) jobj.removeAttr('disabled'); else jobj.attr('disabled', 'disabled'); } return this; } }; $ax.public.fn.visible = function() { var ids = this.getElementIds(); for(var index = 0; index < ids.length; index++) $ax.visibility.SetIdVisible(ids[index], arguments[0]); return this; }; $ax.public.fn.selected = function() { if(arguments[0] == undefined) { var firstId = this.getElementIds()[0]; if(!firstId) return undefined; var widgetType = $ax.getTypeFromElementId(firstId); if(widgetType == TREE_NODE_OBJECT_TYPE) { var treeNodeButtonShapeId = ''; var allElementIds = $ax.getAllElementIds(); for(var i = 0; i < allElementIds.length; i++) { var elementId = allElementIds[i]; var currObj = $ax.getObjectFromElementId(elementId); if(currObj.type == BUTTON_SHAPE_TYPE && currObj.parent && currObj.parent.scriptIds && currObj.parent.scriptIds[0] == firstId) { treeNodeButtonShapeId = elementId; break; } } if(treeNodeButtonShapeId == '') return undefined; return $ax.style.IsWidgetSelected(treeNodeButtonShapeId); } else if(widgetType == IMAGE_BOX_TYPE || widgetType == BUTTON_SHAPE_TYPE || widgetType == FLOW_SHAPE_TYPE || widgetType == TABLE_CELL_TYPE | widgetType == DYNAMIC_PANEL_TYPE) { return $ax.style.IsWidgetSelected(firstId); } else if(widgetType == CHECK_BOX_TYPE || widgetType == RADIO_BUTTON_TYPE) { return $jobj($ax.INPUT(firstId)).prop('checked'); } return this; } var elementIds = this.getElementIds(); var func = typeof (arguments[0]) === 'function' ? arguments[0] : null; var enabled = arguments[0]; // If this is a function it will be overridden with the return value; for(var index = 0; index < elementIds.length; index++) { var elementId = elementIds[index]; if(func) { enabled = func($axure('#' + elementId)); } var widgetType = $ax.getTypeFromElementId(elementId); if(widgetType == TREE_NODE_OBJECT_TYPE) { //for tree node var treeRootId = $('#' + elementIds[index]).parents('.treeroot').attr('id'); var treeNodeButtonShapeId = ''; var childElementIds = $jobj(elementId).children(); for(var i = 0; i < childElementIds.length; i++) { var elementId = childElementIds[i].id; var currObj = $ax.getObjectFromElementId(elementId); if(currObj && currObj.type == BUTTON_SHAPE_TYPE && currObj.parent && currObj.parent.scriptIds && currObj.parent.scriptIds[0] == elementIds[index]) { treeNodeButtonShapeId = elementId; break; } } if(treeNodeButtonShapeId == '') continue; $ax.tree.SelectTreeNode(elementId, enabled); } else if(widgetType == IMAGE_BOX_TYPE || widgetType == BUTTON_SHAPE_TYPE || widgetType == FLOW_SHAPE_TYPE || widgetType == TABLE_CELL_TYPE || widgetType == DYNAMIC_PANEL_TYPE) { $ax.style.SetWidgetSelected(elementIds[index], enabled); } else if(widgetType == CHECK_BOX_TYPE || widgetType == RADIO_BUTTON_TYPE) { var query = $jobj($ax.INPUT(elementId)); var curr = query.prop('checked'); if(curr != enabled) { query.prop('checked', enabled); $ax.event.TryFireCheckChanged(elementId, enabled); } } } return this; }; $ax.public.fn.focus = function() { var firstId = this.getElementIds()[0]; var focusableId = $ax.event.getFocusableWidgetOrChildId(firstId); $('#' + focusableId).focus(); return this; }; $ax.public.fn.expanded = function() { if(arguments[0] == undefined) { var firstId = this.getElementIds()[0]; return firstId && $ax.getTypeFromElementId(firstId) !== TREE_NODE_OBJECT_TYPE && $ax.visibility.IsIdVisible(firstId + '_children'); } else { var elementIds = this.getElementIds(); for(var index = 0; index < elementIds.length; index++) { if($ax.getTypeFromElementId(elementIds[index]) == TREE_NODE_OBJECT_TYPE) { var treeNodeId = elementIds[index]; var childContainerId = treeNodeId + '_children'; var scriptId = $ax.repeater.getScriptIdFromElementId(treeNodeId); var itemId = $ax.repeater.getItemIdFromElementId(treeNodeId); var plusMinusId = 'u' + (parseInt(scriptId.substring(1)) + 1); if(itemId) plusMinusId = $ax.repeater.createElementId(plusMinusId, itemId); if($('#' + childContainerId).length == 0 || !$jobj(plusMinusId).hasClass('ax_image')) plusMinusId = ''; if(arguments[0] == true) { $ax.tree.ExpandNode(treeNodeId, childContainerId, plusMinusId); } else if(arguments[0] == false) { $ax.tree.CollapseNode(treeNodeId, childContainerId, plusMinusId); } } } return this; } }; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2FaxQuery%2F</url>
    <content type="text"><![CDATA[$axure = function(query) { return $axure.query(query); }; // ******* AxQuery and Page metadata ******** // (function() { var $ax = function() { var returnVal = $axure.apply(this, arguments); var axFn = $ax.fn; for (var key in axFn) { returnVal[key] = axFn[key]; } return returnVal; }; $ax.public = $axure; $ax.fn = {}; $axure.internal = function(initFunction) { //Attach messagecenter to $ax object so that it can be used in viewer.js, etc in internal scope if(!$ax.messageCenter) $ax.messageCenter = $axure.messageCenter; return initFunction($ax); }; var _lastFiredResize = 0; var _resizeFunctions = []; var _lastTimeout; var _fireResize = function() { if (_lastTimeout) window.clearTimeout(_lastTimeout); _lastTimeout = undefined; _lastFiredResize = new Date().getTime(); for(var i = 0; i < _resizeFunctions.length; i++) _resizeFunctions[i](); }; $axure.resize = function(fn) { if(fn) _resizeFunctions[_resizeFunctions.length] = fn; else $(window).resize(); }; $(window).resize(function() { var THRESHOLD = 50; var now = new Date().getTime(); if(now - _lastFiredResize > THRESHOLD) { _fireResize(); } else if(!_lastTimeout) { _lastTimeout = window.setTimeout(_fireResize, THRESHOLD); } }); window.$obj = function(id) { return $ax.getObjectFromElementId(id); }; window.$id = function(obj) { return obj.scriptIds[0]; }; window.$jobj = function(id) { return $(document.getElementById(id)); }; $ax.INPUT = function(id) { return id + "_input"; }; $ax.IsImageFocusable = function(type) { return type == 'imageBox' || type == 'buttonShape' || type == 'flowShape' || type == 'treeNodeObject' || type == 'tableCell'; }; $ax.IsTreeNodeObject = function(type) { return type == 'treeNodeObject'; }; $ax.IsSelectionButton = function(type) { return type == 'checkbox' || type == 'radioButton'; }; var _fn = {}; $axure.fn = _fn; $axure.fn.jQuery = function() { var elements = this.getElements(); return $(elements); }; $axure.fn.$ = $axure.fn.jQuery; var _query = function(query, queryArg) { var returnVal = {}; var _axQueryObject = returnVal.query = { }; _axQueryObject.filterFunctions = []; if (query == '*') { _axQueryObject.filterFunctions[0] = function() { return true; }; } else if (typeof(query) === 'function') { _axQueryObject.filterFunctions[0] = query; } else { var firstString = $.trim(query.toString()); if (firstString.charAt(0) == '@') { _axQueryObject.filterFunctions[0] = function(diagramObject) { return diagramObject.label == firstString.substring(1); }; } else if (firstString.charAt(0) == '#') { _axQueryObject.elementId = firstString.substring(1); } else { if (firstString == 'label') { _axQueryObject.filterFunctions[0] = function(diagramObject) { return queryArg instanceof Array && queryArg.indexOf(diagramObject.label) > 0 || queryArg instanceof RegExp && queryArg.test(diagramObject.label) || diagramObject.label == queryArg; }; } else if(firstString == 'elementId') { _axQueryObject.filterFunctions[0] = function(diagramObject, elementId) { return queryArg instanceof Array && queryArg.indexOf(elementId) > 0 || elementId == queryArg; }; } } } var axureFn = $axure.fn; for (var key in axureFn) { returnVal[key] = axureFn[key]; } return returnVal; }; $axure.query = _query; var _getFilterFnFromQuery = function(query) { var filter = function(diagramObject, elementId) { // Non diagram objects are allowed to be queryed, such as text inputs. if(diagramObject && diagramObject.type != 'referenceDiagramObject' && !document.getElementById(elementId)) return false; var retVal = true; for(var i = 0; i < query.filterFunctions.length && retVal; i++) { retVal = query.filterFunctions[i](diagramObject, elementId); } return retVal; }; return filter; }; $ax.public.fn.filter = function(query, queryArg) { var returnVal = _query(query, queryArg); if(this.query.elementId) returnVal.query.elementId = this.query.elementId; //If there is already a function, offset by 1 when copying other functions over. var offset = returnVal.query.filterFunctions[0] ? 1 : 0; //Copy all functions over to new array. for(var i = 0; i < this.query.filterFunctions.length; i++) returnVal.query.filterFunctions[i+offset] = this.query.filterFunctions[i]; //Functions are in reverse order now returnVal.query.filterFunctions.reverse(); return returnVal; }; $ax.public.fn.each = function(fn) { var filter = _getFilterFnFromQuery(this.query); var elementIds = this.query.elementId ? [this.query.elementId] : $ax.getAllElementIds(); for (var i = 0; i < elementIds.length; i++) { var elementId = elementIds[i]; var diagramObject = $ax.getObjectFromElementId(elementId); if (filter(diagramObject, elementId)) { fn.apply(diagramObject, [diagramObject, elementId]); } } }; $ax.public.fn.getElements = function() { var elements = []; this.each(function(dObj, elementId) { var elementById = document.getElementById(elementId); if(elementById) elements[elements.length] = elementById; }); return elements; }; $ax.public.fn.getElementIds = function() { var elementIds = []; this.each(function(dObj, elementId) { elementIds[elementIds.length] = elementId; }); return elementIds; }; // Deep means to keep getting parents parent until at the root parent. Parent is then an array instead of an id. $ax.public.fn.getParents = function(deep) { var elementIds = this.getElementIds(); var parentIds = []; var getParent = function(elementId) { var parent = undefined; var scriptId = $ax.repeater.getScriptIdFromElementId(elementId); var itemNum = $ax.repeater.getItemIdFromElementId(elementId); var parentRepeater = $ax.getParentRepeaterFromScriptId(scriptId); // Repeater references self, constantly if it is treated as its own parent in this case infinite recursion occurs. if(parentRepeater == scriptId) { parentRepeater = undefined; itemNum = ''; } if(parentRepeater) { parentRepeater = $ax.repeater.createElementId(parentRepeater, itemNum); parent = parentRepeater; } var masterPath = $ax.getPathFromScriptId($ax.repeater.getScriptIdFromElementId(elementId)); masterPath.pop(); if(masterPath.length > 0) { var masterId = $ax.getElementIdFromPath(masterPath, {itemNum: itemNum}); var masterRepeater = $ax.getParentRepeaterFromScriptId($ax.repeater.getScriptIdFromElementId(masterId)); if(!parentRepeater || masterRepeater) parent = masterId; } var obj = $obj(elementId); var parentDynamicPanel = obj.parentDynamicPanel; if(parentDynamicPanel) { // Make sure the parent if not parentRepeater, or dynamic panel is also in that repeater // If there is a parent master, the dynamic panel must be in it, otherwise parentDynamicPanel would be undefined. var panelPath = masterPath; panelPath[panelPath.length] = parentDynamicPanel; var panelId = $ax.getElementIdFromPath(panelPath, {itemNum: itemNum}); var panelRepeater = $ax.getParentRepeaterFromScriptId($ax.repeater.getScriptIdFromElementId(panelId)); if(!parentRepeater || panelRepeater) return panelId + '_state' + obj.panelIndex; } return parent; }; for(var i = 0; i < elementIds.length; i++) { var parent = getParent(elementIds[i]); if(deep) { var parents = []; while(parent) { parents[parents.length] = parent; // If id is not a valid object, you are either repeater item if(!$obj(parent)) parent = $jobj(parent).parent().attr('id'); // or dynamic panel state. if(!$obj(parent)) parent = $jobj(parent).parent().attr('id'); parent = getParent(parent); } parent = parents; } parentIds[parentIds.length] = parent; } return parentIds; }; // Get the path to the child, where non leaf nodes can be masters, dynamic panels, and repeaters. $ax.public.fn.getChildren = function(deep) { var elementIds = this.getElementIds(); var children = []; var getChildren = function(elementId) { var obj = $obj(elementId); if(!obj) return undefined; var isRepeater = obj.type == 'repeater'; var isDynamicPanel = obj.type == 'dynamicPanel'; var isMaster = obj.type == 'master'; var isMenu = obj.type == 'menuObject'; var isTreeNode = obj.type == 'treeNodeObject'; var isTable = obj.type == 'table'; if(isRepeater || isDynamicPanel || isMaster || isMenu || isTreeNode || isTable) { // Find parent that children should be pulled from. Default is just the elementId query (used by table and master) var parent = $jobj(elementId); if(isRepeater) { parent = $(); var itemIds = $ax.getItemIdsForRepeater(elementId); for(var itemIndex = 0; itemIndex < itemIds.length; itemIndex++) parent = parent.add($jobj($ax.repeater.createElementId(elementId, itemIds[itemIndex]))); } else if(isDynamicPanel) { // Really only need to do active state probably... parent = $jobj(elementId).children().children(); } else if(isTreeNode) parent = $jobj($ax.repeater.applySuffixToElementId(elementId, '_children')); // Menu doesn't want all children, only tables and menus, so it must be handled specially var children = isMenu ? parent.children('.ax_table').add(parent.children('.ax_menu')) : parent.children(); // For tree nodes you want the the button shape contained by the elementQuery too if(isTreeNode) { var treeNodeChildren = $jobj(elementId).children(); for(var treeNodeIndex = 0; treeNodeIndex < treeNodeChildren.length; treeNodeIndex++) { var treeNodeChild = $(treeNodeChildren[treeNodeIndex]); var childObj = $obj(treeNodeChild.attr('id')); if(childObj && childObj.type == 'buttonShape') children = children.add(treeNodeChild); } } var childrenIds = []; for(var childIndex = 0; childIndex < children.length; childIndex++) { var childObj = $(children[childIndex]); var id = childObj.attr('id'); if(typeof(id) == 'undefined' && childObj.is('a')) id = $(childObj.children()[0]).attr('id'); childrenIds.push(id); } if(deep) { var childObjs = []; for(var i = 0; i < childrenIds.length; i++) { var childId = childrenIds[i]; childObjs[i] = { id: childId, children: getChildren(childId) }; } childrenIds = childObjs; } return childrenIds; } return undefined; }; for(var i = 0; i < elementIds.length; i++) { children[children.length] = { id : elementIds[i], children : getChildren(elementIds[i])}; } return children; }; })();]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fannotation%2F</url>
    <content type="text"><![CDATA[// ******* Annotation MANAGER ******** // $axure.internal(function($ax) { var NOTE_SIZE = 10; var _annotationManager = $ax.annotation = {}; var _updateLinkLocations = $ax.annotation.updateLinkLocations = function(textId) { var diagramObject = $ax.getObjectFromElementId(textId); var rotation = (diagramObject && diagramObject.style.rotation); var shapeId = $ax.style.GetShapeIdFromText(textId); //we have to do this because webkit reports the post-transform position but when you set //positions it's pre-transform if(WEBKIT && rotation) { $('#' + shapeId).css('-webkit-transform', 'scale(1)'); $('#' + textId).css('-webkit-transform', 'scale(1)'); } $('#' + textId).find('span[id$="_ann"]').each(function(index, value) { var elementId = value.id.replace('_ann', ''); var annPos = $(value).position(); var left = annPos.left - NOTE_SIZE; var top = annPos.top; $('#' + elementId + 'Note').css('left', left).css('top', top); }); //undo the transform reset if(WEBKIT && rotation) { $('#' + shapeId).css('-webkit-transform', ''); $('#' + textId).css('-webkit-transform', ''); } }; var dialogs = {}; $ax.annotation.ToggleWorkflow = function(event, id, width, height) { if(dialogs[id]) { var $dialog = dialogs[id]; // reset the dialog dialogs[id] = undefined; if($dialog.dialog("isOpen")) { $dialog.dialog("close"); return; } } // we'll need to save the scroll position just for stupid IE which will skip otherwise var win = $(window); var scrollY = win.scrollTop(); var scrollX = win.scrollLeft(); var bufferH = 10; var bufferV = 10; var blnLeft = false; var blnAbove = false; var sourceTop = event.pageY - scrollY; var sourceLeft = event.pageX - scrollX; if(sourceLeft > width + bufferH) { blnLeft = true; } if(sourceTop > height + bufferV) { blnAbove = true; } var top = 0; var left = 0; if(blnAbove) top = sourceTop - height - 20; else top = sourceTop + 10; if(blnLeft) left = sourceLeft - width - 4; else left = sourceLeft - 6; $ax.globals.MaxZIndex = $ax.globals.MaxZIndex + 1; if(IE) height += 50; var dObj = $ax.getObjectFromElementId(id); var ann = dObj.annotation; var $dialog = $('') .appendTo('body') .html($ax.legacy.GetAnnotationHtml(ann)) .dialog({ title: dObj.label, width: width, height: height, minHeight: 150, zIndex: $ax.globals.MaxZIndex, position: [left, top], dialogClass: 'dialogFix', autoOpen: false }); $dialog.parent().appendTo('#base'); $dialog.dialog('open'); dialogs[id] = $dialog; // scroll ... just for IE window.scrollTo(scrollX, scrollY); }; $ax.annotation.InitializeAnnotations = function(query) { query.each(function(dObj, elementId) { if(!dObj.annotation) return; if(dObj.type == 'hyperlink') { var textId = $ax.style.GetTextIdFromLink(elementId); var elementIdQuery = $('#' + elementId); elementIdQuery.after("&#8203;"); if($ax.document.configuration.useLabels) { var label = $('#' + elementId).attr("data-label"); if(!label || label == "") label = "?"; $('#' + textId).append("" + label + ""); } else { $('#' + textId).append(""); } $('#' + elementId + 'Note').click(function(e) { $ax.annotation.ToggleWorkflow(e, elementId, 300, 150, false); return false; }); _updateLinkLocations(textId); } else { if($ax.document.configuration.useLabels) { var label = $('#' + elementId).attr("data-label"); if(!label || label == "") label = "?"; $('#' + elementId + "_ann").append("" + label + ""); } else { $('#' + elementId + "_ann").append(""); } $('#' + elementId + 'Note').click(function(e) { $ax.annotation.ToggleWorkflow(e, elementId, 300, 150, false); return false; }); } }); }; $ax.annotation.jQueryAnn = function(query) { var elementIds = []; query.each(function(diagramObject, elementId) { if(diagramObject.annotation) elementIds[elementIds.length] = elementId; }); var elementIdSelectors = jQuery.map(elementIds, function(elementId) { return '#' + elementId + '_ann'; }); var jQuerySelectorText = (elementIdSelectors.length > 0) ? elementIdSelectors.join(', ') : ''; return $(jQuerySelectorText); }; $(window.document).ready(function() { $ax.annotation.InitializeAnnotations($ax(function(dObj) { return dObj.annotation; })); $ax.messageCenter.addMessageListener(function(message, data) { //If the annotations are being hidden via the Sitemap toggle button, hide any open dialogs if(message == 'annotationToggle') { if(data == false) { for(var index in dialogs) { var $dialog = dialogs[index]; if($dialog.dialog("isOpen")) { $dialog.dialog("close"); } } } } }); }); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Fadaptive%2F</url>
    <content type="text"><![CDATA[$axure.internal(function($ax) { $ax.adaptive = {}; $axure.utils.makeBindable($ax.adaptive, ["viewChanged"]); var _auto = true; var _views; var _idToView; var _enabledViews = []; var _initialViewToLoad; var _loadFinished = false; $ax.adaptive.loadFinished = function() { if(_loadFinished) return; _loadFinished = true; if($ax.adaptive.currentViewId) $ax.viewChangePageAndMasters(); else $ax.postAdaptiveViewChanged(); }; var _handleResize = function() { if(!_auto) return; var $window = $(window); var height = $window.height(); var width = $window.width(); var toView = _getAdaptiveView(width, height); var toViewId = toView && toView.id; _switchView(toViewId); }; var _setAuto = $ax.adaptive.setAuto = function(val) { if(_auto != val) { _auto = Boolean(val); } }; var _setLineImage = function(id, imageUrl) { var imageQuery = $jobj(id).attr('src', imageUrl); if(imageUrl.indexOf(".png") > -1) $ax.utils.fixPng(imageQuery[0]); }; var _switchView = function(viewId) { var previousViewId = $ax.adaptive.currentViewId; if(typeof previousViewId == 'undefined') previousViewId = ''; if(typeof viewId == 'undefined') viewId = ''; if(viewId == previousViewId) return; $ax('*').each(function(obj, elementId) { if(obj.type != 'treeNodeObject') return; if(!obj.hasOwnProperty('isExpanded')) return; var query = $ax('#' + elementId); var defaultExpanded = obj.isExpanded; query.expanded(defaultExpanded); }); // reset all the positioning on the style tags $axure('*').each(function(diagramObject, elementId) { var element = document.getElementById(elementId); if(element && !diagramObject.isContained) { element.style.top = ""; element.style.left = ""; $ax.dynamicPanelManager.resetFixedPanel(diagramObject, element); $ax.dynamicPanelManager.resetAdaptivePercentPanel(diagramObject, element); } }); $ax.adaptive.currentViewId = viewId; // we need to set this so the enabled and selected styles will apply properly if(previousViewId) { $ax.style.clearAdaptiveStyles(); $('*').removeClass(previousViewId); } // reset all the images only if we're going back to the default view if(!viewId) { _updateInputVisibility('', $axure('*')); $axure('*').each(function(diagramObject, elementId) { var images = diagramObject.images; if(diagramObject.type == 'horizontalLine' || diagramObject.type == 'verticalLine') { var startImg = images['start~']; _setLineImage(elementId + "_start", startImg); var endImg = images['end~']; _setLineImage(elementId + "_end", endImg); var lineImg = images['line~']; _setLineImage(elementId + "_line", lineImg); } else { if(!images) return; if($ax.style.IsWidgetDisabled(elementId)) { var disabledImage = $ax.style.getElementImageOverride(elementId, 'disabled') || images['disabled~']; if(disabledImage) $ax.style.applyImage(elementId, disabledImage, 'disabled'); return; } if($ax.style.IsWidgetSelected(elementId)) { var selectedImage = $ax.style.getElementImageOverride(elementId, 'selected') || images['selected~']; if(selectedImage) $ax.style.applyImage(elementId, selectedImage, 'selected'); return; } $ax.style.applyImage(elementId, $ax.style.getElementImageOverride(elementId, 'normal') || images['normal~']); } var child = $jobj(elementId).children('.text'); if(child.length) $ax.style.transformTextWithVerticalAlignment(child[0].id, function() { }); }); // we have to reset visibility if we aren't applying a new view $ax.visibility.resetLimboAndHiddenToDefaults(); $ax.repeater.refreshAllRepeaters(); $ax.dynamicPanelManager.updateAllFitPanels(); $ax.dynamicPanelManager.updatePercentPanelCache($ax('*')); } else { $ax.visibility.clearLimboAndHidden(); _applyView(viewId); $ax.repeater.refreshAllRepeaters(); } $ax.adaptive.triggerEvent('viewChanged', {}); if(_loadFinished) $ax.viewChangePageAndMasters(); }; // gets if input is hidden due to sketch var BORDER_WIDTH = "borderWidth"; var COLOR_STYLE = "colorStyle"; var SKETCH_FACTOR = "sketchFactor"; var _areInputsHidden = function(viewId) { var chain = _getAdaptiveIdChain(viewId); var page = $ax.pageData.page; var adaptiveStyles = page.adaptiveStyles; // keep track of props that are not sketchy, as you continue to climb up your parents; var notSketch = []; for(var i = chain.length - 1; i >= -1; i--) { var style = i == -1 ? page.style : adaptiveStyles[chain[i]]; if(notSketch.indexOf(BORDER_WIDTH) == -1 && style.hasOwnProperty(BORDER_WIDTH)) { if(style[BORDER_WIDTH] != 0) return true; notSketch.push(BORDER_WIDTH); } if(notSketch.indexOf(COLOR_STYLE) == -1 && style.hasOwnProperty(COLOR_STYLE)) { if(style[COLOR_STYLE] != 'appliedColor') return true; notSketch.push(COLOR_STYLE); } if(notSketch.indexOf(SKETCH_FACTOR) == -1 && style.hasOwnProperty(SKETCH_FACTOR)) { if(style[SKETCH_FACTOR] != 0) return true; notSketch.push(SKETCH_FACTOR); } } return false; }; var _updateInputVisibility = function(viewId, query) { var func = _areInputsHidden(viewId) ? 'addClass' : 'removeClass'; query.each(function(obj, elementId) { var input = $jobj($ax.repeater.applySuffixToElementId(elementId, '_input')); if(input.length == 0) return; input[func]('form_sketch'); }); }; // gets the inheritance chain of a particular view. var _getAdaptiveIdChain = $ax.adaptive.getAdaptiveIdChain = function(viewId) { if(!viewId) return []; var view = _idToView[viewId]; var chain = []; var current = view; while(current) { chain[chain.length] = current.id; current = _idToView[current.baseViewId]; } return chain.reverse(); }; var _getPageStyle = $ax.adaptive.getPageStyle = function() { var currentViewId = $ax.adaptive.currentViewId; var adaptiveChain = _getAdaptiveIdChain(currentViewId); var currentStyle = $.extend({}, $ax.pageData.page.style); for(var i = 0; i < adaptiveChain.length; i++) { var viewId = adaptiveChain[i]; $.extend(currentStyle, $ax.pageData.page.adaptiveStyles[viewId]); } return currentStyle; }; var _setAdaptiveLineImages = function(elementId, images, viewIdChain) { for(var i = viewIdChain.length - 1; i >= 0; i--) { var viewId = viewIdChain[i]; var startImg = images['start~' + viewId]; if(startImg) { _setLineImage(elementId + "_start", startImg); var endImg = images['end~' + viewId]; _setLineImage(elementId + "_end", endImg); var lineImg = images['line~' + viewId]; _setLineImage(elementId + "_line", lineImg); break; } } }; var _applyView = $ax.adaptive.applyView = function(viewId, query) { var limboIds = {}; var hiddenIds = {}; var jquery; if(query) { jquery = query.jQuery(); jquery = jquery.add(jquery.find('*')); var jqueryAnn = $ax.annotation.jQueryAnn(query); jquery = jquery.add(jqueryAnn); } else { jquery = $('*'); query = $ax('*'); } jquery.addClass(viewId); _updateInputVisibility(viewId, query); var viewIdChain = _getAdaptiveIdChain(viewId); // this could be made more efficient by computing it only once per object query.each(function(diagramObject, elementId) { _applyAdaptiveViewOnObject(diagramObject, elementId, viewIdChain, viewId, limboIds, hiddenIds); }); $ax.visibility.addLimboAndHiddenIds(limboIds, hiddenIds, query); $ax.dynamicPanelManager.updateAllFitPanels(); $ax.dynamicPanelManager.updatePercentPanelCache(query); }; var _applyAdaptiveViewOnObject = function(diagramObject, elementId, viewIdChain, viewId, limboIds, hiddenIds) { var adaptiveChain = []; for(var i = 0; i < viewIdChain.length; i++) { var viewId = viewIdChain[i]; var viewStyle = diagramObject.adaptiveStyles[viewId]; if(viewStyle) adaptiveChain[adaptiveChain.length] = viewStyle; } var state = $ax.style.generateState(elementId); // set the image var images = diagramObject.images; if(images) { if(diagramObject.type == 'horizontalLine' || diagramObject.type == 'verticalLine') { _setAdaptiveLineImages(elementId, images, viewIdChain); } else { var imgUrl = _matchImage(elementId, images, viewIdChain, state); if(imgUrl) $ax.style.applyImage(elementId, imgUrl, state); } // for(var i = viewIdChain.length - 1; i >= 0; i--) { // var viewId = viewIdChain[i]; // var imgUrl = $ax.style.getElementImageOverride(elementId, state) || images[state + '~' + viewId] || images['normal~' + viewId]; // if(imgUrl) { // $ax.style.applyImage(elementId, imgUrl, state); // break; // } // } // } } // addaptive override style (not including default style props) var adaptiveStyle = $ax.style.computeAllOverrides(elementId, undefined, state, viewId); // this style INCLUDES the object's my style var compoundStyle = $.extend({}, diagramObject.style, adaptiveStyle); //$ax.style.setAdaptiveStyle(elementId, adaptiveStyle); if(!diagramObject.isContained) { $ax.style.setAdaptiveStyle(elementId, adaptiveStyle); } if(compoundStyle.limbo && !diagramObject.isContained) limboIds[elementId] = true; // sigh, javascript. we need the === here because undefined means not overriden if(compoundStyle.visible === false) hiddenIds[elementId] = true; }; var _matchImage = function(id, images, viewIdChain, state) { var override = $ax.style.getElementImageOverride(id, state); if(override) return override; if(!images) return undefined; // first check all the images for this state for(var i = viewIdChain.length - 1; i >= 0; i--) { var viewId = viewIdChain[i]; var img = images[state + "~" + viewId]; if(img) return img; } // check for the default state style var defaultStateImage = images[state + '~']; if(defaultStateImage) return defaultStateImage; state = $ax.style.progessState(state); if(state) return _matchImage(id, images, viewIdChain, state); // SHOULD NOT REACH HERE! NORMAL SHOULD ALWAYS CATCH AT THE DEFAULT! return images['normal~']; // this is the default }; $ax.adaptive.getImageForStateAndView = function(id, state) { var viewIdChain = _getAdaptiveIdChain($ax.adaptive.currentViewId); var diagramObject = $ax.getObjectFromElementId(id); var images = diagramObject.images; return _matchImage(id, images, viewIdChain, state); }; var _getAdaptiveView = function(winWidth, winHeight) { var _isViewOneGreaterThanTwo = function(view1, view2) { return view1.size.width > view2.size.width || (view1.size.width == view2.size.width && view1.size.height > view2.size.height); }; var _isViewOneLessThanTwo = function(view1, view2) { var width2 = view2.size.width || 1000000; // artificially large number var height2 = view2.size.height || 1000000; var width1 = view1.size.width || 1000000; var height1 = view1.size.height || 1000000; return width1 < width2 || (width1 == width2 && height1 < height2); }; var _isWindowGreaterThanView = function(view, width, height) { return width >= view.size.width && height >= view.size.height; }; var _isWindowLessThanView = function(view1, width, height) { var viewWidth = view1.size.width || 1000000; var viewHeight = view1.size.height || 1000000; return width]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxure%2Faction%2F</url>
    <content type="text"><![CDATA[$axure.internal(function($ax) { var _actionHandlers = {}; var _action = $ax.action = {}; var animationQueue = {}; var getAnimation = function(id) { return animationQueue[id] && animationQueue[id][0]; }; var _addAnimation = _action.addAnimation = function(id, func) { var wasEmpty = !getAnimation(id); // Add the func to the queue. Create the queue if necessary. var queue = animationQueue[id]; if(!queue) { animationQueue[id] = queue = []; } queue[queue.length] = func; // If it was empty, there isn't a callback waiting to be called on this. You have to fire it manually. if(wasEmpty) func(); }; var _fireAnimationFromQueue = _action.fireAnimationFromQueue = function(id) { // Remove the function that was just fired if(animationQueue[id]) $ax.splice(animationQueue[id], 0, 1); // Fire the next func if there is one var func = getAnimation(id); if(func) func(); }; var _refreshing = []; _action.refreshStart = function(repeaterId) { _refreshing.push(repeaterId); }; _action.refreshEnd = function() { _refreshing.pop(); }; // TODO: [ben] Consider moving this to repeater.js var _repeatersToRefresh = _action.repeatersToRefresh = []; var _ignoreAction = function(repeaterId) { for(var i = 0; i < _refreshing.length; i++) if(_refreshing[i] == repeaterId) return true; return false; }; var _addRefresh = function(repeaterId) { if(_repeatersToRefresh.indexOf(repeaterId) == -1) _repeatersToRefresh.push(repeaterId); }; var _dispatchAction = $ax.action.dispatchAction = function(eventInfo, actions, currentIndex) { currentIndex = currentIndex || 0; //If no actions, you can bubble if(currentIndex >= actions.length) return; //actions are responsible for doing their own dispatching _actionHandlers[actions[currentIndex].action](eventInfo, actions, currentIndex); }; _actionHandlers.wait = function(eventInfo, actions, index) { var action = actions[index]; var infoCopy = $ax.eventCopy(eventInfo); window.setTimeout(function() { infoCopy.now = new Date(); _dispatchAction(infoCopy, actions, index + 1); }, action.waitTime); }; _actionHandlers.expr = function(eventInfo, actions, index) { var action = actions[index]; $ax.expr.evaluateExpr(action.expr, eventInfo); //this should be a block _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.setFunction = _actionHandlers.expr; _actionHandlers.linkWindow = function(eventInfo, actions, index) { linkActionHelper(eventInfo, actions, index); }; _actionHandlers.closeCurrent = function(eventInfo, actions, index) { $ax.closeWindow(); _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.linkFrame = function(eventInfo, actions, index) { linkActionHelper(eventInfo, actions, index); }; var linkActionHelper = function(eventInfo, actions, index) { var action = actions[index]; eventInfo.link = true; if(action.linkType != 'frame') { var includeVars = _includeVars(action.target, eventInfo); if(action.target.targetType == "reloadPage") { $ax.reload(action.target.includeVariables); } else if(action.target.targetType == "backUrl") { $ax.back(); } var url = action.target.url; if(!url && action.target.urlLiteral) { url = $ax.expr.evaluateExpr(action.target.urlLiteral, eventInfo, true); } if(url) { if(action.linkType == "popup") { $ax.navigate({ url: url, target: action.linkType, includeVariables: includeVars, popupOptions: action.popup }); } else { $ax.navigate({ url: url, target: action.linkType, includeVariables: includeVars }); } } } else linkFrame(eventInfo, action); eventInfo.link = false; _dispatchAction(eventInfo, actions, index + 1); }; var _includeVars = function(target, eventInfo) { if(target.includeVariables) return true; // If it is a url literal, that is a string literal, that has only 1 sto, that is an item that is a page, include vars. if(target.urlLiteral) { var literal = target.urlLiteral; var sto = literal.stos[0]; if(literal.exprType == 'stringLiteral' && literal.value.indexOf('[[') == 0 && literal.value.indexOf(']]' == literal.value.length - 2) && literal.stos.length == 1 && sto.sto == 'item' && eventInfo.item) { var data = $ax.repeater.getData(eventInfo.item.repeater.elementId, eventInfo.item.index, sto.name, 'data'); if(data && data.type == 'page') return true; } } return false; }; var linkFrame = function(eventInfo, action) { for(var i = 0; i < action.framesToTargets.length; i++) { var framePath = action.framesToTargets[i].framePath; var target = action.framesToTargets[i].target; var includeVars = _includeVars(target, eventInfo); var url = target.url; if(!url && target.urlLiteral) { url = $ax.expr.evaluateExpr(target.urlLiteral, eventInfo, true); } $ax('#' + $ax.INPUT($ax.getElementIdsFromPath(framePath, eventInfo)[0])).openLink(url, includeVars); } }; var _repeatPanelMap = {}; _actionHandlers.setPanelState = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.panelsToStates.length; i++) { var panelToState = action.panelsToStates[i]; var stateInfo = panelToState.stateInfo; var elementIds = $ax.getElementIdsFromPath(panelToState.panelPath, eventInfo); for(var j = 0; j < elementIds.length; j++) { var elementId = elementIds[j]; // Need new scope for elementId and info (function(elementId, stateInfo) { _addAnimation(elementId, function() { var stateNumber = stateInfo.stateNumber; if(stateInfo.setStateType == "value") { var oldTarget = eventInfo.targetElement; eventInfo.targetElement = elementId; var stateName = $ax.expr.evaluateExpr(stateInfo.stateValue, eventInfo); eventInfo.targetElement = oldTarget; // Try for state name first var states = $ax.getObjectFromElementId(elementId).diagrams; var stateNameFound = false; for(var k = 0; k < states.length; k++) { if(states[k].label == stateName) { stateNumber = k + 1; stateNameFound = true; } } // Now check for index if(!stateNameFound) { stateNumber = Number(stateName); var panelCount = $('#' + elementId).children().length; // Make sure number is not NaN, is in range, and is a whole number. // Wasn't a state name or number, so return if(isNaN(stateNumber) || stateNumber panelCount || Math.round(stateNumber) != stateNumber) return $ax.action.fireAnimationFromQueue(elementId); } } else if(stateInfo.setStateType == 'next' || stateInfo.setStateType == 'previous') { var info = $ax.deepCopy(stateInfo); var repeat = info.repeat; // Only map it, if repeat exists. if(typeof (repeat) == 'number') _repeatPanelMap[elementId] = info; return _progessPanelState(elementId, info); } delete _repeatPanelMap[elementId]; // If setting to current (to stop repeat) break here if(stateInfo.setStateType == 'current') return $ax.action.fireAnimationFromQueue(elementId); $ax('#' + elementId).SetPanelState(stateNumber, stateInfo.options, stateInfo.showWhenSet); }); })(elementId, stateInfo); } } _dispatchAction(eventInfo, actions, index + 1); }; var _progessPanelState = function(id, info) { var direction = info.setStateType; var loop = info.loop; var repeat = info.repeat; var options = info.options; var hasRepeat = typeof (repeat) == 'number'; var currentStateId = $ax.visibility.GetPanelState(id); var stateNumber = ''; if(currentStateId != '') { currentStateId = $ax.repeater.getScriptIdFromElementId(currentStateId); var currentStateNumber = Number(currentStateId.substr(currentStateId.indexOf('state') + 5)); if(direction == "next") { stateNumber = currentStateNumber + 2; if(stateNumber > $('#' + id).children().length) { if(loop) stateNumber = 1; else { delete _repeatPanelMap[id]; return $ax.action.fireAnimationFromQueue(id); } } } else if(direction == "previous") { stateNumber = currentStateNumber; if(stateNumber repeat) repeat = animate.duration; animate = options && options.animateOut; if(animate && animate.easing && animate.easing != 'none' && animate.duration > repeat) repeat = animate.duration; window.setTimeout(function() { // Either new repeat, or no repeat anymore. if(_repeatPanelMap[id] != info) return; _addAnimation(id, function() { _progessPanelState(id, info); }); }, repeat); } else delete _repeatPanelMap[id]; } }; _actionHandlers.fadeWidget = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.objectsToFades.length; i++) { var fadeInfo = action.objectsToFades[i].fadeInfo; var elementIds = $ax.getElementIdsFromPath(action.objectsToFades[i].objectPath, eventInfo); for(var j = 0; j < elementIds.length; j++) { var elementId = elementIds[j]; // Need new scope for elementId and info (function(elementId, fadeInfo) { _addAnimation(elementId, function() { if(fadeInfo.fadeType == "hide") { $ax('#' + elementId).hide(fadeInfo.options); } else if(fadeInfo.fadeType == "show") { $ax('#' + elementId).show(fadeInfo.options, eventInfo); } else if(fadeInfo.fadeType == "toggle") { $ax('#' + elementId).toggleVisibility(fadeInfo.options); } }); })(elementId, fadeInfo); } } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.moveWidget = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.objectsToMoves.length; i++) { var moveInfo = action.objectsToMoves[i].moveInfo; var elementIds = $ax.getElementIdsFromPath(action.objectsToMoves[i].objectPath, eventInfo); for(var j = 0; j < elementIds.length; j++) { var elementId = elementIds[j]; // Need new scope for elementId and info (function(elementId, moveInfo) { var oldTarget = eventInfo.targetElement; eventInfo.targetElement = elementId; var xValue = $ax.expr.evaluateExpr(moveInfo.xValue, eventInfo); var yValue = $ax.expr.evaluateExpr(moveInfo.yValue, eventInfo); eventInfo.targetElement = oldTarget; var widgetDragInfo = eventInfo.dragInfo; _addAnimation(elementId, function() { if(moveInfo.moveType == "location") { $ax('#' + elementId).moveTo(xValue, yValue, moveInfo.options); } else if(moveInfo.moveType == "delta") { $ax('#' + elementId).moveBy(xValue, yValue, moveInfo.options); } else if(moveInfo.moveType == "drag") { $ax('#' + elementId).moveBy(widgetDragInfo.xDelta, widgetDragInfo.yDelta, moveInfo.options); } else if(moveInfo.moveType == "dragX") { $ax('#' + elementId).moveBy(widgetDragInfo.xDelta, 0, moveInfo.options); } else if(moveInfo.moveType == "dragY") { $ax('#' + elementId).moveBy(0, widgetDragInfo.yDelta, moveInfo.options); } else if(moveInfo.moveType == "locationBeforeDrag") { var loc = widgetDragInfo.movedWidgets[elementId]; if(loc) $ax('#' + elementId).moveTo(loc.x, loc.y, moveInfo.options); else _fireAnimationFromQueue(elementId); } else if(moveInfo.moveType == "withThis") { var widgetMoveInfo = $ax.move.GetWidgetMoveInfo(); var srcElementId = $ax.getElementIdsFromEventAndScriptId(eventInfo, eventInfo.srcElement)[0]; var delta = widgetMoveInfo[srcElementId]; $ax('#' + elementId).moveBy(delta.x, delta.y, delta.options); } }); })(elementId, moveInfo); } } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.setWidgetSize = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.objectsToResize.length; i++) { var resizeInfo = action.objectsToResize[i].sizeInfo; var elementIds = $ax.getElementIdsFromPath(action.objectsToResize[i].objectPath, eventInfo); for(var j = 0; j < elementIds.length; j++) { var elementId = elementIds[j]; // Need new scope for elementId and info (function(elementId, resizeInfo) { var oldTarget = eventInfo.targetElement; eventInfo.targetElement = elementId; var width = $ax.expr.evaluateExpr(resizeInfo.width, eventInfo); var height = $ax.expr.evaluateExpr(resizeInfo.height, eventInfo); eventInfo.targetElement = oldTarget; // TODO:[bf] Does this merit it's own file? Is there another file it should be refactored out to? Just refactored out to another function? _addAnimation(elementId, function() { var query = $jobj(elementId); // Get the current width and height var oldWidth = query.css('width'); oldWidth = Number(oldWidth && oldWidth.substring(0, oldWidth.length - 2)); var oldHeight = query.css('height'); oldHeight = Number(oldHeight && oldHeight.substring(0, oldHeight.length - 2)); // If either one is not a number, use the old value width = width != "" ? Number(width) : oldWidth; height = height != "" ? Number(height) : oldHeight; width = isNaN(width) ? oldWidth : width; height = isNaN(height) ? oldHeight : height; // can't be negative width = Math.max(width, 0); height = Math.max(height, 0); if(height == oldHeight && width == oldWidth) { _fireAnimationFromQueue(elementId); return; } var css = { width: width, height: height }; var obj = $obj(elementId); if(obj.percentWidth) css = { height: height }; // No longer fitToContent, calculate additional styling that needs to be done. $ax.dynamicPanelManager.setFitToContentCss(elementId, false, oldWidth, oldHeight); var easing = resizeInfo.easing || 'none'; var duration = resizeInfo.duration || 0; var stateCss = $ax.deepCopy(css); // This will move panel if fixed. The callback will make sure resizing ends there. if((obj.fixedHorizontal && obj.fixedHorizontal == 'center') || (obj.fixedVertical && obj.fixedVertical == 'middle')) { var loc = $ax.dynamicPanelManager.getFixedPosition(elementId, oldWidth, oldHeight, width, height); if(loc) { if(loc[0] != 0 && !$ax.dynamicPanelManager.isPercentWidthPanel(obj)) css['margin-left'] = '+=' + loc[0]; if(loc[1] != 0) css['margin-top'] = '+=' + loc[1]; } } var onComplete = function() { $ax.flyoutManager.updateFlyout(elementId); $ax.dynamicPanelManager.fitParentPanel(elementId); $ax.dynamicPanelManager.updatePanelPercentWidth(elementId); $ax.dynamicPanelManager.updatePanelContentPercentWidth(elementId); $ax.event.raiseSyntheticEvent(elementId, 'onResize'); _fireAnimationFromQueue(elementId); }; // This does the resize animation. Moving is handled elsewhere. if(easing == 'none') { query.animate(css, 0); query.children().animate(stateCss, 0); onComplete(); } else { query.children().animate(stateCss, duration, easing); query.animate(css, duration, easing, onComplete); } }); })(elementId, resizeInfo); } } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.setPanelOrder = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.panelPaths.length; i++) { var func = action.panelPaths[i].setOrderInfo.bringToFront ? 'bringToFront' : 'sendToBack'; var elementIds = $ax.getElementIdsFromPath(action.panelPaths[i].panelPath, eventInfo); for(var j = 0; j < elementIds.length; j++) $ax('#' + elementIds[j])[func](); } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.modifyDataSetEditItems = function(eventInfo, actions, index) { var action = actions[index]; var add = action.repeatersToAddTo; var repeaters = add || action.repeatersToRemoveFrom; var itemId; for(var i = 0; i < repeaters.length; i++) { var data = repeaters[i]; // Grab the first one because repeaters must have only element id, as they cannot be inside repeaters var id = $ax.getElementIdsFromPath(data.path, eventInfo)[0]; if(data.addType == 'this') { var scriptId = $ax.repeater.getScriptIdFromElementId(eventInfo.srcElement); itemId = $ax.repeater.getItemIdFromElementId(eventInfo.srcElement); var repeaterId = $ax.getParentRepeaterFromScriptId(scriptId); if(add) $ax.repeater.addEditItems(repeaterId, [itemId]); else $ax.repeater.removeEditItems(repeaterId, [itemId]); } else if(data.addType == 'all') { var allItems = $ax.repeater.getAllItemIds(id); if(add) $ax.repeater.addEditItems(id, allItems); else $ax.repeater.removeEditItems(id, allItems); } else { var oldTarget = eventInfo.targetElement; var itemIds = $ax.repeater.getAllItemIds(id); var itemIdsToAdd = []; for(var j = 0; j < itemIds.length; j++) { itemId = itemIds[j]; eventInfo.targetElement = $ax.repeater.createElementId(id, itemId); if($ax.expr.evaluateExpr(data.query, eventInfo) == "true") { itemIdsToAdd[itemIdsToAdd.length] = String(itemId); } eventInfo.targetElement = oldTarget; } if(add) $ax.repeater.addEditItems(id, itemIdsToAdd); else $ax.repeater.removeEditItems(id, itemIdsToAdd); } } _dispatchAction(eventInfo, actions, index + 1); }; _action.repeaterInfoNames = { addItemsToDataSet: 'dataSetsToAddTo', deleteItemsFromDataSet: 'dataSetItemsToRemove', updateItemsInDataSet: 'dataSetsToUpdate', addFilterToRepeater: 'repeatersToAddFilter', removeFilterFromRepeater: 'repeatersToRemoveFilter', addSortToRepeater: 'repeaterToAddSort', removeSortFromRepeater: 'repeaterToRemoveSort', setRepeaterToPage: 'repeatersToSetPage', setItemsPerRepeaterPage: 'repeatersToSetItemCount' }; _actionHandlers.addItemsToDataSet = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.dataSetsToAddTo.length; i++) { var datasetInfo = action.dataSetsToAddTo[i]; // Grab the first one because repeaters must have only element id, as they cannot be inside repeaters var id = $ax.getElementIdsFromPath(datasetInfo.path, eventInfo)[0]; if(_ignoreAction(id)) continue; var dataset = datasetInfo.data; for(var j = 0; j < dataset.length; j++) $ax.repeater.addItem(id, $ax.deepCopy(dataset[j]), eventInfo); if(dataset.length) _addRefresh(id); } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.deleteItemsFromDataSet = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.dataSetItemsToRemove.length; i++) { // Grab the first one because repeaters must have only element id, as they cannot be inside repeaters var deleteInfo = action.dataSetItemsToRemove[i]; var id = $ax.getElementIdsFromPath(deleteInfo.path, eventInfo)[0]; if(_ignoreAction(id)) continue; $ax.repeater.deleteItems(id, eventInfo, deleteInfo.type, deleteInfo.rule); _addRefresh(id); } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.updateItemsInDataSet = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.dataSetsToUpdate.length; i++) { var dataSet = action.dataSetsToUpdate[i]; // Grab the first one because repeaters must have only element id, as they cannot be inside repeaters var id = $ax.getElementIdsFromPath(dataSet.path, eventInfo)[0]; if(_ignoreAction(id)) continue; $ax.repeater.updateEditItems(id, dataSet.props, eventInfo, dataSet.type, dataSet.rule); _addRefresh(id); } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.setRepeaterToDataSet = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.repeatersToSet.length; i++) { var setRepeaterInfo = action.repeatersToSet[i]; // Grab the first one because repeaters must have only element id, as they cannot be inside repeaters var id = $ax.getElementIdsFromPath(setRepeaterInfo.path, eventInfo)[0]; $ax.repeater.setDataSet(id, setRepeaterInfo.localDataSetId); } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.addFilterToRepeater = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.repeatersToAddFilter.length; i++) { var addFilterInfo = action.repeatersToAddFilter[i]; // Grab the first one because repeaters must have only element id, as they cannot be inside repeaters var id = $ax.getElementIdsFromPath(addFilterInfo.path, eventInfo)[0]; if(_ignoreAction(id)) continue; $ax.repeater.addFilter(id, addFilterInfo.label, addFilterInfo.filter, eventInfo.srcElement); _addRefresh(id); } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.removeFilterFromRepeater = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.repeatersToRemoveFilter.length; i++) { var removeFilterInfo = action.repeatersToRemoveFilter[i]; // Grab the first one because repeaters must have only element id, as they cannot be inside repeaters var id = $ax.getElementIdsFromPath(removeFilterInfo.path, eventInfo)[0]; if(_ignoreAction(id)) continue; if(removeFilterInfo.removeAll) $ax.repeater.removeFilter(id); else if(removeFilterInfo.filterName != '') { $ax.repeater.removeFilter(id, removeFilterInfo.filterName); } _addRefresh(id); } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.addSortToRepeater = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.repeatersToAddSort.length; i++) { var addSortInfo = action.repeatersToAddSort[i]; // Grab the first one because repeaters must have only element id, as they cannot be inside repeaters var id = $ax.getElementIdsFromPath(addSortInfo.path, eventInfo)[0]; if(_ignoreAction(id)) continue; $ax.repeater.addSort(id, addSortInfo.label, addSortInfo.columnName, addSortInfo.ascending, addSortInfo.toggle, addSortInfo.sortType); _addRefresh(id); } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.removeSortFromRepeater = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.repeatersToRemoveSort.length; i++) { var removeSortInfo = action.repeatersToRemoveSort[i]; // Grab the first one because repeaters must have only element id, as they cannot be inside repeaters var id = $ax.getElementIdsFromPath(removeSortInfo.path, eventInfo)[0]; if(_ignoreAction(id)) continue; if(removeSortInfo.removeAll) $ax.repeater.removeSort(id); else if(removeSortInfo.sortName != '') $ax.repeater.removeSort(id, removeSortInfo.sortName); _addRefresh(id); } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.setRepeaterToPage = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.repeatersToSetPage.length; i++) { var setPageInfo = action.repeatersToSetPage[i]; // Grab the first one because repeaters must have only element id, as they cannot be inside repeaters var id = $ax.getElementIdsFromPath(setPageInfo.path, eventInfo)[0]; if(_ignoreAction(id)) continue; var oldTarget = eventInfo.targetElement; eventInfo.targetElement = id; $ax.repeater.setRepeaterToPage(id, setPageInfo.pageType, setPageInfo.pageValue, eventInfo); eventInfo.targetElement = oldTarget; _addRefresh(id); } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.setItemsPerRepeaterPage = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.repeatersToSetItemCount.length; i++) { var setItemCountInfo = action.repeatersToSetItemCount[i]; // Grab the first one because repeaters must have only element id, as they cannot be inside repeaters var id = $ax.getElementIdsFromPath(setItemCountInfo.path, eventInfo)[0]; if(_ignoreAction(id)) continue; if(setItemCountInfo.noLimit) $ax.repeater.setNoItemLimit(id); else $ax.repeater.setItemLimit(id, setItemCountInfo.itemCountValue, eventInfo); _addRefresh(id); } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.refreshRepeater = function(eventInfo, actions, index) { // We use this as a psudo action now. var action = actions[index]; for(var i = 0; i < action.repeatersToRefresh.length; i++) { _tryRefreshRepeater($ax.getElementIdsFromPath(action.repeatersToRefresh[i], eventInfo)[i], eventInfo); } _dispatchAction(eventInfo, actions, index + 1); }; var _tryRefreshRepeater = function(id, eventInfo) { var idIndex = _repeatersToRefresh.indexOf(id); if(idIndex == -1) return; $ax.splice(_repeatersToRefresh, idIndex, 1); $ax.repeater.refreshRepeater(id, eventInfo); }; _action.tryRefreshRepeaters = function(ids, eventInfo) { for(var i = 0; i < ids.length; i++) _tryRefreshRepeater(ids[i], eventInfo); }; _actionHandlers.scrollToWidget = function(eventInfo, actions, index) { var action = actions[index]; var elementIds = $ax.getElementIdsFromPath(action.objectPath, eventInfo); if(elementIds.length > 0) $ax('#' + elementIds[0]).scroll(action.options); _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.enableDisableWidgets = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.pathToInfo.length; i++) { var elementIds = $ax.getElementIdsFromPath(action.pathToInfo[i].objectPath, eventInfo); var enable = action.pathToInfo[i].enableDisableInfo.enable; for(var j = 0; j < elementIds.length; j++) $ax('#' + elementIds[j]).enabled(enable); } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.setImage = function(eventInfo, actions, index) { var oldTarget = eventInfo.targetElement; var action = actions[index]; var view = $ax.adaptive.currentViewId; eventInfo.image = true; for(var i = 0; i < action.imagesToSet.length; i++) { var imgInfo = action.imagesToSet[i]; imgInfo = view ? imgInfo.adaptive[view] : imgInfo.base; var elementIds = $ax.getElementIdsFromPath(action.imagesToSet[i].objectPath, eventInfo); for(var j = 0; j < elementIds.length; j++) { var elementId = elementIds[j]; eventInfo.targetElement = elementId; var evaluatedImgs = _evaluateImages(imgInfo, eventInfo); var img = evaluatedImgs.normal; if($ax.style.IsWidgetDisabled(elementId)) { if(imgInfo.disabled) img = evaluatedImgs.disabled; } else if($ax.style.IsWidgetSelected(elementId)) { if(imgInfo.selected) img = evaluatedImgs.selected; } else if($ax.event.mouseDownObjectId == elementId && imgInfo.mouseDown) img = evaluatedImgs.mouseDown; else if($ax.event.mouseOverIds.indexOf(elementId) != -1 && imgInfo.mouseOver) { img = evaluatedImgs.mouseOver; //Update mouseOverObjectId var currIndex = $ax.event.mouseOverIds.indexOf($ax.event.mouseOverObjectId); var imgIndex = $ax.event.mouseOverIds.indexOf(elementId); if(currIndex < imgIndex) $ax.event.mouseOverObjectId = elementId; } // $('#' + $ax.repeater.applySuffixToElementId(elementId, '_img')).attr('src', img); $jobj($ax.style.GetImageIdFromShape(elementId)).attr('src', img); //Set up overrides $ax.style.mapElementIdToImageOverrides(elementId, evaluatedImgs); $ax.style.updateElementIdImageStyle(elementId); } } eventInfo.targetElement = oldTarget; eventInfo.image = false; _dispatchAction(eventInfo, actions, index + 1); }; var _evaluateImages = function(imgInfo, eventInfo) { var retVal = {}; for(var state in imgInfo) { if(!imgInfo.hasOwnProperty(state)) continue; var img = imgInfo[state].path || $ax.expr.evaluateExpr(imgInfo[state].literal, eventInfo); if(!img) img = $axure.utils.getTransparentGifPath(); retVal[state] = img; } return retVal; }; $ax.clearRepeaterImageOverrides = function(repeaterId) { var childIds = $ax.getChildElementIdsForRepeater(repeaterId); for(var i = childIds; i < childIds.length; i++) $ax.style.deleteElementIdToImageOverride(childIds[i]); }; _actionHandlers.setFocusOnWidget = function(eventInfo, actions, index) { var action = actions[index]; if(action.objectPaths.length > 0) { var elementIds = $ax.getElementIdsFromPath(action.objectPaths[0], eventInfo); if(elementIds.length > 0) { $ax('#' + elementIds[0]).focus(); } } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.expandCollapseTree = function(eventInfo, actions, index) { var action = actions[index]; for(var i = 0; i < action.pathToInfo.length; i++) { var pair = action.pathToInfo[i]; var elementIds = $ax.getElementIdsFromPath(pair.treeNodePath, eventInfo); for(var j = 0; j < elementIds.length; j++) $ax('#' + elementIds[j]).expanded(pair.expandCollapseInfo.expand); } _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.other = function(eventInfo, actions, index) { var action = actions[index]; $ax.navigate({ url: $axure.utils.getOtherPath() + "#other=" + encodeURI(action.otherDescription), target: "popup", includeVariables: false, popupOptions: action.popup }); _dispatchAction(eventInfo, actions, index + 1); }; _actionHandlers.raiseEvent = function(eventInfo, actions, index) { var action = actions[index]; //look for the nearest element id if(eventInfo.srcElement) { var objId = eventInfo.srcElement; var obj = $ax.getObjectFromElementId(objId); var rdoId = $ax.getRdoParentFromElementId(objId); var rdo = $ax.getObjectFromElementId(rdoId); // Check if rdo should be this var oldIsMasterEvent = eventInfo.isMasterEvent; if(obj.type == 'referenceDiagramObject' && eventInfo.isMasterEvent) { rdoId = objId; rdo = obj; // It is now an rdo event eventInfo.isMasterEvent = false; } for(var i = 0; i < action.raisedEvents.length; i++) { var raisedEvent = action.raisedEvents[i]; var oldRaisedId = eventInfo.raisedId; var event = rdo.interactionMap && rdo.interactionMap && rdo.interactionMap.raised[raisedEvent]; // raised event will optimize away if it doesn't do anything. Whole interaction map may be optimized away as well. if(event) { var oldSrc = eventInfo.srcElement; eventInfo.srcElement = rdoId; eventInfo.raisedId = rdoId; $ax.event.handleEvent(rdoId, eventInfo, event, false, true); eventInfo.raisedId = oldRaisedId; eventInfo.srcElement = oldSrc; } } eventInfo.isMasterEvent = oldIsMasterEvent; } _dispatchAction(eventInfo, actions, index + 1); }; });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Fmessagecenter%2F</url>
    <content type="text"><![CDATA[if (typeof console == 'undefined') console = { log: function () { } }; // sniff chrome var CHROME_5_LOCAL = false; var CHROME = false; var SAFARI = false; var WEBKIT = false; var OS_MAC = false; var IOS = false; var IE = false; var BROWSER_VERSION = 5000; (function () { var chromeRegex = /Chrome\/([0-9]+).([0-9]+)/g ; var chromeMatch = chromeRegex.exec(window.navigator.userAgent); CHROME = Boolean(chromeMatch); CHROME_5_LOCAL = chromeMatch && Number(chromeMatch[1]) >= 5 && location.href.indexOf('file://') >= 0; var safariRegex = /Safari\/([0-9]+)/g; var safariMatch = safariRegex.exec(window.navigator.userAgent); SAFARI = Boolean(safariMatch) && !CHROME; //because chrome also inserts safari string into user agent var webkitRegex = /WebKit\//g ; WEBKIT = Boolean(webkitRegex.exec(window.navigator.userAgent)); var macRegex = /Mac/g ; OS_MAC = Boolean(macRegex.exec(window.navigator.platform)); IOS = navigator.userAgent.match( /iPhone/i ) || navigator.userAgent.match( /iPad/i ) || navigator.userAgent.match( /iPod/i ); if($.browser) { IE = $.browser.msie; BROWSER_VERSION = $.browser.version; } if (!window.$axure) window.$axure = function() {}; //Used by sitemap and variables.js getLinkUrl functions so that they know //whether to embed global variables in URL as query string or hash string //_shouldSendVars persists the value for sitemap instead of re-checking every time var _shouldSendVars; var _shouldSendVarsToServer = function(url) { if(typeof _shouldSendVars != 'undefined') { return _shouldSendVars; } if(SAFARI || (IE && BROWSER_VERSION < 10)) { var urlToCheck = typeof url != 'undefined' ? url : window.location.href; var serverRegex = /http:\/\/127\.0\.0\.1:[0-9]{5}/g; var serverMatch = serverRegex.exec(urlToCheck); var previewRegex = /[0-9]{2}\.[0-9]{2}\.[0-9]{2}/g; var previewMatch = previewRegex.exec(urlToCheck); if(Boolean(serverMatch) && Boolean(previewMatch)) { _shouldSendVars = true; return _shouldSendVars; } } _shouldSendVars = false; return _shouldSendVars; }; $axure.shouldSendVarsToServer = _shouldSendVarsToServer; })(); (function() { var _topMessageCenter; var _messageCenter = {}; var _listeners = []; var _stateListeners = []; var _state = {}; var _eventObject = null; var _queuedMessages = []; var _initialized = false; // this is for the non Chrome 5 local scenarios. The "top" message center will dispatch to all the bottom ones var _childrenMessageCenters = []; // create $axure if it hasn't been created if (!window.$axure) window.$axure = function() {}; $axure.messageCenter = _messageCenter; // isolate scope, and initialize _topMessageCenter. (function() { if (!CHROME_5_LOCAL) { var topAxureWindow = window; try { while(topAxureWindow.parent && topAxureWindow.parent !== topAxureWindow && topAxureWindow.parent.$axure) topAxureWindow = topAxureWindow.parent; } catch(e) {} _topMessageCenter = topAxureWindow.$axure.messageCenter; } })(); $(window.document).ready(function() { if (CHROME_5_LOCAL) { $('body').append("" + ""); _eventObject = window.document.createEvent('Event'); _eventObject.initEvent('axureMessageSenderEvent', true, true); $('#axureEventReceiverDiv').bind('axureMessageReceiverEvent', function () { var request = JSON.parse($(this).text()); _handleRequest(request); }); } else { if (_topMessageCenter != _messageCenter) { _topMessageCenter.addChildMessageCenter(_messageCenter); console.log('adding from ' + window.location.toString()); } } }); var _handleRequest = function (request) { // route the request to all the listeners for(var i = 0; i < _listeners.length; i++) _listeners[i](request.message, request.data); // now handle the queued messages if we're initializing if (request.message == 'initialize') { _initialized = true; // send all the queued messages and return for (var i = 0; i < _queuedMessages.length; i++) { var qRequest = _queuedMessages[i]; _messageCenter.postMessage(qRequest.message, qRequest.data); } _queuedMessages = []; } // and then handle the set state messages, if necessary if (request.message == 'setState') { _state[request.data.key] = request.data.value; for (var i = 0; i < _stateListeners.length; i++) { var keyListener = _stateListeners[i]; // if thep passed a null or empty value, always post the message if (!keyListener.key || keyListener.key == request.data.key) { keyListener.listener(request.data.key, request.data.value); } } } }; // ----------------------------------------------------------------------------------------- // This method allows for dispatching messages in the non-chromelocal scenario. // Each child calls this on _topMessageCenter // ----------------------------------------------------------------------------------------- _messageCenter.addChildMessageCenter = function(messageCenter) { _childrenMessageCenters[_childrenMessageCenters.length] = messageCenter; }; // ----------------------------------------------------------------------------------------- // This method allows for dispatching messages in the non-chromelocal scenario. // Each child calls this on _topMessageCenter // ----------------------------------------------------------------------------------------- _messageCenter.dispatchMessage = function(message, data) { _handleRequest({ message: message, data: data }); }; // ----------------------------------------------------------------------------------------- // ----------------------------------------------------------------------------------------- _messageCenter.dispatchMessageRecursively = function(message, data) { console.log("dispatched to " + window.location.toString()); // dispatch to the top center first _messageCenter.dispatchMessage(message, data); $('iframe').each(function(index, frame) { //try,catch to handle permissions error in FF when loading pages from another domain try { if (frame.contentWindow.$axure && frame.contentWindow.$axure.messageCenter) { frame.contentWindow.$axure.messageCenter.dispatchMessageRecursively(message, data); } }catch(e) {} }); }; _messageCenter.postMessage = function(message, data) { if(!CHROME_5_LOCAL) { _topMessageCenter.dispatchMessageRecursively(message, data); } else { var request = { message: message, data: data }; if(_initialized) { var senderDiv = window.document.getElementById('axureEventSenderDiv'); var messageText = JSON.stringify(request); // console.log('sending event: ' + messageText); senderDiv.innerText = messageText; senderDiv.dispatchEvent(_eventObject); // console.log('event sent'); } else { _queuedMessages[_queuedMessages.length] = request; } } }; _messageCenter.setState = function(key, value) { var data = { key: key, value: value }; _messageCenter.postMessage('setState', data); }; _messageCenter.getState = function(key) { return _state[key]; }; _messageCenter.addMessageListener = function(listener) { _listeners[_listeners.length] = listener; }; _messageCenter.addStateListener = function(key, listener) { _stateListeners[_stateListeners.length] = { key: key, listener: listener }; }; })();]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Fjquery-ui-1.8.10.custom.min%2F</url>
    <content type="text"><![CDATA[/*! * jQuery UI 1.8.10 * * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about) * Dual licensed under the MIT or GPL Version 2 licenses. * http://jquery.org/license * * http://docs.jquery.com/UI */ (function(c,j){function k(a){return!c(a).parents().andSelf().filter(function(){return c.curCSS(this,"visibility")==="hidden"||c.expr.filters.hidden(this)}).length}c.ui=c.ui||{};if(!c.ui.version){c.extend(c.ui,{version:"1.8.10",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106, NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});c.fn.extend({_focus:c.fn.focus,focus:function(a,b){return typeof a==="number"?this.each(function(){var d=this;setTimeout(function(){c(d).focus();b&&b.call(d)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;a=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this, "position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?c(document):a},zIndex:function(a){if(a!==j)return this.css("zIndex",a);if(this.length){a=c(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position"); if(b==="absolute"||b==="relative"||b==="fixed"){b=parseInt(a.css("zIndex"),10);if(!isNaN(b)&&b!==0)return b}a=a.parent()}}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.each(["Width","Height"],function(a,b){function d(f,g,l,m){c.each(e,function(){g-=parseFloat(c.curCSS(f,"padding"+this,true))||0;if(l)g-=parseFloat(c.curCSS(f, "border"+this+"Width",true))||0;if(m)g-=parseFloat(c.curCSS(f,"margin"+this,true))||0});return g}var e=b==="Width"?["Left","Right"]:["Top","Bottom"],h=b.toLowerCase(),i={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+b]=function(f){if(f===j)return i["inner"+b].call(this);return this.each(function(){c(this).css(h,d(this,f)+"px")})};c.fn["outer"+b]=function(f,g){if(typeof f!=="number")return i["outer"+b].call(this,f);return this.each(function(){c(this).css(h, d(this,f,true,g)+"px")})}});c.extend(c.expr[":"],{data:function(a,b,d){return!!c.data(a,d[3])},focusable:function(a){var b=a.nodeName.toLowerCase(),d=c.attr(a,"tabindex");if("area"===b){b=a.parentNode;d=b.name;if(!a.href||!d||b.nodeName.toLowerCase()!=="map")return false;a=c("img[usemap=#"+d+"]")[0];return!!a&&k(a)}return(/input|select|textarea|button|object/.test(b)?!a.disabled:"a"==b?a.href||!isNaN(d):!isNaN(d))&&k(a)},tabbable:function(a){var b=c.attr(a,"tabindex");return(isNaN(b)||b>=0)&&c(a).is(":focusable")}}); c(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));c.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=b.offsetHeight===100;c.support.selectstart="onselectstart"in b;a.removeChild(b).style.display="none"});c.extend(c.ui,{plugin:{add:function(a,b,d){a=c.ui[a].prototype;for(var e in d){a.plugins[e]=a.plugins[e]||[];a.plugins[e].push([b,d[e]])}},call:function(a,b,d){if((b=a.plugins[b])&&a.element[0].parentNode)for(var e=0;e0)return true;a[b]=1;d=a[b]>0;a[b]=0;return d},isOverAxis:function(a,b,d){return a>b&&a=9)&&!a.button)return this._mouseUp(a);if(this._mouseStarted){this._mouseDrag(a); return a.preventDefault()}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==false)?this._mouseDrag(a):this._mouseUp(a);return!this._mouseStarted},_mouseUp:function(a){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;a.target==this._mouseDownEvent.target&&c.data(a.target,this.widgetName+".preventClickEvent", true);this._mouseStop(a)}return false},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery); ;/* * jQuery UI Position 1.8.10 * * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about) * Dual licensed under the MIT or GPL Version 2 licenses. * http://jquery.org/license * * http://docs.jquery.com/UI/Position */ (function(c){c.ui=c.ui||{};var n=/left|center|right/,o=/top|center|bottom/,t=c.fn.position,u=c.fn.offset;c.fn.position=function(b){if(!b||!b.of)return t.apply(this,arguments);b=c.extend({},b);var a=c(b.of),d=a[0],g=(b.collision||"flip").split(" "),e=b.offset?b.offset.split(" "):[0,0],h,k,j;if(d.nodeType===9){h=a.width();k=a.height();j={top:0,left:0}}else if(d.setTimeout){h=a.width();k=a.height();j={top:a.scrollTop(),left:a.scrollLeft()}}else if(d.preventDefault){b.at="left top";h=k=0;j={top:b.of.pageY, left:b.of.pageX}}else{h=a.outerWidth();k=a.outerHeight();j=a.offset()}c.each(["my","at"],function(){var f=(b[this]||"").split(" ");if(f.length===1)f=n.test(f[0])?f.concat(["center"]):o.test(f[0])?["center"].concat(f):["center","center"];f[0]=n.test(f[0])?f[0]:"center";f[1]=o.test(f[1])?f[1]:"center";b[this]=f});if(g.length===1)g[1]=g[0];e[0]=parseInt(e[0],10)||0;if(e.length===1)e[1]=e[0];e[1]=parseInt(e[1],10)||0;if(b.at[0]==="right")j.left+=h;else if(b.at[0]==="center")j.left+=h/2;if(b.at[1]==="bottom")j.top+= k;else if(b.at[1]==="center")j.top+=k/2;j.left+=e[0];j.top+=e[1];return this.each(function(){var f=c(this),l=f.outerWidth(),m=f.outerHeight(),p=parseInt(c.curCSS(this,"marginLeft",true))||0,q=parseInt(c.curCSS(this,"marginTop",true))||0,v=l+p+(parseInt(c.curCSS(this,"marginRight",true))||0),w=m+q+(parseInt(c.curCSS(this,"marginBottom",true))||0),i=c.extend({},j),r;if(b.my[0]==="right")i.left-=l;else if(b.my[0]==="center")i.left-=l/2;if(b.my[1]==="bottom")i.top-=m;else if(b.my[1]==="center")i.top-= m/2;i.left=Math.round(i.left);i.top=Math.round(i.top);r={left:i.left-p,top:i.top-q};c.each(["left","top"],function(s,x){c.ui.position[g[s]]&&c.ui.position[g[s]][x](i,{targetWidth:h,targetHeight:k,elemWidth:l,elemHeight:m,collisionPosition:r,collisionWidth:v,collisionHeight:w,offset:e,my:b.my,at:b.at})});c.fn.bgiframe&&f.bgiframe();f.offset(c.extend(i,{using:b.using}))})};c.ui.position={fit:{left:function(b,a){var d=c(window);d=a.collisionPosition.left+a.collisionWidth-d.width()-d.scrollLeft();b.left= d>0?b.left-d:Math.max(b.left-a.collisionPosition.left,b.left)},top:function(b,a){var d=c(window);d=a.collisionPosition.top+a.collisionHeight-d.height()-d.scrollTop();b.top=d>0?b.top-d:Math.max(b.top-a.collisionPosition.top,b.top)}},flip:{left:function(b,a){if(a.at[0]!=="center"){var d=c(window);d=a.collisionPosition.left+a.collisionWidth-d.width()-d.scrollLeft();var g=a.my[0]==="left"?-a.elemWidth:a.my[0]==="right"?a.elemWidth:0,e=a.at[0]==="left"?a.targetWidth:-a.targetWidth,h=-2*a.offset[0];b.left+= a.collisionPosition.left0?g+e+h:0}},top:function(b,a){if(a.at[1]!=="center"){var d=c(window);d=a.collisionPosition.top+a.collisionHeight-d.height()-d.scrollTop();var g=a.my[1]==="top"?-a.elemHeight:a.my[1]==="bottom"?a.elemHeight:0,e=a.at[1]==="top"?a.targetHeight:-a.targetHeight,h=-2*a.offset[1];b.top+=a.collisionPosition.top0?g+e+h:0}}}};if(!c.offset.setOffset){c.offset.setOffset=function(b,a){if(/static/.test(c.curCSS(b,"position")))b.style.position="relative";var d=c(b), g=d.offset(),e=parseInt(c.curCSS(b,"top",true),10)||0,h=parseInt(c.curCSS(b,"left",true),10)||0;g={top:a.top-g.top+e,left:a.left-g.left+h};"using"in a?a.using.call(b,g):d.css(g)};c.fn.offset=function(b){var a=this[0];if(!a||!a.ownerDocument)return null;if(b)return this.each(function(){c.offset.setOffset(this,b)});return u.call(this)}}})(jQuery); ;/* * jQuery UI Draggable 1.8.10 * * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about) * Dual licensed under the MIT or GPL Version 2 licenses. * http://jquery.org/license * * http://docs.jquery.com/UI/Draggables * * Depends: * jquery.ui.core.js * jquery.ui.mouse.js * jquery.ui.widget.js */ (function(d){d.widget("ui.draggable",d.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper== "original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(a){var b= this.options;if(this.helper||b.disabled||d(a.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(a);if(!this.handle)return false;return true},_mouseStart:function(a){var b=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();if(d.ui.ddmanager)d.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top- this.margins.top,left:this.offset.left-this.margins.left};d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);b.containment&&this._setContainment();if(this._trigger("start",a)===false){this._clear();return false}this._cacheHelperProportions(); d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(a,true);return true},_mouseDrag:function(a,b){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!b){b=this._uiHash();if(this._trigger("drag",a,b)===false){this._mouseUp({});return false}this.position=b.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis|| this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);return false},_mouseStop:function(a){var b=false;if(d.ui.ddmanager&&!this.options.dropBehaviour)b=d.ui.ddmanager.drop(this,a);if(this.dropped){b=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return false;if(this.options.revert=="invalid"&&!b||this.options.revert=="valid"&&b||this.options.revert===true||d.isFunction(this.options.revert)&& this.options.revert.call(this.element,b)){var c=this;d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",a)!==false&&c._clear()})}else this._trigger("stop",a)!==false&&this._clear();return false},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var b=!this.options.handle||!d(this.options.handle,this.element).length?true:false;d(this.options.handle,this.element).find("*").andSelf().each(function(){if(this== a.target)b=true});return b},_createHelper:function(a){var b=this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a])):b.helper=="clone"?this.element.clone():this.element;a.parents("body").length||a.appendTo(b.appendTo=="parent"?this.element[0].parentNode:b.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(d.isArray(a))a={left:+a[0],top:+a[1]|| 0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0], this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top- (parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment== "parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[(a.containment=="document"?0:d(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(a.containment=="document"?0:d(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(a.containment=="document"?0:d(window).scrollLeft())+d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a.containment=="document"? 0:d(window).scrollTop())+(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var b=d(a.containment)[0];if(b){a=d(a.containment).offset();var c=d(b).css("overflow")!="hidden";this.containment=[a.left+(parseInt(d(b).css("borderLeftWidth"),10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(d(b).css("borderTopWidth"), 10)||0)+(parseInt(d(b).css("paddingTop"),10)||0)-this.margins.top,a.left+(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),10)||0)-(parseInt(d(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(a.containment.constructor== Array)this.containment=a.containment},_convertPositionTo:function(a,b){if(!b)b=this.position;a=a=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName);return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-(d.browser.safari&&d.browser.version]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Fjquery-1.7.1.min%2F</url>
    <content type="text"><![CDATA[/*! jQuery v1.7.1 jquery.com | jquery.org/license */ (function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cv(a){if(!ck[a]){var b=c.body,d=f("").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){cl||(cl=c.createElement("iframe"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement)cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode==="CSS1Compat"?"":"")+""),cm.close();d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,"display"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cu(a,b){var c={};f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a});return c}function ct(){cr=b}function cs(){setTimeout(ct,0);return cr=f.now()}function cj(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g0){if(c!=="border")for(;g=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^(?:)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!==""||a.length0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fscripts%2Faxutils%2F</url>
    <content type="text"><![CDATA[/* * * * * */ (function() { // define the root namespace object if(!window.$axure) window.$axure = {}; $axure.utils = {}; // ------------------------------------------------------------------------ // Makes an object bindable // ------------------------------------------------------------------------ $axure.utils.makeBindable = function(obj, events) { if(obj.registeredBindings != null) return; // copy the events obj.bindableEvents = events.slice(); obj.registeredBindings = {}; obj.bind = function(eventName, fn) { var binding = {}; binding.eventName = eventName; binding.action = fn; var bindingList = this.registeredBindings[eventName]; if(bindingList == null) { bindingList = []; this.registeredBindings[eventName] = bindingList; } bindingList[bindingList.length] = binding; }; obj.unbind = function(eventName) { if(eventName.indexOf('.') >= 0) { this.registeredBindings[eventName] = null; } else { var event = eventName.split('.')[0]; for(var bindingKey in this.registeredBindings) { if(bindingKey.split('.')[0] == event) { this.registeredBindings[bindingKey] = null; } } } }; obj.triggerEvent = function(eventName, arg) { for(var bindingKey in this.registeredBindings) { if(bindingKey.split('.')[0] == eventName) { var bindings = this.registeredBindings[bindingKey]; for(var i = 0; i < bindings.length; i++) { if(arg == null) { bindings[i].action(); } else { bindings[i].action(arg); } } } } }; }; $axure.utils.loadCSS = function(url) { $('head').append(''); }; $axure.utils.loadJS = function(url) { $('head').append(''); }; $axure.utils.curry = function(fn) { var curriedArgs = Array.prototype.slice.call(arguments, [1]); return function() { fn.apply(this, curriedArgs.concat(Array.prototype.slice.call(arguments))); }; }; $axure.utils.succeeded = function(result) { return result && result.success; }; $axure.utils.createUniqueTag = function() { return Math.random().toString().substring(2) + Math.random().toString().substring(2) + Math.random().toString().substring(2) + Math.random().toString().substring(2); }; $axure.utils.formatDate = function(date) { var months = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]; var hours = date.getHours(); var amPm = (hours > 11 ? 'PM' : 'AM'); hours = hours % 12; if(hours == '0') hours = '12'; var minutes = date.getMinutes() + ''; if(minutes.length == 1) { minutes = '0' + minutes; } return [ months[date.getMonth()], ' ', date.getDate(), ' ', date.getFullYear(), ' ', hours, ':', minutes, ' ', amPm].join(''); }; $axure.utils.quickObject = function() { var returnVal = {}; for(var i = 0; i < arguments.length; i += 2) { returnVal[arguments[i]] = arguments[i + 1]; } return returnVal; }; var matrixBase = { mul: function(val) { if(val.x !== undefined) { return $axure.utils.Vector2D( this.m11 * val.x + this.m12 * val.y + this.tx, this.m21 * val.x + this.m22 * val.y + this.ty); } else if(val.m11) { return $axure.utils.Matrix2D( this.m11 * val.m11 + this.m12 * val.m21, this.m11 * val.m12 + this.m12 * val.m22, this.m21 * val.m11 + this.m22 * val.m21, this.m21 * val.m12 + this.m22 * val.m22, val.tx + this.tx * val.m11 + this.ty * val.m21, val.ty + this.tx * val.m12 + this.ty * val.m22 ); } else if(Number(val)) { var num = Number(val); return $axure.utils.Matrix2D(this.m11 * num, this.m12 * num, this.m21 * num, this.m22 * num, this.tx * num, this.ty * num); } else return undefined; }, rotate: function(angle) { var angleRad = angle * Math.PI / 180; var c = Math.cos(angleRad); var s = Math.sin(angleRad); return this.mul($axure.utils.Matrix2D(c, -s, s, c)); }, translate: function(tx, ty) { return this.mul($axure.utils.Matrix2D(1, 0, 0, 1, tx, ty)); } }; $axure.utils.Matrix2D = function(m11, m12, m21, m22, tx, ty) { return $.extend({ m11: m11 || 0, m12: m12 || 0, m21: m21 || 0, m22: m22 || 0, tx: tx || 0, ty: ty || 0 }, matrixBase); }; $axure.utils.Vector2D = function(x, y) { return { x: x || 0, y: y || 0 }; }; $axure.utils.Matrix2D.identity = function() { return $axure.utils.Matrix2D(1, 0, 0, 1, 0, 0); }; $axure.utils.fixPng = function(png) { if(!(/MSIE ((5\.5)|6)/.test(navigator.userAgent) && navigator.platform == "Win32")) return; var src = png.src; if(!png.style.width) { png.style.width = $(png).width(); } if(!png.style.height) { png.style.height = $(png).height(); } png.onload = function() { }; png.src = $axure.utils.getTransparentGifPath(); png.runtimeStyle.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + src + "',sizingMethod='scale')"; }; })(); // TODO: [mas] simplify this if(window.$axure && window.$axure.internal) { $axure.internal(function($ax) { $ax.utils = $axure.utils; }); } // Its too much of a pain to escape everything and use regular expresions, just replace manually (function () { var original = String.prototype.replace; // TODO: maybe use flags or object instead to pass options in String.prototype.replace = function (search, newVal, replaceFirst, ignoreCase) { // Use original is some cases if (search instanceof RegExp) return original.apply(this, arguments); search = String(search); var searchCompare = ignoreCase ? this.toLowerCase() : this; if (ignoreCase) search = search.toLowerCase(); var searchLength = search.length; var thisLength = this.length; var index = 0; var retVal = ''; while (index != -1) { var nextIndex = searchCompare.indexOf(search, index); if (nextIndex != -1) { retVal += this.substring(index, nextIndex) + newVal; index = nextIndex + searchLength; if (index >= thisLength) index = -1; } else { retVal += this.substring(index); index = -1; } if (replaceFirst) break; } return retVal; }; if (!Array.prototype.indexOf) { Array.prototype.indexOf = function (elt /*, from*/) { var len = this.length >>> 0; var from = trunc(Number(arguments[1]) || 0); if(from < 0) from += len; for(; from < len; from++) { if(from in this && this[from] === elt) return from; } return -1; }; } var trunc = function(num) { return num < 0 ? Math.ceil(num) : Math.floor(num); }; })();]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fimages%2Fimages%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fcss%2Fimages%2Fimages%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fcss%2Freset%2F</url>
    <content type="text"><![CDATA[html,body,div,span, applet,object,iframe, h1,h2,h3,h4,h5,h6,p,blockquote,pre, a,abbr,acronym,address,big,cite,code, del,dfn,em,font,img,ins,kbd,q,s,samp, small,strike,strong,sub,sup,tt,var, dd,dl,dt,li,ol,ul, fieldset,form,label,legend, table,caption,tbody,tfoot,thead,tr,th,td { margin: 0; padding: 0; border: 0; } table { border-collapse: collapse; border-spacing: 0; } ol,ul { list-style: none; } q:before,q:after, blockquote:before,blockquote:after { content: ""; }]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fcss%2Fjquery-ui-themes%2F</url>
    <content type="text"><![CDATA[/* * jQuery UI CSS Framework * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about) * Dual licensed under the MIT (MIT-LICENSE.txt) and GPL (GPL-LICENSE.txt) licenses. */ /* Layout helpers ----------------------------------*/ .ui-helper-hidden { display: none; } .ui-helper-hidden-accessible { position: absolute; left: -99999999px; } .ui-helper-reset { margin: 0; padding: 0; border: 0; outline: 0; line-height: 1.3; text-decoration: none; font-size: 100%; list-style: none; } .ui-helper-clearfix:after { content: "."; display: block; height: 0; clear: both; visibility: hidden; } .ui-helper-clearfix { display: inline-block; } /* required comment for clearfix to work in Opera \*/ * html .ui-helper-clearfix { height:1%; } .ui-helper-clearfix { display:block; } /* end clearfix */ .ui-helper-zfix { width: 100%; height: 100%; top: 0; left: 0; position: absolute; opacity: 0; filter:Alpha(Opacity=0); } /* Interaction Cues ----------------------------------*/ .ui-state-disabled { cursor: default !important; } /* Icons ----------------------------------*/ /* states and images */ .ui-icon { display: block; text-indent: -99999px; overflow: hidden; background-repeat: no-repeat; } /* Misc visuals ----------------------------------*/ /* Overlays */ .ui-widget-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }/* Accordion ----------------------------------*/ .ui-accordion .ui-accordion-header { cursor: pointer; position: relative; margin-top: 1px; zoom: 1; } .ui-accordion .ui-accordion-li-fix { display: inline; } .ui-accordion .ui-accordion-header-active { border-bottom: 0 !important; } .ui-accordion .ui-accordion-header a { display: block; font-size: 1em; padding: .5em .5em .5em 2.2em; } .ui-accordion .ui-accordion-header .ui-icon { position: absolute; left: .5em; top: 50%; margin-top: -8px; } .ui-accordion .ui-accordion-content { padding: 1em 2.2em; border-top: 0; margin-top: -2px; position: relative; top: 1px; margin-bottom: 2px; overflow: auto; display: none; } .ui-accordion .ui-accordion-content-active { display: block; } /* Datepicker ----------------------------------*/ .ui-datepicker { width: 17em; padding: .2em .2em 0; } .ui-datepicker .ui-datepicker-header { position:relative; padding:.2em 0; } .ui-datepicker .ui-datepicker-prev, .ui-datepicker .ui-datepicker-next { position:absolute; top: 2px; width: 1.8em; height: 1.8em; } .ui-datepicker .ui-datepicker-prev-hover, .ui-datepicker .ui-datepicker-next-hover { top: 1px; } .ui-datepicker .ui-datepicker-prev { left:2px; } .ui-datepicker .ui-datepicker-next { right:2px; } .ui-datepicker .ui-datepicker-prev-hover { left:1px; } .ui-datepicker .ui-datepicker-next-hover { right:1px; } .ui-datepicker .ui-datepicker-prev span, .ui-datepicker .ui-datepicker-next span { display: block; position: absolute; left: 50%; margin-left: -8px; top: 50%; margin-top: -8px; } .ui-datepicker .ui-datepicker-title { margin: 0 2.3em; line-height: 1.8em; text-align: center; } .ui-datepicker .ui-datepicker-title select { float:left; font-size:1em; margin:1px 0; } .ui-datepicker select.ui-datepicker-month-year {width: 100%;} .ui-datepicker select.ui-datepicker-month, .ui-datepicker select.ui-datepicker-year { width: 49%;} .ui-datepicker .ui-datepicker-title select.ui-datepicker-year { float: right; } .ui-datepicker table {width: 100%; font-size: .9em; border-collapse: collapse; margin:0 0 .4em; } .ui-datepicker th { padding: .7em .3em; text-align: center; font-weight: bold; border: 0; } .ui-datepicker td { border: 0; padding: 1px; } .ui-datepicker td span, .ui-datepicker td a { display: block; padding: .2em; text-align: right; text-decoration: none; } .ui-datepicker .ui-datepicker-buttonpane { background-image: none; margin: .7em 0 0 0; padding:0 .2em; border-left: 0; border-right: 0; border-bottom: 0; } .ui-datepicker .ui-datepicker-buttonpane button { float: right; margin: .5em .2em .4em; cursor: pointer; padding: .2em .6em .3em .6em; width:auto; overflow:visible; } .ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current { float:left; } /* with multiple calendars */ .ui-datepicker.ui-datepicker-multi { width:auto; } .ui-datepicker-multi .ui-datepicker-group { float:left; } .ui-datepicker-multi .ui-datepicker-group table { width:95%; margin:0 auto .4em; } .ui-datepicker-multi-2 .ui-datepicker-group { width:50%; } .ui-datepicker-multi-3 .ui-datepicker-group { width:33.3%; } .ui-datepicker-multi-4 .ui-datepicker-group { width:25%; } .ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header { border-left-width:0; } .ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header { border-left-width:0; } .ui-datepicker-multi .ui-datepicker-buttonpane { clear:left; } .ui-datepicker-row-break { clear:both; width:100%; } /* RTL support */ .ui-datepicker-rtl { direction: rtl; } .ui-datepicker-rtl .ui-datepicker-prev { right: 2px; left: auto; } .ui-datepicker-rtl .ui-datepicker-next { left: 2px; right: auto; } .ui-datepicker-rtl .ui-datepicker-prev:hover { right: 1px; left: auto; } .ui-datepicker-rtl .ui-datepicker-next:hover { left: 1px; right: auto; } .ui-datepicker-rtl .ui-datepicker-buttonpane { clear:right; } .ui-datepicker-rtl .ui-datepicker-buttonpane button { float: left; } .ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current { float:right; } .ui-datepicker-rtl .ui-datepicker-group { float:right; } .ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header { border-right-width:0; border-left-width:1px; } .ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header { border-right-width:0; border-left-width:1px; } /* IE6 IFRAME FIX (taken from datepicker 1.5.3 */ .ui-datepicker-cover { display: none; /*sorry for IE5*/ display/**/: block; /*sorry for IE5*/ position: absolute; /*must have*/ z-index: -1; /*must have*/ filter: mask(); /*must have*/ top: -4px; /*must have*/ left: -4px; /*must have*/ width: 200px; /*must have*/ height: 200px; /*must have*/ } /* Dialog ----------------------------------*/ .ui-dialog { position: relative; padding: 0px; width: 300px;} .ui-dialog .ui-dialog-titlebar { padding: .3em .3em .1em .8em; font-size:.7em; position: relative; background-image: none; } .ui-dialog .ui-dialog-title { float: left; margin: .1em 0 .2em; } .ui-dialog .ui-dialog-titlebar-close { position: absolute; right: .1em; top: 50%; width: 19px; margin: -10px 0 0 0; padding: 1px; height: 18px; } .ui-dialog .ui-dialog-titlebar-close span { display: block; margin: 1px; } .ui-dialog .ui-dialog-titlebar-close:hover, .ui-dialog .ui-dialog-titlebar-close:focus { /*padding: 0;*/ } .ui-dialog .ui-dialog-content { border: 0; padding: .5em .2em; background: none; overflow: auto; zoom: 1; } .ui-dialog .ui-dialog-buttonpane { text-align: left; border-width: 1px 0 0 0; background-image: none; margin: .5em 0 0 0; padding: .3em 1em .5em .4em; } .ui-dialog .ui-dialog-buttonpane button { float: right; margin: .5em .4em .5em 0; cursor: pointer; padding: .2em .6em .3em .6em; line-height: 1.4em; width:auto; overflow:visible; } .ui-dialog .ui-resizable-se { width: 14px; height: 14px; right: 3px; bottom: 3px; } .ui-draggable .ui-dialog-titlebar { cursor: move; } /* Progressbar ----------------------------------*/ .ui-progressbar { height:2em; text-align: left; } .ui-progressbar .ui-progressbar-value {margin: -1px; height:100%; }/* Resizable ----------------------------------*/ .ui-resizable { position: relative;} .ui-resizable-handle { position: absolute;font-size: 0.1px;z-index: 99999; display: block;} .ui-resizable-disabled .ui-resizable-handle, .ui-resizable-autohide .ui-resizable-handle { display: none; } .ui-resizable-n { cursor: n-resize; height: 7px; width: 100%; top: -5px; left: 0px; } .ui-resizable-s { cursor: s-resize; height: 7px; width: 100%; bottom: -5px; left: 0px; } .ui-resizable-e { cursor: e-resize; width: 7px; right: -5px; top: 0px; height: 100%; } .ui-resizable-w { cursor: w-resize; width: 7px; left: -5px; top: 0px; height: 100%; } .ui-resizable-se { cursor: se-resize; width: 12px; height: 12px; right: 1px; bottom: 1px; } .ui-resizable-sw { cursor: sw-resize; width: 9px; height: 9px; left: -5px; bottom: -5px; } .ui-resizable-nw { cursor: nw-resize; width: 9px; height: 9px; left: -5px; top: -5px; } .ui-resizable-ne { cursor: ne-resize; width: 9px; height: 9px; right: -5px; top: -5px;}/* Slider ----------------------------------*/ .ui-slider { position: relative; text-align: left; } .ui-slider .ui-slider-handle { position: absolute; z-index: 2; width: 1.2em; height: 1.2em; cursor: default; } .ui-slider .ui-slider-range { position: absolute; z-index: 1; font-size: .7em; display: block; border: 0; } .ui-slider-horizontal { height: .8em; } .ui-slider-horizontal .ui-slider-handle { top: -.3em; margin-left: -.6em; } .ui-slider-horizontal .ui-slider-range { top: 0; height: 100%; } .ui-slider-horizontal .ui-slider-range-min { left: 0; } .ui-slider-horizontal .ui-slider-range-max { right: 0; } .ui-slider-vertical { width: .8em; height: 100px; } .ui-slider-vertical .ui-slider-handle { left: -.3em; margin-left: 0; margin-bottom: -.6em; } .ui-slider-vertical .ui-slider-range { left: 0; width: 100%; } .ui-slider-vertical .ui-slider-range-min { bottom: 0; } .ui-slider-vertical .ui-slider-range-max { top: 0; }/* Tabs ----------------------------------*/ .ui-tabs { padding: .2em; zoom: 1; } .ui-tabs .ui-tabs-nav { list-style: none; position: relative; padding: .2em .2em 0; } .ui-tabs .ui-tabs-nav li { position: relative; float: left; border-bottom-width: 0 !important; margin: 0 .2em -1px 0; padding: 0; } .ui-tabs .ui-tabs-nav li a { float: left; text-decoration: none; padding: .5em 1em; } .ui-tabs .ui-tabs-nav li.ui-tabs-selected { padding-bottom: 1px; border-bottom-width: 0; } .ui-tabs .ui-tabs-nav li.ui-tabs-selected a, .ui-tabs .ui-tabs-nav li.ui-state-disabled a, .ui-tabs .ui-tabs-nav li.ui-state-processing a { cursor: text; } .ui-tabs .ui-tabs-nav li a, .ui-tabs.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-selected a { cursor: pointer; } /* first selector in group seems obsolete, but required to overcome bug in Opera applying cursor: text overall if defined elsewhere... */ .ui-tabs .ui-tabs-panel { padding: 1em 1.4em; display: block; border-width: 0; background: none; } .ui-tabs .ui-tabs-hide { display: none !important; } /* * jQuery UI CSS Framework * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about) * Dual licensed under the MIT (MIT-LICENSE.txt) and GPL (GPL-LICENSE.txt) licenses. * To view and modify this theme, visit http://jqueryui.com/themeroller/ */ /* Component containers ----------------------------------*/ .ui-widget { font-family: Verdana,Arial,sans-serif/*{ffDefault}*/; font-size: 1.1em/*{fsDefault}*/; } .ui-widget input, .ui-widget select, .ui-widget textarea, .ui-widget button { font-family: Verdana,Arial,sans-serif/*{ffDefault}*/; font-size: 1em; } .ui-widget-content { border: 1px solid #aaaaaa/*{borderColorContent}*/; background: #ffffff/*{bgColorContent}*/ url(images/ui-bg_glass_75_ffffff_1x400.png)/*{bgImgUrlContent}*/ 0/*{bgContentXPos}*/ 0/*{bgContentYPos}*/ repeat-x/*{bgContentRepeat}*/; color: #222222/*{fcContent}*/; } .ui-widget-content a { color: #222222/*{fcContent}*/; } .ui-widget-header { border: none /*1px solid #aaaaaa*//*{borderColorHeader}*/; background: #D3D3D3/*{bgColorHeader}*/ url(images/ui-bg_highlight-soft_75_cccccc_1x100.png)/*{bgImgUrlHeader}*/ 0/*{bgHeaderXPos}*/ 50%/*{bgHeaderYPos}*/ repeat-x/*{bgHeaderRepeat}*/; color: #000000/*{fcHeader}*/; font-weight: bold; } .ui-widget-header a { color: #222222/*{fcHeader}*/; } /* Interaction states ----------------------------------*/ .ui-state-default, .ui-widget-content .ui-state-default { border: none /*1px solid #d3d3d3*//*{borderColorDefault}*/; /*background: #e6e6e6*//*{bgColorDefault}*/ /*url(images/ui-bg_glass_75_e6e6e6_1x400.png)*//*{bgImgUrlDefault}*/ /*0*//*{bgDefaultXPos}*/ /*50%*//*{bgDefaultYPos}*/ /*repeat-x*//*{bgDefaultRepeat}*/ font-weight: normal/*{fwDefault}*/; color: #555555/*{fcDefault}*/; outline: none; } .ui-state-default a, .ui-state-default a:link, .ui-state-default a:visited { color: #555555/*{fcDefault}*/; text-decoration: none; outline: none; } .ui-state-hover, .ui-widget-content .ui-state-hover, .ui-state-focus, .ui-widget-content .ui-state-focus { border: none /*1px solid #999999*//*{borderColorHover}*/; /*background: #dadada*//*{bgColorHover}*/ /*url(images/ui-bg_glass_75_dadada_1x400.png)*//*{bgImgUrlHover}*/ /*0*//*{bgHoverXPos}*/ /*50%*//*{bgHoverYPos}*/ /*repeat-x*//*{bgHoverRepeat}*/ font-weight: normal/*{fwDefault}*/; color: #212121/*{fcHover}*/; outline: none; } .ui-state-hover a, .ui-state-hover a:hover { color: #212121/*{fcHover}*/; text-decoration: none; outline: none; } .ui-state-active, .ui-widget-content .ui-state-active { border: 1px solid #aaaaaa/*{borderColorActive}*/; background: #ffffff/*{bgColorActive}*/ url(images/ui-bg_glass_65_ffffff_1x400.png)/*{bgImgUrlActive}*/ 0/*{bgActiveXPos}*/ 50%/*{bgActiveYPos}*/ repeat-x/*{bgActiveRepeat}*/; font-weight: normal/*{fwDefault}*/; color: #212121/*{fcActive}*/; outline: none; } .ui-state-active a, .ui-state-active a:link, .ui-state-active a:visited { color: #212121/*{fcActive}*/; outline: none; text-decoration: none; } /* Interaction Cues ----------------------------------*/ .ui-state-highlight, .ui-widget-content .ui-state-highlight {border: 1px solid #fcefa1/*{borderColorHighlight}*/; background: #fbf9ee/*{bgColorHighlight}*/ url(images/ui-bg_glass_55_fbf9ee_1x400.png)/*{bgImgUrlHighlight}*/ 0/*{bgHighlightXPos}*/ 50%/*{bgHighlightYPos}*/ repeat-x/*{bgHighlightRepeat}*/; color: #363636/*{fcHighlight}*/; } .ui-state-highlight a, .ui-widget-content .ui-state-highlight a { color: #363636/*{fcHighlight}*/; } .ui-state-error, .ui-widget-content .ui-state-error {border: 1px solid #cd0a0a/*{borderColorError}*/; background: #fef1ec/*{bgColorError}*/ url(images/ui-bg_inset-soft_95_fef1ec_1x100.png)/*{bgImgUrlError}*/ 0/*{bgErrorXPos}*/ 50%/*{bgErrorYPos}*/ repeat-x/*{bgErrorRepeat}*/; color: #cd0a0a/*{fcError}*/; } .ui-state-error a, .ui-widget-content .ui-state-error a { color: #363636/*{fcError}*/; } .ui-state-error-text, .ui-widget-content .ui-state-error-text { color: #cd0a0a/*{fcError}*/; } .ui-state-disabled, .ui-widget-content .ui-state-disabled { opacity: .35; filter:Alpha(Opacity=35); background-image: none; } .ui-priority-primary, .ui-widget-content .ui-priority-primary { font-weight: bold; } .ui-priority-secondary, .ui-widget-content .ui-priority-secondary { opacity: .7; filter:Alpha(Opacity=70); font-weight: normal; } /* Icons ----------------------------------*/ /* states and images */ .ui-icon { width: 16px; height: 16px; background-image: url(images/ui-icons_222222_256x240.png)/*{iconsContent}*/; } .ui-widget-content .ui-icon {background-image: url(images/ui-icons_222222_256x240.png)/*{iconsContent}*/; } .ui-widget-header .ui-icon {background-image: url(images/ui-icons_222222_256x240.png)/*{iconsHeader}*/; } .ui-state-default .ui-icon { background-image: url(images/ui-icons_888888_256x240.png)/*{iconsDefault}*/; } .ui-state-hover .ui-icon, .ui-state-focus .ui-icon {background-image: url(images/ui-icons_454545_256x240.png)/*{iconsHover}*/; } .ui-state-active .ui-icon {background-image: url(images/ui-icons_454545_256x240.png)/*{iconsActive}*/; } .ui-state-highlight .ui-icon {background-image: url(images/ui-icons_2e83ff_256x240.png)/*{iconsHighlight}*/; } .ui-state-error .ui-icon, .ui-state-error-text .ui-icon {background-image: url(images/ui-icons_cd0a0a_256x240.png)/*{iconsError}*/; } /* positioning */ .ui-icon-carat-1-n { background-position: 0 0; } .ui-icon-carat-1-ne { background-position: -16px 0; } .ui-icon-carat-1-e { background-position: -32px 0; } .ui-icon-carat-1-se { background-position: -48px 0; } .ui-icon-carat-1-s { background-position: -64px 0; } .ui-icon-carat-1-sw { background-position: -80px 0; } .ui-icon-carat-1-w { background-position: -96px 0; } .ui-icon-carat-1-nw { background-position: -112px 0; } .ui-icon-carat-2-n-s { background-position: -128px 0; } .ui-icon-carat-2-e-w { background-position: -144px 0; } .ui-icon-triangle-1-n { background-position: 0 -16px; } .ui-icon-triangle-1-ne { background-position: -16px -16px; } .ui-icon-triangle-1-e { background-position: -32px -16px; } .ui-icon-triangle-1-se { background-position: -48px -16px; } .ui-icon-triangle-1-s { background-position: -64px -16px; } .ui-icon-triangle-1-sw { background-position: -80px -16px; } .ui-icon-triangle-1-w { background-position: -96px -16px; } .ui-icon-triangle-1-nw { background-position: -112px -16px; } .ui-icon-triangle-2-n-s { background-position: -128px -16px; } .ui-icon-triangle-2-e-w { background-position: -144px -16px; } .ui-icon-arrow-1-n { background-position: 0 -32px; } .ui-icon-arrow-1-ne { background-position: -16px -32px; } .ui-icon-arrow-1-e { background-position: -32px -32px; } .ui-icon-arrow-1-se { background-position: -48px -32px; } .ui-icon-arrow-1-s { background-position: -64px -32px; } .ui-icon-arrow-1-sw { background-position: -80px -32px; } .ui-icon-arrow-1-w { background-position: -96px -32px; } .ui-icon-arrow-1-nw { background-position: -112px -32px; } .ui-icon-arrow-2-n-s { background-position: -128px -32px; } .ui-icon-arrow-2-ne-sw { background-position: -144px -32px; } .ui-icon-arrow-2-e-w { background-position: -160px -32px; } .ui-icon-arrow-2-se-nw { background-position: -176px -32px; } .ui-icon-arrowstop-1-n { background-position: -192px -32px; } .ui-icon-arrowstop-1-e { background-position: -208px -32px; } .ui-icon-arrowstop-1-s { background-position: -224px -32px; } .ui-icon-arrowstop-1-w { background-position: -240px -32px; } .ui-icon-arrowthick-1-n { background-position: 0 -48px; } .ui-icon-arrowthick-1-ne { background-position: -16px -48px; } .ui-icon-arrowthick-1-e { background-position: -32px -48px; } .ui-icon-arrowthick-1-se { background-position: -48px -48px; } .ui-icon-arrowthick-1-s { background-position: -64px -48px; } .ui-icon-arrowthick-1-sw { background-position: -80px -48px; } .ui-icon-arrowthick-1-w { background-position: -96px -48px; } .ui-icon-arrowthick-1-nw { background-position: -112px -48px; } .ui-icon-arrowthick-2-n-s { background-position: -128px -48px; } .ui-icon-arrowthick-2-ne-sw { background-position: -144px -48px; } .ui-icon-arrowthick-2-e-w { background-position: -160px -48px; } .ui-icon-arrowthick-2-se-nw { background-position: -176px -48px; } .ui-icon-arrowthickstop-1-n { background-position: -192px -48px; } .ui-icon-arrowthickstop-1-e { background-position: -208px -48px; } .ui-icon-arrowthickstop-1-s { background-position: -224px -48px; } .ui-icon-arrowthickstop-1-w { background-position: -240px -48px; } .ui-icon-arrowreturnthick-1-w { background-position: 0 -64px; } .ui-icon-arrowreturnthick-1-n { background-position: -16px -64px; } .ui-icon-arrowreturnthick-1-e { background-position: -32px -64px; } .ui-icon-arrowreturnthick-1-s { background-position: -48px -64px; } .ui-icon-arrowreturn-1-w { background-position: -64px -64px; } .ui-icon-arrowreturn-1-n { background-position: -80px -64px; } .ui-icon-arrowreturn-1-e { background-position: -96px -64px; } .ui-icon-arrowreturn-1-s { background-position: -112px -64px; } .ui-icon-arrowrefresh-1-w { background-position: -128px -64px; } .ui-icon-arrowrefresh-1-n { background-position: -144px -64px; } .ui-icon-arrowrefresh-1-e { background-position: -160px -64px; } .ui-icon-arrowrefresh-1-s { background-position: -176px -64px; } .ui-icon-arrow-4 { background-position: 0 -80px; } .ui-icon-arrow-4-diag { background-position: -16px -80px; } .ui-icon-extlink { background-position: -32px -80px; } .ui-icon-newwin { background-position: -48px -80px; } .ui-icon-refresh { background-position: -64px -80px; } .ui-icon-shuffle { background-position: -80px -80px; } .ui-icon-transfer-e-w { background-position: -96px -80px; } .ui-icon-transferthick-e-w { background-position: -112px -80px; } .ui-icon-folder-collapsed { background-position: 0 -96px; } .ui-icon-folder-open { background-position: -16px -96px; } .ui-icon-document { background-position: -32px -96px; } .ui-icon-document-b { background-position: -48px -96px; } .ui-icon-note { background-position: -64px -96px; } .ui-icon-mail-closed { background-position: -80px -96px; } .ui-icon-mail-open { background-position: -96px -96px; } .ui-icon-suitcase { background-position: -112px -96px; } .ui-icon-comment { background-position: -128px -96px; } .ui-icon-person { background-position: -144px -96px; } .ui-icon-print { background-position: -160px -96px; } .ui-icon-trash { background-position: -176px -96px; } .ui-icon-locked { background-position: -192px -96px; } .ui-icon-unlocked { background-position: -208px -96px; } .ui-icon-bookmark { background-position: -224px -96px; } .ui-icon-tag { background-position: -240px -96px; } .ui-icon-home { background-position: 0 -112px; } .ui-icon-flag { background-position: -16px -112px; } .ui-icon-calendar { background-position: -32px -112px; } .ui-icon-cart { background-position: -48px -112px; } .ui-icon-pencil { background-position: -64px -112px; } .ui-icon-clock { background-position: -80px -112px; } .ui-icon-disk { background-position: -96px -112px; } .ui-icon-calculator { background-position: -112px -112px; } .ui-icon-zoomin { background-position: -128px -112px; } .ui-icon-zoomout { background-position: -144px -112px; } .ui-icon-search { background-position: -160px -112px; } .ui-icon-wrench { background-position: -176px -112px; } .ui-icon-gear { background-position: -192px -112px; } .ui-icon-heart { background-position: -208px -112px; } .ui-icon-star { background-position: -224px -112px; } .ui-icon-link { background-position: -240px -112px; } .ui-icon-cancel { background-position: 0 -128px; } .ui-icon-plus { background-position: -16px -128px; } .ui-icon-plusthick { background-position: -32px -128px; } .ui-icon-minus { background-position: -48px -128px; } .ui-icon-minusthick { background-position: -64px -128px; } .ui-icon-close { background-position: -80px -128px; } .ui-icon-closethick { background-position: -96px -128px; } .ui-icon-key { background-position: -112px -128px; } .ui-icon-lightbulb { background-position: -128px -128px; } .ui-icon-scissors { background-position: -144px -128px; } .ui-icon-clipboard { background-position: -160px -128px; } .ui-icon-copy { background-position: -176px -128px; } .ui-icon-contact { background-position: -192px -128px; } .ui-icon-image { background-position: -208px -128px; } .ui-icon-video { background-position: -224px -128px; } .ui-icon-script { background-position: -240px -128px; } .ui-icon-alert { background-position: 0 -144px; } .ui-icon-info { background-position: -16px -144px; } .ui-icon-notice { background-position: -32px -144px; } .ui-icon-help { background-position: -48px -144px; } .ui-icon-check { background-position: -64px -144px; } .ui-icon-bullet { background-position: -80px -144px; } .ui-icon-radio-off { background-position: -96px -144px; } .ui-icon-radio-on { background-position: -112px -144px; } .ui-icon-pin-w { background-position: -128px -144px; } .ui-icon-pin-s { background-position: -144px -144px; } .ui-icon-play { background-position: 0 -160px; } .ui-icon-pause { background-position: -16px -160px; } .ui-icon-seek-next { background-position: -32px -160px; } .ui-icon-seek-prev { background-position: -48px -160px; } .ui-icon-seek-end { background-position: -64px -160px; } .ui-icon-seek-first { background-position: -80px -160px; } .ui-icon-stop { background-position: -96px -160px; } .ui-icon-eject { background-position: -112px -160px; } .ui-icon-volume-off { background-position: -128px -160px; } .ui-icon-volume-on { background-position: -144px -160px; } .ui-icon-power { background-position: 0 -176px; } .ui-icon-signal-diag { background-position: -16px -176px; } .ui-icon-signal { background-position: -32px -176px; } .ui-icon-battery-0 { background-position: -48px -176px; } .ui-icon-battery-1 { background-position: -64px -176px; } .ui-icon-battery-2 { background-position: -80px -176px; } .ui-icon-battery-3 { background-position: -96px -176px; } .ui-icon-circle-plus { background-position: 0 -192px; } .ui-icon-circle-minus { background-position: -16px -192px; } .ui-icon-circle-close { background-position: -32px -192px; } .ui-icon-circle-triangle-e { background-position: -48px -192px; } .ui-icon-circle-triangle-s { background-position: -64px -192px; } .ui-icon-circle-triangle-w { background-position: -80px -192px; } .ui-icon-circle-triangle-n { background-position: -96px -192px; } .ui-icon-circle-arrow-e { background-position: -112px -192px; } .ui-icon-circle-arrow-s { background-position: -128px -192px; } .ui-icon-circle-arrow-w { background-position: -144px -192px; } .ui-icon-circle-arrow-n { background-position: -160px -192px; } .ui-icon-circle-zoomin { background-position: -176px -192px; } .ui-icon-circle-zoomout { background-position: -192px -192px; } .ui-icon-circle-check { background-position: -208px -192px; } .ui-icon-circlesmall-plus { background-position: 0 -208px; } .ui-icon-circlesmall-minus { background-position: -16px -208px; } .ui-icon-circlesmall-close { background-position: -32px -208px; } .ui-icon-squaresmall-plus { background-position: -48px -208px; } .ui-icon-squaresmall-minus { background-position: -64px -208px; } .ui-icon-squaresmall-close { background-position: -80px -208px; } .ui-icon-grip-dotted-vertical { background-position: 0 -224px; } .ui-icon-grip-dotted-horizontal { background-position: -16px -224px; } .ui-icon-grip-solid-vertical { background-position: -32px -224px; } .ui-icon-grip-solid-horizontal { background-position: -48px -224px; } .ui-icon-gripsmall-diagonal-se { background-position: -64px -224px; } .ui-icon-grip-diagonal-se { background-position: -80px -224px; } /* Misc visuals ----------------------------------*/ /* Corner radius */ .ui-corner-tl { -moz-border-radius-topleft: 4px/*{cornerRadius}*/; -webkit-border-top-left-radius: 4px/*{cornerRadius}*/; } .ui-corner-tr { -moz-border-radius-topright: 4px/*{cornerRadius}*/; -webkit-border-top-right-radius: 4px/*{cornerRadius}*/; } .ui-corner-bl { -moz-border-radius-bottomleft: 4px/*{cornerRadius}*/; -webkit-border-bottom-left-radius: 4px/*{cornerRadius}*/; } .ui-corner-br { -moz-border-radius-bottomright: 4px/*{cornerRadius}*/; -webkit-border-bottom-right-radius: 4px/*{cornerRadius}*/; } .ui-corner-top { -moz-border-radius-topleft: 4px/*{cornerRadius}*/; -webkit-border-top-left-radius: 4px/*{cornerRadius}*/; -moz-border-radius-topright: 4px/*{cornerRadius}*/; -webkit-border-top-right-radius: 4px/*{cornerRadius}*/; } .ui-corner-bottom { -moz-border-radius-bottomleft: 4px/*{cornerRadius}*/; -webkit-border-bottom-left-radius: 4px/*{cornerRadius}*/; -moz-border-radius-bottomright: 4px/*{cornerRadius}*/; -webkit-border-bottom-right-radius: 4px/*{cornerRadius}*/; } .ui-corner-right { -moz-border-radius-topright: 4px/*{cornerRadius}*/; -webkit-border-top-right-radius: 4px/*{cornerRadius}*/; -moz-border-radius-bottomright: 4px/*{cornerRadius}*/; -webkit-border-bottom-right-radius: 4px/*{cornerRadius}*/; } .ui-corner-left { -moz-border-radius-topleft: 4px/*{cornerRadius}*/; -webkit-border-top-left-radius: 4px/*{cornerRadius}*/; -moz-border-radius-bottomleft: 4px/*{cornerRadius}*/; -webkit-border-bottom-left-radius: 4px/*{cornerRadius}*/; } .ui-corner-all { -moz-border-radius: 0px/*{cornerRadius}*/; -webkit-border-radius: 0px/*{cornerRadius}*/; } /* Overlays */ .ui-widget-overlay { background: #aaaaaa/*{bgColorOverlay}*/ none/*{bgImgUrlOverlay}*/ 0/*{bgOverlayXPos}*/ 0/*{bgOverlayYPos}*/ repeat-x/*{bgOverlayRepeat}*/; opacity: .3;filter:Alpha(Opacity=30)/*{opacityOverlay}*/; } .ui-widget-shadow { margin: -4px/*{offsetTopShadow}*/ 0 0 -4px/*{offsetLeftShadow}*/; padding: 4px/*{thicknessShadow}*/; background: #aaaaaa/*{bgColorShadow}*/ none/*{bgImgUrlShadow}*/ 0/*{bgShadowXPos}*/ 0/*{bgShadowYPos}*/ repeat-x/*{bgShadowRepeat}*/; opacity: .35;filter:Alpha(Opacity=35)/*{opacityShadow}*/; -moz-border-radius: 4px/*{cornerRadiusShadow}*/; -webkit-border-radius: 4px/*{cornerRadiusShadow}*/; }]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fcss%2Fdefault%2F</url>
    <content type="text"><![CDATA[body { font-family : Helvetica, Arial, Sans-Serif; background-color: #B9B9B9; overflow:hidden; } a { cursor: pointer; } #maximizePanelContainer { font-size: 4px; position:absolute; left: 0px; top: 0px; width: 15px; height: 13px; overflow: visible; z-index: 1000; } .maximizePanel { position:absolute; left: 0px; top: 0px; width: 20px; height: 20px; margin: 2px 0px 0px 1px; background: url('../images/261_expand_12rollover1.png') no-repeat; cursor: pointer; } .maximizePanelOver { background: url('../images/261_expand_12rollover2.png') no-repeat; } #interfaceControlFrameMinimizeContainer { position:relative; font-size: 2px; /*for IE*/ text-align: right; z-index: 100; height: 20px; } #interfaceControlFrameMinimizeContainer a { display: inline-block; width: 15px; height: 20px; font-size: 2px; background: url('../images/260_collapse_12rollover1.png') no-repeat; text-decoration: none; margin: 5px 5px 0px 0px; } #interfaceControlFrame { margin: 0px; } #interfaceControlFrameMinimizeContainer a:hover { background: url('../images/260_collapse_12rollover2.png') no-repeat; } #interfaceControlFrameCloseContainer { display: inline; width: 15px; height: 20px; font-size: 2px; margin: 5px 2px 0px 0px; } #interfaceControlFrameCloseContainer a { background: url('../images/259_close_12rollover1.png') no-repeat; margin: 0px; text-decoration: none; } #interfaceControlFrameCloseContainer a:hover { background: url('../images/259_close_12rollover2.png') no-repeat; } #interfaceControlFrameHeader li { display: inline; } #interfaceControlFrameHeader a { outline: none; padding: 3px 10px 3px 10px; margin-right: 1px; text-decoration: none; color: #575757; white-space: nowrap; background-color: #D3D3D3; } #interfaceControlFrameHeader a:link {} #interfaceControlFrameHeader a:hover { color: #000000; } #interfaceControlFrameHeader a.selected { background-color: White; font-weight:bold; padding: 3px 10px 4px 10px; } #interfaceControlFrameHeaderContainer { overflow: visible; width: 250px; } #interfaceControlFrameHeader { position:relative; list-style: none; padding : 4px 0px 4px 0px; font-size: 11px; z-index: 50; } #interfaceControlFrameContainer { position: absolute; background-color: White; overflow: hidden; width: 100%; /*height:100%;*/ } #interfaceControlFrameLogoContainer { background-color: White; border-bottom: 1px solid #EFEFEF; margin: -5px 0px 5px 0px; padding: 10px 5px 5px 5px; overflow: hidden; } #interfaceControlFrameLogoImageContainer { text-align: center; } #interfaceControlFrameLogoCaptionContainer { text-align: center; margin: 5px 10px 0px 10px; font-size: 11px; color: #333; }]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fcss%2Faxure_rp_page%2F</url>
    <content type="text"><![CDATA[/* so the window resize fires within a frame in IE7 */ html, body { height: 100%; } a { color: inherit; } p { margin: 0px; } iframe { background: #FFFFFF; } /* to match IE with C, FF */ input { padding: 1px 0px 1px 0px; box-sizing: border-box; -moz-box-sizing: border-box; } textarea { margin: 0px; box-sizing: border-box; -moz-box-sizing: border-box; } div.intcases { font-family: arial; font-size: 12px; text-align:left; border:1px solid #AAA; background:#FFF none repeat scroll 0% 0%; z-index:9999; visibility:hidden; position:absolute; padding: 0px; border-radius: 3px; white-space: nowrap; } div.intcaselink { cursor: pointer; padding: 3px 8px 3px 8px; margin: 5px; background:#EEE none repeat scroll 0% 0%; border:1px solid #AAA; border-radius: 3px; } div.refpageimage { position: absolute; left: 0px; top: 0px; font-size: 0px; width: 16px; height: 16px; cursor: pointer; background-image: url(images/newwindow.gif); background-repeat: no-repeat; } div.annnoteimage { position: absolute; left: 0px; top: 0px; font-size: 0px; width: 16px; height: 12px; cursor: help; background-image: url(images/note.gif); background-repeat: no-repeat; } div.annnotelabel { position: absolute; left: 0px; top: 0px; font-family: Arial; font-size: 10px; border: 1px solid rgb(166,221,242); cursor: help; background:rgb(0,157,217) none repeat scroll 0% 0%; padding-left:3px; padding-right:3px; white-space: nowrap; color: white; } .annotationName { font-size: 13px; font-weight: bold; margin-bottom: 3px; white-space: nowrap; } .annotation { font-size: 12px; padding-left: 2px; margin-bottom: 5px; } /* this is a fix for the issue where dialogs jump around and takes the text-align from the body */ .dialogFix { position:absolute; text-align:left; } @keyframes pulsate { from { box-shadow: 0 0 10px #74BA11; } to { box-shadow: 0 0 20px #74BA11; } } @-webkit-keyframes pulsate { from { -webkit-box-shadow: 0 0 10px #74BA11; box-shadow: 0 0 10px #74BA11; } to { -webkit-box-shadow: 0 0 20px #74BA11; box-shadow: 0 0 20px #74BA11; } } @-moz-keyframes pulsate { from { -moz-box-shadow: 0 0 10px #74BA11; box-shadow: 0 0 10px #74BA11; } to { -moz-box-shadow: 0 0 20px #74BA11; box-shadow: 0 0 20px #74BA11; } } .legacyPulsateBorder { border: 5px solid #74BA11; margin: -5px; } .pulsateBorder { animation-name: pulsate; animation-timing-function: ease-in-out; animation-duration: 0.9s; animation-iteration-count: infinite; animation-direction: alternate; -webkit-animation-name: pulsate; -webkit-animation-timing-function: ease-in-out; -webkit-animation-duration: 0.9s; -webkit-animation-iteration-count: infinite; -webkit-animation-direction: alternate; -moz-animation-name: pulsate; -moz-animation-timing-function: ease-in-out; -moz-animation-duration: 0.9s; -moz-animation-iteration-count: infinite; -moz-animation-direction: alternate; }]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fchrome%2Fchrome%2F</url>
    <content type="text"><![CDATA[Install the Axure RP Chrome Extension * { font-family: Helvetica, Arial, sans-serif; } body { text-align: center; background-color: #fafafa; } p { font-size: 14px; line-height: 18px; color: #333333; } div.container { width: 980px; margin-left: auto; margin-right: auto; text-align: left; } a { text-decoration: none; color: #009dda; } .button { background: #E31687; font: normal 16px Arial, sans-serif; color: #FFFFFF; padding: 8px 25px 8px 25px; border: 0; display: inline-block; margin-top: 10px; text-transform: uppercase; font-size: 13px; } a:hover.button { opacity: .8; } div.left { width: 400px; float: left; margin-right: 80px; } div.right { width: 400px; float: left; } div.buttonContainer { text-align: center; } h1 { font-size: 40px; color: #333333; line-height: 50px; margin-bottom: 20px; font-weight: normal; } h2 { font-size: 38px; font-weight: normal; color: #08639C; text-align: center; } h3 { font-size: 20px; color: #333333; font-weight: normal; } .heading { background-color: #cdecf9; height: 36px; line-height: 36px; padding-left: 20px; font-size: 16px; color: #666666; } span.faq { font-size: 16px; font-weight: normal; color: #333333; display: block; } AXURE RP EXTENSION For Chrome Google Chrome requires an extension to view locally stored projects. Alternatively, upload your RP file to AxShare or use a different browser. VIEW LOCAL PROJECTS IN CHROME 1. Install Extension from Chrome Store Install Extension 2. Open the Extensions Options &nbsp; 3. Check "Allow access to file URLs" 4. Click the button below View in Chrome EXTENSION FAQ What is a Chrome Extension? Extensions are downloadable plug-ins for Google Chrome that modify the browser and allow you additional capabilities. Why do I need to install the extension? Google requires this extension to be installed to allow the viewing of local files in Chrome Why does this extension require a high access level? This extension requires a high access level to allow the viewing of the file:// protocol. Axure does not track or access any of your information. ROUND UP Chrome requires this extension to be installed to view local files. Need help or have any questions? Drop us a line at support@axure.com.]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Freload%2F</url>
    <content type="text"><![CDATA[function getUrl() { var query = window.location.hash.substring(1); var vars = query.split("&&&"); for (var i=0;i 0 && url.indexOf(":") < 10) rel = ''; self.location.href = rel + url;]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2FOther%2F</url>
    <content type="text"><![CDATA[Close function getQueryVariable(variable) { var query = window.location.hash.substring(1); var vars = query.split("&&&"); for (var i=0;i]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fresources%2Fexpand%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fplugins%2Fsitemap%2Fstyles%2Fimages%2Fimages%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fplugins%2Fsitemap%2Fstyles%2Fsitemap%2F</url>
    <content type="text"><![CDATA[#sitemapHost { font-size: 12px; color:#333; background-color:#FFF; height: 100%; } #sitemapTreeContainer { /*margin: 0px 8px 0px 10px;*/ position: absolute; overflow: auto; width: 100%; /*height: 100%;*/ top: 31px; bottom: 0px; } .sitemapTree { /* list-style-type: none; */ margin: 5px 0px 10px -9px; overflow:visible; } .sitemapTree ul { list-style-type: none; margin: 0px 0px 0px 0px; padding-left: 0px; } .sitemapPlusMinusLink { } .sitemapMinus { vertical-align:middle; background: url('images/minus.gif'); background-repeat: no-repeat; margin-right: 3px; margin-bottom: 1px; height:9px; width:9px; display:inline-block; } .sitemapPlus { vertical-align:middle; background: url('images/plus.gif'); background-repeat: no-repeat; margin-right: 3px; margin-bottom: 1px; height:9px; width:9px; display:inline-block; } .sitemapPageLink { margin-left: 0px; } .sitemapPageIcon { margin-bottom:-3px; width: 16px; height: 16px; display: inline-block; background: url('images/079_page_16.png'); background-repeat: no-repeat; } .sitemapFlowIcon { background: url('images/086_case_16.png'); } .sitemapFolderIcon { background: url('images/235_folderclosed_16.png'); } .sitemapFolderOpenIcon { background: url('images/236_folderopen_16.png'); } .sitemapPageName { margin-left: 3px; } .sitemapNode { margin:4px 0px 4px 0px; white-space:nowrap; } .sitemapPageLinkContainer { margin-left: 0px; padding-bottom: 1px; } /* .sitemapNode div { padding-top: 1px; padding-bottom: 3px; padding-left: 20px; height: 14px; } */ .sitemapExpandableNode { margin-left: 0px; } .sitemapHighlight { background-color : rgb(204,235,248); font-weight: bold; } .sitemapGreyedName { color: #AAA; } #sitemapToolbar { margin: 5px 5px 5px 5px; height: 22px; } #sitemapToolbar .sitemapToolbarButton { float: left; width: 22px; height: 22px; border: 1px solid transparent; } #sitemapToolbar .sitemapToolbarButton:hover { border: 1px solid rgb(0,157,217); background-color : rgb(166,221,242); } #sitemapToolbar .sitemapToolbarButton:active { border: 1px solid rgb(0,157,217); background-color : rgb(204,235,248); } #sitemapToolbar .sitemapToolbarButtonSelected { border: 1px solid rgb(0,157,217); background-color : rgb(204,235,248); } #linksButton { background: url('images/233_hyperlink_16.png') no-repeat center center; } #adaptiveButton { background: url('images/225_responsive_16.png') no-repeat center center; } #footnotesButton { background: url('images/228_togglenotes_16.png') no-repeat center center; } #highlightInteractiveButton { background: url('images/231_event_16.png') no-repeat center center; } #variablesButton { background: url('images/229_variables_16.png') no-repeat center center; } #searchButton { background: url('images/232_search_16.png') no-repeat center center; } .sitemapLinkContainer { margin-top: 8px; padding-right: 5px; font-size: 12px; } .sitemapLinkField { width: 100%; font-size: 12px; margin-top: 3px; } .sitemapOptionContainer { margin-top: 8px; padding-right: 5px; font-size: 12px; } #sitemapOptionsDiv { margin-top: 5px; margin-left: 16px; } #viewSelectDiv { margin-left: 5px; } #viewSelect { width: 70%; } .sitemapUrlOption { padding-bottom: 5px; } .optionLabel { font-size: 12px; } .sitemapPopupContainer { display: none; position: absolute; background-color: #F4F4F4; border: 1px solid #B9B9B9; padding: 5px 5px 5px 5px; margin: 5px 0px 0px 5px; z-index: 1; } #adaptiveViewsContainer { margin-left: 0px; padding: 0px; } .adaptiveViewOption { padding: 2px; } .adaptiveViewOption:hover { background-color: rgb(204,235,248); cursor: pointer; } .currentAdaptiveView { font-weight: bold; } .adaptiveCheckboxDiv { height: 15px; width: 15px; float: left; } .checkedAdaptive { background: url('images/adaptivecheck.png') no-repeat center center; } #variablesContainer { max-height: 350px; overflow: auto; } .variableName { font-weight: bold; } .variableDiv { margin-bottom: 10px; } #variablesClearLink { color: #069; left: 5px; } .searchBoxHint { color: #AAA; font-style: italic; } #sitemapLinksPageName { font-weight: bold; } #sitemapOptionsHeader { font-weight: bold; }]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fplugins%2Fsitemap%2Fsitemap%2F</url>
    <content type="text"><![CDATA[// use this to isolate the scope (function() { var SHOW_HIDE_ANIMATION_DURATION = 0; var HIGHLIGHT_INTERACTIVE_VAR_NAME = 'hi'; var FOOTNOTES_VAR_NAME = 'fn'; var SITEMAP_COLLAPSE_VAR_NAME = 'c'; var ADAPTIVE_VIEW_VAR_NAME = 'view'; var currentPageLoc = ''; var currentPlayerLoc = ''; var currentPageHashString = ''; $(window.document).ready(function() { $axure.player.createPluginHost({ id: 'sitemapHost', context: 'interface', title: 'Sitemap' }); generateSitemap(); $('.sitemapPlusMinusLink').toggle(collapse_click, expand_click); $('.sitemapPageLink').click(node_click); $('#sitemapLinksAndOptionsContainer').hide(); $('#searchDiv').hide(); $('#linksButton').click(links_click); $('#adaptiveButton').click(adaptive_click); $('#footnotesButton').click(footnotes_click).addClass('sitemapToolbarButtonSelected'); $('#highlightInteractiveButton').click(highlight_interactive); $('#variablesButton').click(showvars_click); $('#variablesClearLink').click(clearvars_click); $('#searchButton').click(search_click); $('#searchBox').keyup(search_input_keyup); $('.sitemapLinkField').click(function() { this.select(); }); $('input[value="withoutmap"]').click(withoutSitemapRadio_click); $('input[value="withmap"]').click(withSitemapRadio_click); $('#minimizeBox, #footnotesBox, #highlightBox').change(sitemapUrlOptions_change); $('#viewSelect').change(sitemapUrlViewSelect_change); // $('#sitemapHost').parent().resize(function () { // $('#sitemapHost').height($(this).height()); // }); // bind to the page load $axure.page.bind('load.sitemap', function() { currentPageLoc = $axure.page.location.split("#")[0]; var decodedPageLoc = decodeURI(currentPageLoc); var nodeUrl = decodedPageLoc.substr(decodedPageLoc.lastIndexOf('/') ? decodedPageLoc.lastIndexOf('/') + 1 : 0); currentPlayerLoc = $(location).attr('href').split("#")[0].split("?")[0]; currentPageHashString = '#p=' + nodeUrl.substr(0, nodeUrl.lastIndexOf('.')); setVarInCurrentUrlHash('p', nodeUrl.substring(0, nodeUrl.lastIndexOf('.html'))); $('.sitemapPageLink').parent().parent().removeClass('sitemapHighlight'); $('.sitemapPageLink[nodeUrl="' + nodeUrl + '"]').parent().parent().addClass('sitemapHighlight'); $('#sitemapLinksPageName').html($('.sitemapHighlight > .sitemapPageLinkContainer > .sitemapPageLink > .sitemapPageName').html()); //Click the "With sitemap" radio button so that it's selected by default $('input[value="withmap"]').click(); //Update variable div with latest global variable values after page has loaded $axure.messageCenter.postMessage('getGlobalVariables', ''); //If footnotes enabled for this prototype... if($axure.document.configuration.showAnnotations == true) { //If the fn var is defined and set to 0, hide footnotes //else if hide-footnotes button selected, hide them var fnVal = getHashStringVar(FOOTNOTES_VAR_NAME); if(fnVal.length > 0 && fnVal == 0) { $('#footnotesButton').removeClass('sitemapToolbarButtonSelected'); $axure.messageCenter.postMessage('annotationToggle', false); } else if(!$('#footnotesButton').is('.sitemapToolbarButtonSelected')) { //If the footnotes button isn't selected, hide them on this loaded page $axure.messageCenter.postMessage('annotationToggle', false); } } //If highlight var is present and set to 1 or else if //sitemap highlight button is selected then highlight interactive elements var hiVal = getHashStringVar(HIGHLIGHT_INTERACTIVE_VAR_NAME); if(hiVal.length > 0 && hiVal == 1) { $('#highlightInteractiveButton').addClass('sitemapToolbarButtonSelected'); $axure.messageCenter.postMessage('highlightInteractive', true); } else if($('#highlightInteractiveButton').is('.sitemapToolbarButtonSelected')) { $axure.messageCenter.postMessage('highlightInteractive', true); } //Set the current view if it is defined in the hash string //If the view is invalid, set it to 'auto' in the string //ELSE set the view based on the currently selected view in the toolbar menu var viewStr = getHashStringVar(ADAPTIVE_VIEW_VAR_NAME); if(viewStr.length > 0) { var $view = $('.adaptiveViewOption[val="' + viewStr + '"]'); if($view.length > 0) $view.click(); else $('.adaptiveViewOption[val="auto"]').click(); } else if($('.checkedAdaptive').length > 0) { var $viewOption = $('.checkedAdaptive').parents('.adaptiveViewOption'); if($viewOption.attr('val') != 'auto') $viewOption.click(); } $axure.messageCenter.postMessage('finishInit'); return false; }); var $adaptiveViewsContainer = $('#adaptiveViewsContainer'); var $viewSelect = $('#viewSelect'); //Fill out adaptive view container with prototype's defined adaptive views, as well as the default, and Auto $adaptiveViewsContainer.append('Auto'); $viewSelect.append('Auto'); if(typeof $axure.document.defaultAdaptiveView.name != 'undefined') { //If the name is a blank string, make the view name the width if non-zero, else 'any' var defaultViewName = $axure.document.defaultAdaptiveView.name; if(defaultViewName == '') { defaultViewName = $axure.document.defaultAdaptiveView.size.width != 0 ? $axure.document.defaultAdaptiveView.size.width : 'Base'; } $adaptiveViewsContainer.append('' + defaultViewName + ''); $viewSelect.append('' + defaultViewName + ''); } var enabledViewIds = $axure.document.configuration.enabledViewIds; for(var viewIndex = 0; viewIndex < $axure.document.adaptiveViews.length; viewIndex++) { var currView = $axure.document.adaptiveViews[viewIndex]; if(enabledViewIds.indexOf(currView.id) < 0) continue; var widthString = currView.size.width == 0 ? 'any' : currView.size.width; var heightString = currView.size.height == 0 ? 'any' : currView.size.height; var conditionString = ''; if(currView.condition == '>' || currView.condition == '>=') { conditionString = ' and above'; } else if(currView.condition == ' 0) { treeUl += "View: "; } treeUl += ""; treeUl += "Reset Variables"; if($axure.document.adaptiveViews.length > 0) { treeUl += ""; } treeUl += ""; treeUl += ""; treeUl += ""; var rootNodes = $axure.document.sitemap.rootNodes; for(var i = 0; i < rootNodes.length; i++) { treeUl += generateNode(rootNodes[i], 0); } treeUl += ""; $('#sitemapHost').html(treeUl); } function generateNode(node, level) { var hasChildren = (node.children && node.children.length > 0); if(hasChildren) { var returnVal = ""; } else { var returnVal = ""; } var isFolder = node.type == "Folder"; if(!isFolder) returnVal += ""; returnVal += ""; returnVal += $('').text(node.pageName).html(); returnVal += ""; if(!isFolder) returnVal += ""; returnVal += ""; if(hasChildren) { returnVal += ""; for(var i = 0; i < node.children.length; i++) { var child = node.children[i]; returnVal += generateNode(child, level + 1); } returnVal += ""; } returnVal += ""; return returnVal; } function getHashStringVar(query) { var qstring = window.location.href.split("#"); if(qstring.length < 2) return ""; var prms = qstring[1].split("&"); var frmelements = new Array(); var currprmeter, querystr = ""; for(var i = 0; i < prms.length; i++) { currprmeter = prms[i].split("="); frmelements[i] = new Array(); frmelements[i][0] = currprmeter[0]; frmelements[i][1] = currprmeter[1]; } for(var j = 0; j < frmelements.length; j++) { if(frmelements[j][0] == query) { querystr = frmelements[j][1]; break; } } return querystr; } function replaceHash(newHash) { var currentLocWithoutHash = window.location.toString().split('#')[0]; //We use replace so that every hash change doesn't get appended to the history stack. //We use replaceState in browsers that support it, else replace the location if(typeof window.history.replaceState != 'undefined') { window.history.replaceState(null, null, currentLocWithoutHash + newHash); } else { window.location.replace(currentLocWithoutHash + newHash); } } function setHashStringVar(currentHash, varName, varVal) { var varWithEqual = varName + '='; var hashToSet = ''; var pageIndex = currentHash.indexOf('#' + varWithEqual); if(pageIndex == -1) pageIndex = currentHash.indexOf('&' + varWithEqual); if(pageIndex != -1) { var newHash = currentHash.substring(0, pageIndex); newHash = newHash == '' ? '#' + varWithEqual + varVal : newHash + '&' + varWithEqual + varVal; var ampIndex = currentHash.indexOf('&', pageIndex + 1); if(ampIndex != -1) { newHash = newHash + currentHash.substring(ampIndex); } hashToSet = newHash; } else if(currentHash.indexOf('#') != -1) { hashToSet = currentHash + '&' + varWithEqual + varVal; } else { hashToSet = '#' + varWithEqual + varVal; } if(hashToSet != '') { return hashToSet; } return null; } function setVarInCurrentUrlHash(varName, varVal) { var newHash = setHashStringVar(window.location.hash, varName, varVal); if(newHash != null) { replaceHash(newHash); } } function deleteHashStringVar(currentHash, varName) { var varWithEqual = varName + '='; var pageIndex = currentHash.indexOf('#' + varWithEqual); if(pageIndex == -1) pageIndex = currentHash.indexOf('&' + varWithEqual); if(pageIndex != -1) { var newHash = currentHash.substring(0, pageIndex); var ampIndex = currentHash.indexOf('&', pageIndex + 1); //IF begin of string....if none blank, ELSE # instead of & and rest //IF in string....prefix + if none blank, ELSE &-rest if(newHash == '') { //beginning of string newHash = ampIndex != -1 ? '#' + currentHash.substring(ampIndex + 1) : ''; } else { //somewhere in the middle newHash = newHash + (ampIndex != -1 ? currentHash.substring(ampIndex) : ''); } return newHash; } return null; } function deleteVarFromCurrentUrlHash(varName) { var newHash = deleteHashStringVar(window.location.hash, varName); if(newHash != null) { replaceHash(newHash); } } })();]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fplugins%2Fpage_notes%2Fstyles%2Fpage_notes%2F</url>
    <content type="text"><![CDATA[#pageNotesHost { font-size: 12px; color:#333; height: 100%; } #pageNotesScrollContainer { overflow: auto; width: 100%; height: 100%; } #pageNotesContainer { padding: 10px 10px 10px 10px; } #pageNameHeader { font-size: 13px; font-weight: bold; height: 23px; white-space: nowrap; } #pageNotesContent { overflow: visible; } .pageNoteName { font-size: 12px; margin-bottom: 5px; text-decoration: underline; white-space: nowrap; } .pageNote { margin-bottom: 10px; }]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fplugins%2Fpage_notes%2Fpage_notes%2F</url>
    <content type="text"><![CDATA[// use this to isolate the scope (function () { if (!$axure.document.configuration.showPageNotes) { return; } $(window.document).ready(function () { $axure.player.createPluginHost({ id: 'pageNotesHost', context: 'interface', title: 'Page Notes' }); generatePageNotes(); // bind to the page load $axure.page.bind('load.page_notes', function () { $('#pageNameHeader').html(""); $('#pageNotesContent').html(""); //populate the notes var notes = $axure.page.notes; if (notes) { var pageName = $axure.page.pageName; $('#pageNameHeader').html(pageName); var showNames = $axure.document.configuration.showPageNoteNames; for (var noteName in notes) { if (showNames) { $('#pageNotesContent').append("" + noteName + ""); } $('#pageNotesContent').append("" + notes[noteName] + ""); } } return false; }); }); function generatePageNotes() { var pageNotesUi = ""; pageNotesUi += ""; pageNotesUi += ""; pageNotesUi += ""; pageNotesUi += ""; $('#pageNotesHost').html(pageNotesUi); } })();]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Ffiles%2F%E4%BA%A4%E6%98%93%E6%89%80--%E4%BA%A7%E5%93%81%E7%AB%AF%E4%BF%AE%E6%94%B9%2Fstyles%2F</url>
    <content type="text"><![CDATA[body { margin:0px; background-image:none; position:static; left:auto; width:1510px; margin-left:0; margin-right:0; text-align:left; } #base { position:absolute; z-index:0; } #u0 { position:absolute; left:330px; top:94px; width:320px; height:570px; } #u0_img { position:absolute; left:0px; top:0px; width:320px; height:570px; } #u1 { position:absolute; left:2px; top:277px; width:316px; visibility:hidden; word-wrap:break-word; } #u2 { position:absolute; left:330px; top:94px; width:320px; height:60px; } #u2_img { position:absolute; left:0px; top:0px; width:320px; height:60px; } #u3 { position:absolute; left:2px; top:22px; width:316px; visibility:hidden; word-wrap:break-word; } #u4 { position:absolute; left:389px; top:114px; width:58px; height:19px; font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; font-size:16px; } #u4_img { position:absolute; left:0px; top:0px; width:58px; height:19px; } #u5 { position:absolute; left:0px; top:0px; width:58px; white-space:nowrap; } #u6 { position:absolute; left:342px; top:104px; width:40px; height:40px; } #u6_img { position:absolute; left:0px; top:0px; width:40px; height:40px; } #u7 { position:absolute; left:2px; top:12px; width:36px; word-wrap:break-word; } #u8 { position:absolute; left:606px; top:109px; width:23px; height:28px; font-family:'AppleColorEmoji', 'Apple Color Emoji'; font-weight:400; font-style:normal; font-size:18px; } #u8_img { position:absolute; left:0px; top:0px; width:23px; height:28px; } #u9 { position:absolute; left:0px; top:0px; width:23px; white-space:nowrap; } #u10 { position:absolute; left:342px; top:196px; width:53px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u10_img { position:absolute; left:0px; top:0px; width:53px; height:18px; } #u11 { position:absolute; left:0px; top:0px; width:53px; white-space:nowrap; } #u12 { position:absolute; left:330px; top:216px; width:320px; height:70px; } #u12_img { position:absolute; left:0px; top:0px; width:320px; height:70px; } #u13 { position:absolute; left:2px; top:27px; width:316px; visibility:hidden; word-wrap:break-word; } #u14 { position:absolute; left:342px; top:234px; width:30px; height:30px; } #u14_img { position:absolute; left:0px; top:0px; width:30px; height:30px; } #u15 { position:absolute; left:2px; top:8px; width:26px; word-wrap:break-word; } #u16 { position:absolute; left:382px; top:231px; width:77px; height:18px; } #u16_img { position:absolute; left:0px; top:0px; width:77px; height:18px; } #u17 { position:absolute; left:0px; top:0px; width:77px; word-wrap:break-word; } #u18 { position:absolute; left:382px; top:252px; width:88px; height:18px; color:#CCCCCC; } #u18_img { position:absolute; left:0px; top:0px; width:88px; height:18px; } #u19 { position:absolute; left:0px; top:0px; width:88px; word-wrap:break-word; } #u20 { position:absolute; left:489px; top:234px; width:72px; height:18px; color:#CCCCCC; } #u20_img { position:absolute; left:0px; top:0px; width:72px; height:18px; } #u21 { position:absolute; left:0px; top:0px; width:72px; word-wrap:break-word; } #u22 { position:absolute; left:485px; top:252px; width:72px; height:18px; color:#CCCCCC; } #u22_img { position:absolute; left:0px; top:0px; width:72px; height:18px; } #u23 { position:absolute; left:0px; top:0px; width:72px; word-wrap:break-word; } #u24 { position:absolute; left:571px; top:238px; width:70px; height:30px; } #u24_img { position:absolute; left:0px; top:0px; width:70px; height:30px; } #u25 { position:absolute; left:2px; top:8px; width:66px; word-wrap:break-word; } #u26 { position:absolute; left:342px; top:296px; width:66px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u26_img { position:absolute; left:0px; top:0px; width:66px; height:18px; } #u27 { position:absolute; left:0px; top:0px; width:66px; white-space:nowrap; } #u28 { position:absolute; left:330px; top:321px; width:320px; height:70px; } #u28_img { position:absolute; left:0px; top:0px; width:320px; height:70px; } #u29 { position:absolute; left:2px; top:27px; width:316px; visibility:hidden; word-wrap:break-word; } #u30 { position:absolute; left:342px; top:339px; width:30px; height:30px; } #u30_img { position:absolute; left:0px; top:0px; width:30px; height:30px; } #u31 { position:absolute; left:2px; top:8px; width:26px; word-wrap:break-word; } #u32 { position:absolute; left:382px; top:336px; width:77px; height:18px; } #u32_img { position:absolute; left:0px; top:0px; width:77px; height:18px; } #u33 { position:absolute; left:0px; top:0px; width:77px; word-wrap:break-word; } #u34 { position:absolute; left:382px; top:357px; width:88px; height:18px; color:#CCCCCC; } #u34_img { position:absolute; left:0px; top:0px; width:88px; height:18px; } #u35 { position:absolute; left:0px; top:0px; width:88px; word-wrap:break-word; } #u36 { position:absolute; left:489px; top:339px; width:72px; height:18px; color:#CCCCCC; } #u36_img { position:absolute; left:0px; top:0px; width:72px; height:18px; } #u37 { position:absolute; left:0px; top:0px; width:72px; word-wrap:break-word; } #u38 { position:absolute; left:485px; top:357px; width:72px; height:18px; color:#CCCCCC; } #u38_img { position:absolute; left:0px; top:0px; width:72px; height:18px; } #u39 { position:absolute; left:0px; top:0px; width:72px; word-wrap:break-word; } #u40 { position:absolute; left:571px; top:343px; width:70px; height:30px; } #u40_img { position:absolute; left:0px; top:0px; width:70px; height:30px; } #u41 { position:absolute; left:2px; top:8px; width:66px; word-wrap:break-word; } #u42 { position:absolute; left:330px; top:390px; width:320px; height:70px; } #u42_img { position:absolute; left:0px; top:0px; width:320px; height:70px; } #u43 { position:absolute; left:2px; top:27px; width:316px; visibility:hidden; word-wrap:break-word; } #u44 { position:absolute; left:342px; top:408px; width:30px; height:30px; } #u44_img { position:absolute; left:0px; top:0px; width:30px; height:30px; } #u45 { position:absolute; left:2px; top:8px; width:26px; word-wrap:break-word; } #u46 { position:absolute; left:382px; top:405px; width:77px; height:18px; } #u46_img { position:absolute; left:0px; top:0px; width:77px; height:18px; } #u47 { position:absolute; left:0px; top:0px; width:77px; word-wrap:break-word; } #u48 { position:absolute; left:382px; top:426px; width:88px; height:18px; color:#CCCCCC; } #u48_img { position:absolute; left:0px; top:0px; width:88px; height:18px; } #u49 { position:absolute; left:0px; top:0px; width:88px; word-wrap:break-word; } #u50 { position:absolute; left:489px; top:408px; width:72px; height:18px; color:#CCCCCC; } #u50_img { position:absolute; left:0px; top:0px; width:72px; height:18px; } #u51 { position:absolute; left:0px; top:0px; width:72px; word-wrap:break-word; } #u52 { position:absolute; left:485px; top:426px; width:72px; height:18px; color:#CCCCCC; } #u52_img { position:absolute; left:0px; top:0px; width:72px; height:18px; } #u53 { position:absolute; left:0px; top:0px; width:72px; word-wrap:break-word; } #u54 { position:absolute; left:571px; top:412px; width:70px; height:30px; } #u54_img { position:absolute; left:0px; top:0px; width:70px; height:30px; } #u55 { position:absolute; left:2px; top:8px; width:66px; word-wrap:break-word; } #u56 { position:absolute; left:330px; top:459px; width:320px; height:70px; } #u56_img { position:absolute; left:0px; top:0px; width:320px; height:70px; } #u57 { position:absolute; left:2px; top:27px; width:316px; visibility:hidden; word-wrap:break-word; } #u58 { position:absolute; left:342px; top:477px; width:30px; height:30px; } #u58_img { position:absolute; left:0px; top:0px; width:30px; height:30px; } #u59 { position:absolute; left:2px; top:8px; width:26px; word-wrap:break-word; } #u60 { position:absolute; left:382px; top:474px; width:77px; height:18px; } #u60_img { position:absolute; left:0px; top:0px; width:77px; height:18px; } #u61 { position:absolute; left:0px; top:0px; width:77px; word-wrap:break-word; } #u62 { position:absolute; left:382px; top:495px; width:88px; height:18px; color:#CCCCCC; } #u62_img { position:absolute; left:0px; top:0px; width:88px; height:18px; } #u63 { position:absolute; left:0px; top:0px; width:88px; word-wrap:break-word; } #u64 { position:absolute; left:489px; top:477px; width:72px; height:18px; color:#CCCCCC; } #u64_img { position:absolute; left:0px; top:0px; width:72px; height:18px; } #u65 { position:absolute; left:0px; top:0px; width:72px; word-wrap:break-word; } #u66 { position:absolute; left:485px; top:495px; width:72px; height:18px; color:#CCCCCC; } #u66_img { position:absolute; left:0px; top:0px; width:72px; height:18px; } #u67 { position:absolute; left:0px; top:0px; width:72px; word-wrap:break-word; } #u68 { position:absolute; left:571px; top:481px; width:70px; height:30px; } #u68_img { position:absolute; left:0px; top:0px; width:70px; height:30px; } #u69 { position:absolute; left:2px; top:8px; width:66px; word-wrap:break-word; } #u70 { position:absolute; left:330px; top:153px; width:320px; height:42px; } #u70_img { position:absolute; left:0px; top:0px; width:320px; height:42px; } #u71 { position:absolute; left:2px; top:13px; width:316px; visibility:hidden; word-wrap:break-word; } #u72 { position:absolute; left:342px; top:168px; width:8px; height:18px; } #u72_img { position:absolute; left:0px; top:0px; width:8px; height:18px; } #u73 { position:absolute; left:0px; top:0px; width:8px; visibility:hidden; white-space:nowrap; } #u74 { position:absolute; left:342px; top:168px; width:8px; height:16px; } #u74_img { position:absolute; left:0px; top:0px; width:8px; height:16px; } #u75 { position:absolute; left:0px; top:0px; width:8px; visibility:hidden; white-space:nowrap; } #u76 { position:absolute; left:342px; top:157px; width:30px; height:30px; } #u76_img { position:absolute; left:0px; top:0px; width:30px; height:30px; } #u77 { position:absolute; left:2px; top:7px; width:26px; visibility:hidden; word-wrap:break-word; } #u78 { position:absolute; left:382px; top:164px; width:202px; height:18px; } #u78_img { position:absolute; left:0px; top:0px; width:202px; height:18px; } #u79 { position:absolute; left:0px; top:0px; width:202px; white-space:nowrap; } #u80 { position:absolute; left:621px; top:164px; width:18px; height:21px; } #u80_img { position:absolute; left:0px; top:0px; width:18px; height:21px; } #u81 { position:absolute; left:0px; top:0px; width:18px; white-space:nowrap; } #u82 { position:absolute; left:330px; top:528px; width:320px; height:70px; } #u82_img { position:absolute; left:0px; top:0px; width:320px; height:70px; } #u83 { position:absolute; left:2px; top:27px; width:316px; visibility:hidden; word-wrap:break-word; } #u84 { position:absolute; left:342px; top:546px; width:30px; height:30px; } #u84_img { position:absolute; left:0px; top:0px; width:30px; height:30px; } #u85 { position:absolute; left:2px; top:8px; width:26px; word-wrap:break-word; } #u86 { position:absolute; left:382px; top:543px; width:77px; height:18px; } #u86_img { position:absolute; left:0px; top:0px; width:77px; height:18px; } #u87 { position:absolute; left:0px; top:0px; width:77px; word-wrap:break-word; } #u88 { position:absolute; left:382px; top:564px; width:88px; height:18px; color:#CCCCCC; } #u88_img { position:absolute; left:0px; top:0px; width:88px; height:18px; } #u89 { position:absolute; left:0px; top:0px; width:88px; word-wrap:break-word; } #u90 { position:absolute; left:489px; top:546px; width:72px; height:18px; color:#CCCCCC; } #u90_img { position:absolute; left:0px; top:0px; width:72px; height:18px; } #u91 { position:absolute; left:0px; top:0px; width:72px; word-wrap:break-word; } #u92 { position:absolute; left:485px; top:564px; width:72px; height:18px; color:#CCCCCC; } #u92_img { position:absolute; left:0px; top:0px; width:72px; height:18px; } #u93 { position:absolute; left:0px; top:0px; width:72px; word-wrap:break-word; } #u94 { position:absolute; left:571px; top:550px; width:70px; height:30px; } #u94_img { position:absolute; left:0px; top:0px; width:70px; height:30px; } #u95 { position:absolute; left:2px; top:8px; width:66px; word-wrap:break-word; } #u96 { position:absolute; left:330px; top:598px; width:107px; height:66px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u96_img { position:absolute; left:0px; top:0px; width:107px; height:66px; } #u97 { position:absolute; left:2px; top:24px; width:103px; word-wrap:break-word; } #u98 { position:absolute; left:436px; top:598px; width:107px; height:66px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u98_img { position:absolute; left:0px; top:0px; width:107px; height:66px; } #u99 { position:absolute; left:2px; top:24px; width:103px; word-wrap:break-word; } #u100 { position:absolute; left:542px; top:598px; width:108px; height:66px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u100_img { position:absolute; left:0px; top:0px; width:108px; height:66px; } #u101 { position:absolute; left:2px; top:24px; width:104px; word-wrap:break-word; } #u102 { position:absolute; left:860px; top:94px; width:320px; height:570px; } #u102_img { position:absolute; left:0px; top:0px; width:320px; height:570px; } #u103 { position:absolute; left:2px; top:277px; width:316px; visibility:hidden; word-wrap:break-word; } #u104 { position:absolute; left:860px; top:94px; width:320px; height:60px; } #u104_img { position:absolute; left:0px; top:0px; width:320px; height:60px; } #u105 { position:absolute; left:2px; top:22px; width:316px; visibility:hidden; word-wrap:break-word; } #u106 { position:absolute; left:960px; top:113px; width:130px; height:19px; font-size:16px; } #u106_img { position:absolute; left:0px; top:0px; width:130px; height:19px; } #u107 { position:absolute; left:0px; top:0px; width:130px; white-space:nowrap; } #u108 { position:absolute; left:872px; top:168px; width:8px; height:18px; } #u108_img { position:absolute; left:0px; top:0px; width:8px; height:18px; } #u109 { position:absolute; left:0px; top:0px; width:8px; visibility:hidden; white-space:nowrap; } #u110 { position:absolute; left:872px; top:168px; width:8px; height:16px; } #u110_img { position:absolute; left:0px; top:0px; width:8px; height:16px; } #u111 { position:absolute; left:0px; top:0px; width:8px; visibility:hidden; white-space:nowrap; } #u112 { position:absolute; left:860px; top:158px; width:320px; height:99px; } #u112_img { position:absolute; left:0px; top:0px; width:320px; height:99px; } #u113 { position:absolute; left:2px; top:42px; width:316px; visibility:hidden; word-wrap:break-word; } #u114 { position:absolute; left:880px; top:171px; width:105px; height:18px; } #u114_img { position:absolute; left:0px; top:0px; width:105px; height:18px; } #u115 { position:absolute; left:0px; top:0px; width:105px; white-space:nowrap; } #u116 { position:absolute; left:860px; top:260px; width:320px; height:239px; color:#FFFFFF; } #u116_img { position:absolute; left:0px; top:0px; width:320px; height:239px; } #u117 { position:absolute; left:2px; top:110px; width:316px; word-wrap:break-word; } #u118 { position:absolute; left:860px; top:503px; width:161px; height:40px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u118_img { position:absolute; left:0px; top:0px; width:161px; height:40px; } #u119 { position:absolute; left:2px; top:11px; width:157px; word-wrap:break-word; } #u120 { position:absolute; left:1019px; top:503px; width:161px; height:40px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u120_img { position:absolute; left:0px; top:0px; width:161px; height:40px; } #u121 { position:absolute; left:2px; top:11px; width:157px; word-wrap:break-word; } #u122 { position:absolute; left:860px; top:614px; width:161px; height:50px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u122_img { position:absolute; left:0px; top:0px; width:161px; height:50px; } #u123 { position:absolute; left:2px; top:16px; width:157px; word-wrap:break-word; } #u124 { position:absolute; left:1019px; top:614px; width:161px; height:50px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u124_img { position:absolute; left:0px; top:0px; width:161px; height:50px; } #u125 { position:absolute; left:2px; top:16px; width:157px; word-wrap:break-word; } #u126 { position:absolute; left:869px; top:544px; width:40px; height:18px; } #u126_img { position:absolute; left:0px; top:0px; width:40px; height:18px; } #u127 { position:absolute; left:0px; top:0px; width:40px; white-space:nowrap; } #u128 { position:absolute; left:980px; top:544px; width:27px; height:18px; } #u128_img { position:absolute; left:0px; top:0px; width:27px; height:18px; } #u129 { position:absolute; left:0px; top:0px; width:27px; white-space:nowrap; } #u130 { position:absolute; left:1028px; top:544px; width:27px; height:18px; } #u130_img { position:absolute; left:0px; top:0px; width:27px; height:18px; } #u131 { position:absolute; left:0px; top:0px; width:27px; white-space:nowrap; } #u132 { position:absolute; left:1130px; top:545px; width:40px; height:18px; } #u132_img { position:absolute; left:0px; top:0px; width:40px; height:18px; } #u133 { position:absolute; left:0px; top:0px; width:40px; white-space:nowrap; } #u134 { position:absolute; left:860px; top:568px; width:320px; height:10px; } #u134_start { position:absolute; left:0px; top:-5px; width:18px; height:20px; } #u134_end { position:absolute; left:303px; top:-5px; width:18px; height:20px; } #u134_line { position:absolute; left:0px; top:5px; width:320px; height:1px; } #u135 { position:absolute; left:1090px; top:187px; width:82px; height:30px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u135_img { position:absolute; left:0px; top:0px; width:82px; height:30px; } #u136 { position:absolute; left:2px; top:6px; width:78px; word-wrap:break-word; } #u137 { position:absolute; left:1114px; top:114px; width:53px; height:18px; font-family:'PingFangSC-Medium', 'PingFang SC Medium', 'PingFang SC'; font-weight:500; font-style:normal; color:#000000; } #u137_img { position:absolute; left:0px; top:0px; width:53px; height:18px; } #u138 { position:absolute; left:0px; top:0px; width:53px; white-space:nowrap; } #u139 { position:absolute; left:1108px; top:166px; width:37px; height:15px; } #u139_img { position:absolute; left:0px; top:0px; width:37px; height:15px; } #u140 { position:absolute; left:0px; top:0px; width:37px; white-space:nowrap; } #u141 { position:absolute; left:595px; top:257px; width:30px; height:30px; } #u141_img { position:absolute; left:0px; top:0px; width:30px; height:30px; } #u142 { position:absolute; left:2px; top:7px; width:26px; visibility:hidden; word-wrap:break-word; } #u143 { position:absolute; left:623px; top:268px; width:237px; height:10px; } #u143_start { position:absolute; left:0px; top:-5px; width:18px; height:20px; } #u143_end { position:absolute; left:220px; top:-5px; width:18px; height:20px; } #u143_line { position:absolute; left:0px; top:4px; width:237px; height:3px; } #u144 { position:absolute; left:872px; top:115px; width:39px; height:18px; } #u144_img { position:absolute; left:0px; top:0px; width:39px; height:18px; } #u145 { position:absolute; left:0px; top:0px; width:39px; white-space:nowrap; } #u146 { position:absolute; left:330px; top:764px; width:320px; height:570px; } #u146_img { position:absolute; left:0px; top:0px; width:320px; height:570px; } #u147 { position:absolute; left:2px; top:277px; width:316px; visibility:hidden; word-wrap:break-word; } #u148 { position:absolute; left:330px; top:764px; width:320px; height:60px; } #u148_img { position:absolute; left:0px; top:0px; width:320px; height:60px; } #u149 { position:absolute; left:2px; top:22px; width:316px; visibility:hidden; word-wrap:break-word; } #u150 { position:absolute; left:458px; top:783px; width:65px; height:19px; font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; font-size:16px; } #u150_img { position:absolute; left:0px; top:0px; width:65px; height:19px; } #u151 { position:absolute; left:0px; top:0px; width:65px; white-space:nowrap; } #u152 { position:absolute; left:330px; top:1424px; width:320px; height:570px; } #u152_img { position:absolute; left:0px; top:0px; width:320px; height:570px; } #u153 { position:absolute; left:2px; top:277px; width:316px; visibility:hidden; word-wrap:break-word; } #u154 { position:absolute; left:330px; top:1424px; width:320px; height:60px; } #u154_img { position:absolute; left:0px; top:0px; width:320px; height:60px; } #u155 { position:absolute; left:2px; top:22px; width:316px; visibility:hidden; word-wrap:break-word; } #u156 { position:absolute; left:474px; top:1443px; width:33px; height:19px; font-family:'PingFangSC-Semibold', 'PingFang SC Semibold', 'PingFang SC'; font-weight:650; font-style:normal; font-size:16px; } #u156_img { position:absolute; left:0px; top:0px; width:33px; height:19px; } #u157 { position:absolute; left:0px; top:0px; width:33px; white-space:nowrap; } #u158 { position:absolute; left:330px; top:1488px; width:320px; height:90px; } #u158_img { position:absolute; left:0px; top:0px; width:320px; height:90px; } #u159 { position:absolute; left:2px; top:37px; width:316px; visibility:hidden; word-wrap:break-word; } #u160 { position:absolute; left:348px; top:1506px; width:53px; height:18px; } #u160_img { position:absolute; left:0px; top:0px; width:53px; height:18px; } #u161 { position:absolute; left:0px; top:0px; width:53px; white-space:nowrap; } #u162 { position:absolute; left:348px; top:1534px; width:40px; height:18px; } #u162_img { position:absolute; left:0px; top:0px; width:40px; height:18px; } #u163 { position:absolute; left:0px; top:0px; width:40px; white-space:nowrap; } #u164 { position:absolute; left:596px; top:1521px; width:9px; height:15px; } #u164_img { position:absolute; left:0px; top:0px; width:9px; height:15px; } #u165 { position:absolute; left:0px; top:0px; width:9px; white-space:nowrap; } #u166 { position:absolute; left:330px; top:1586px; width:320px; height:50px; } #u166_img { position:absolute; left:0px; top:0px; width:320px; height:50px; } #u167 { position:absolute; left:2px; top:17px; width:316px; visibility:hidden; word-wrap:break-word; } #u168 { position:absolute; left:348px; top:1602px; width:53px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u168_img { position:absolute; left:0px; top:0px; width:53px; height:18px; } #u169 { position:absolute; left:0px; top:0px; width:53px; white-space:nowrap; } #u170 { position:absolute; left:610px; top:1602px; width:19px; height:18px; } #u170_img { position:absolute; left:0px; top:0px; width:19px; height:18px; } #u171 { position:absolute; left:0px; top:0px; width:19px; word-wrap:break-word; } #u172 { position:absolute; left:553px; top:1600px; width:53px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; color:#999999; } #u172_img { position:absolute; left:0px; top:0px; width:53px; height:18px; } #u173 { position:absolute; left:0px; top:0px; width:53px; white-space:nowrap; } #u174 { position:absolute; left:330px; top:1684px; width:320px; height:50px; } #u174_img { position:absolute; left:0px; top:0px; width:320px; height:50px; } #u175 { position:absolute; left:2px; top:17px; width:316px; visibility:hidden; word-wrap:break-word; } #u176 { position:absolute; left:348px; top:1700px; width:53px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u176_img { position:absolute; left:0px; top:0px; width:53px; height:18px; } #u177 { position:absolute; left:0px; top:0px; width:53px; white-space:nowrap; } #u178 { position:absolute; left:610px; top:1700px; width:19px; height:18px; } #u178_img { position:absolute; left:0px; top:0px; width:19px; height:18px; } #u179 { position:absolute; left:0px; top:0px; width:19px; word-wrap:break-word; } #u180 { position:absolute; left:330px; top:1635px; width:320px; height:50px; } #u180_img { position:absolute; left:0px; top:0px; width:320px; height:50px; } #u181 { position:absolute; left:2px; top:17px; width:316px; visibility:hidden; word-wrap:break-word; } #u182 { position:absolute; left:348px; top:1652px; width:40px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u182_img { position:absolute; left:0px; top:0px; width:40px; height:18px; } #u183 { position:absolute; left:0px; top:0px; width:40px; white-space:nowrap; } #u184 { position:absolute; left:610px; top:1652px; width:19px; height:18px; } #u184_img { position:absolute; left:0px; top:0px; width:19px; height:18px; } #u185 { position:absolute; left:0px; top:0px; width:19px; word-wrap:break-word; } #u186 { position:absolute; left:330px; top:1850px; width:320px; height:50px; } #u186_img { position:absolute; left:0px; top:0px; width:320px; height:50px; } #u187 { position:absolute; left:2px; top:17px; width:316px; visibility:hidden; word-wrap:break-word; } #u188 { position:absolute; left:348px; top:1866px; width:53px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u188_img { position:absolute; left:0px; top:0px; width:53px; height:18px; } #u189 { position:absolute; left:0px; top:0px; width:53px; white-space:nowrap; } #u190 { position:absolute; left:610px; top:1866px; width:19px; height:18px; } #u190_img { position:absolute; left:0px; top:0px; width:19px; height:18px; } #u191 { position:absolute; left:0px; top:0px; width:19px; word-wrap:break-word; } #u192 { position:absolute; left:330px; top:1801px; width:320px; height:50px; } #u192_img { position:absolute; left:0px; top:0px; width:320px; height:50px; } #u193 { position:absolute; left:2px; top:17px; width:316px; visibility:hidden; word-wrap:break-word; } #u194 { position:absolute; left:348px; top:1818px; width:92px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u194_img { position:absolute; left:0px; top:0px; width:92px; height:18px; } #u195 { position:absolute; left:0px; top:0px; width:92px; white-space:nowrap; } #u196 { position:absolute; left:610px; top:1818px; width:19px; height:18px; } #u196_img { position:absolute; left:0px; top:0px; width:19px; height:18px; } #u197 { position:absolute; left:0px; top:0px; width:19px; word-wrap:break-word; } #u198 { position:absolute; left:330px; top:1899px; width:320px; height:50px; } #u198_img { position:absolute; left:0px; top:0px; width:320px; height:50px; } #u199 { position:absolute; left:2px; top:17px; width:316px; visibility:hidden; word-wrap:break-word; } #u200 { position:absolute; left:348px; top:1916px; width:27px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u200_img { position:absolute; left:0px; top:0px; width:27px; height:18px; } #u201 { position:absolute; left:0px; top:0px; width:27px; white-space:nowrap; } #u202 { position:absolute; left:610px; top:1916px; width:19px; height:18px; } #u202_img { position:absolute; left:0px; top:0px; width:19px; height:18px; } #u203 { position:absolute; left:0px; top:0px; width:19px; word-wrap:break-word; } #u204 { position:absolute; left:330px; top:1928px; width:107px; height:66px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u204_img { position:absolute; left:0px; top:0px; width:107px; height:66px; } #u205 { position:absolute; left:2px; top:24px; width:103px; word-wrap:break-word; } #u206 { position:absolute; left:436px; top:1928px; width:107px; height:66px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u206_img { position:absolute; left:0px; top:0px; width:107px; height:66px; } #u207 { position:absolute; left:2px; top:24px; width:103px; word-wrap:break-word; } #u208 { position:absolute; left:542px; top:1928px; width:108px; height:66px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u208_img { position:absolute; left:0px; top:0px; width:108px; height:66px; } #u209 { position:absolute; left:2px; top:24px; width:104px; word-wrap:break-word; } #u210 { position:absolute; left:330px; top:855px; width:320px; height:114px; } #u210_img { position:absolute; left:0px; top:0px; width:320px; height:114px; } #u211 { position:absolute; left:2px; top:49px; width:316px; visibility:hidden; word-wrap:break-word; } #u212 { position:absolute; left:342px; top:833px; width:53px; height:18px; font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; } #u212_img { position:absolute; left:0px; top:0px; width:53px; height:18px; } #u213 { position:absolute; left:0px; top:0px; width:53px; white-space:nowrap; } #u214 { position:absolute; left:342px; top:870px; width:113px; height:18px; } #u214_img { position:absolute; left:0px; top:0px; width:113px; height:18px; } #u215 { position:absolute; left:0px; top:0px; width:113px; white-space:nowrap; } #u216 { position:absolute; left:342px; top:898px; width:128px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u216_img { position:absolute; left:0px; top:0px; width:128px; height:18px; } #u217 { position:absolute; left:0px; top:0px; width:128px; white-space:nowrap; } #u218 { position:absolute; left:342px; top:922px; width:128px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u218_img { position:absolute; left:0px; top:0px; width:128px; height:18px; } #u219 { position:absolute; left:0px; top:0px; width:128px; white-space:nowrap; } #u220 { position:absolute; left:559px; top:898px; width:70px; height:18px; } #u220_img { position:absolute; left:0px; top:0px; width:70px; height:18px; } #u221 { position:absolute; left:0px; top:0px; width:70px; word-wrap:break-word; } #u222 { position:absolute; left:330px; top:1044px; width:320px; height:100px; } #u222_img { position:absolute; left:0px; top:0px; width:320px; height:100px; } #u223 { position:absolute; left:2px; top:42px; width:316px; visibility:hidden; word-wrap:break-word; } #u224 { position:absolute; left:341px; top:1022px; width:66px; height:18px; font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; } #u224_img { position:absolute; left:0px; top:0px; width:66px; height:18px; } #u225 { position:absolute; left:0px; top:0px; width:66px; white-space:nowrap; } #u226 { position:absolute; left:342px; top:1059px; width:113px; height:18px; } #u226_img { position:absolute; left:0px; top:0px; width:113px; height:18px; } #u227 { position:absolute; left:0px; top:0px; width:113px; white-space:nowrap; } #u228 { position:absolute; left:342px; top:1087px; width:128px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u228_img { position:absolute; left:0px; top:0px; width:128px; height:18px; } #u229 { position:absolute; left:0px; top:0px; width:128px; white-space:nowrap; } #u230 { position:absolute; left:342px; top:1111px; width:128px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u230_img { position:absolute; left:0px; top:0px; width:128px; height:18px; } #u231 { position:absolute; left:0px; top:0px; width:128px; white-space:nowrap; } #u232 { position:absolute; left:330px; top:1268px; width:107px; height:66px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u232_img { position:absolute; left:0px; top:0px; width:107px; height:66px; } #u233 { position:absolute; left:2px; top:24px; width:103px; word-wrap:break-word; } #u234 { position:absolute; left:436px; top:1268px; width:107px; height:66px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u234_img { position:absolute; left:0px; top:0px; width:107px; height:66px; } #u235 { position:absolute; left:2px; top:24px; width:103px; word-wrap:break-word; } #u236 { position:absolute; left:542px; top:1268px; width:108px; height:66px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u236_img { position:absolute; left:0px; top:0px; width:108px; height:66px; } #u237 { position:absolute; left:2px; top:24px; width:104px; word-wrap:break-word; } #u238 { position:absolute; left:330px; top:1143px; width:107px; height:41px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u238_img { position:absolute; left:0px; top:0px; width:107px; height:41px; } #u239 { position:absolute; left:2px; top:12px; width:103px; word-wrap:break-word; } #u240 { position:absolute; left:436px; top:1143px; width:107px; height:41px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u240_img { position:absolute; left:0px; top:0px; width:107px; height:41px; } #u241 { position:absolute; left:2px; top:12px; width:103px; word-wrap:break-word; } #u242 { position:absolute; left:542px; top:1143px; width:108px; height:41px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u242_img { position:absolute; left:0px; top:0px; width:108px; height:41px; } #u243 { position:absolute; left:2px; top:12px; width:104px; word-wrap:break-word; } #u244 { position:absolute; left:553px; top:1087px; width:70px; height:18px; } #u244_img { position:absolute; left:0px; top:0px; width:70px; height:18px; } #u245 { position:absolute; left:0px; top:0px; width:70px; word-wrap:break-word; } #u246 { position:absolute; left:330px; top:968px; width:161px; height:41px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u246_img { position:absolute; left:0px; top:0px; width:161px; height:41px; } #u247 { position:absolute; left:2px; top:12px; width:157px; word-wrap:break-word; } #u248 { position:absolute; left:489px; top:968px; width:161px; height:41px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u248_img { position:absolute; left:0px; top:0px; width:161px; height:41px; } #u249 { position:absolute; left:2px; top:12px; width:157px; word-wrap:break-word; } #u250 { position:absolute; left:567px; top:833px; width:65px; height:18px; color:#0033FF; } #u250_img { position:absolute; left:0px; top:0px; width:65px; height:18px; } #u251 { position:absolute; left:0px; top:0px; width:65px; white-space:nowrap; } #u252 { position:absolute; left:567px; top:1022px; width:65px; height:18px; color:#0033FF; } #u252_img { position:absolute; left:0px; top:0px; width:65px; height:18px; } #u253 { position:absolute; left:0px; top:0px; width:65px; white-space:nowrap; } #u254 { position:absolute; left:629px; top:892px; width:30px; height:30px; } #u254_img { position:absolute; left:0px; top:0px; width:30px; height:30px; } #u255 { position:absolute; left:2px; top:7px; width:26px; visibility:hidden; word-wrap:break-word; } #u256 { position:absolute; left:657px; top:903px; width:127px; height:10px; } #u256_start { position:absolute; left:0px; top:-5px; width:18px; height:20px; } #u256_end { position:absolute; left:110px; top:-5px; width:18px; height:20px; } #u256_line { position:absolute; left:0px; top:4px; width:127px; height:3px; } #u257 { position:absolute; left:632px; top:835px; width:298px; height:10px; } #u257_start { position:absolute; left:0px; top:-5px; width:18px; height:20px; } #u257_end { position:absolute; left:281px; top:-5px; width:18px; height:20px; } #u257_line { position:absolute; left:0px; top:4px; width:298px; height:3px; } #u258 { position:absolute; left:694px; top:817px; width:183px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u258_img { position:absolute; left:0px; top:0px; width:183px; height:18px; } #u259 { position:absolute; left:0px; top:0px; width:183px; white-space:nowrap; } #u260 { position:absolute; left:728px; top:885px; width:144px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u260_img { position:absolute; left:0px; top:0px; width:144px; height:18px; } #u261 { position:absolute; left:0px; top:0px; width:144px; white-space:nowrap; } #u262 { position:absolute; left:632px; top:984px; width:127px; height:10px; } #u262_start { position:absolute; left:0px; top:-5px; width:18px; height:20px; } #u262_end { position:absolute; left:110px; top:-5px; width:18px; height:20px; } #u262_line { position:absolute; left:0px; top:4px; width:127px; height:3px; } #u263 { position:absolute; left:700px; top:968px; width:118px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u263_img { position:absolute; left:0px; top:0px; width:118px; height:18px; } #u264 { position:absolute; left:0px; top:0px; width:118px; white-space:nowrap; } #u265 { position:absolute; left:613px; top:1034px; width:127px; height:10px; } #u265_start { position:absolute; left:0px; top:-5px; width:18px; height:20px; } #u265_end { position:absolute; left:110px; top:-5px; width:18px; height:20px; } #u265_line { position:absolute; left:0px; top:4px; width:127px; height:3px; } #u266 { position:absolute; left:675px; top:1016px; width:196px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u266_img { position:absolute; left:0px; top:0px; width:196px; height:18px; } #u267 { position:absolute; left:0px; top:0px; width:196px; white-space:nowrap; } #u268 { position:absolute; left:614px; top:1097px; width:30px; height:30px; } #u268_img { position:absolute; left:0px; top:0px; width:30px; height:30px; } #u269 { position:absolute; left:2px; top:7px; width:26px; visibility:hidden; word-wrap:break-word; } #u270 { position:absolute; left:641px; top:1105px; width:127px; height:10px; } #u270_start { position:absolute; left:0px; top:-5px; width:18px; height:20px; } #u270_end { position:absolute; left:110px; top:-5px; width:18px; height:20px; } #u270_line { position:absolute; left:0px; top:4px; width:127px; height:3px; } #u271 { position:absolute; left:712px; top:1087px; width:157px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u271_img { position:absolute; left:0px; top:0px; width:157px; height:18px; } #u272 { position:absolute; left:0px; top:0px; width:157px; white-space:nowrap; } #u273 { position:absolute; left:506px; top:1169px; width:234px; height:10px; } #u273_start { position:absolute; left:0px; top:-5px; width:18px; height:20px; } #u273_end { position:absolute; left:217px; top:-5px; width:18px; height:20px; } #u273_line { position:absolute; left:0px; top:4px; width:234px; height:3px; } #u274 { position:absolute; left:700px; top:1150px; width:79px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u274_img { position:absolute; left:0px; top:0px; width:79px; height:18px; } #u275 { position:absolute; left:0px; top:0px; width:79px; white-space:nowrap; } #u276 { position:absolute; left:87px; top:442px; width:173px; height:238px; } #u276_img { position:absolute; left:0px; top:0px; width:173px; height:238px; } #u277 { position:absolute; left:0px; top:0px; width:173px; visibility:hidden; word-wrap:break-word; } #u278 { position:absolute; left:672px; top:-101px; width:173px; height:238px; } #u278_img { position:absolute; left:0px; top:0px; width:173px; height:238px; } #u279 { position:absolute; left:0px; top:0px; width:173px; visibility:hidden; word-wrap:break-word; } #u280 { position:absolute; left:1208px; top:204px; width:173px; height:238px; } #u280_img { position:absolute; left:0px; top:0px; width:173px; height:238px; } #u281 { position:absolute; left:0px; top:0px; width:173px; visibility:hidden; word-wrap:break-word; } #u282 { position:absolute; left:1167px; top:528px; width:173px; height:238px; } #u282_img { position:absolute; left:0px; top:0px; width:173px; height:238px; } #u283 { position:absolute; left:0px; top:0px; width:173px; visibility:hidden; word-wrap:break-word; } #u284 { position:absolute; left:1337px; top:855px; width:173px; height:238px; } #u284_img { position:absolute; left:0px; top:0px; width:173px; height:238px; } #u285 { position:absolute; left:0px; top:0px; width:173px; visibility:hidden; word-wrap:break-word; } #u286 { position:absolute; left:712px; top:2062px; width:173px; height:238px; } #u286_img { position:absolute; left:0px; top:0px; width:173px; height:238px; } #u287 { position:absolute; left:0px; top:0px; width:173px; visibility:hidden; word-wrap:break-word; } #u288 { position:absolute; left:930px; top:764px; width:320px; height:570px; } #u288_img { position:absolute; left:0px; top:0px; width:320px; height:570px; } #u289 { position:absolute; left:2px; top:277px; width:316px; visibility:hidden; word-wrap:break-word; } #u290 { position:absolute; left:930px; top:823px; width:320px; height:37px; } #u290_img { position:absolute; left:0px; top:0px; width:320px; height:37px; } #u291 { position:absolute; left:2px; top:10px; width:316px; visibility:hidden; word-wrap:break-word; } #u292 { position:absolute; left:930px; top:764px; width:320px; height:60px; } #u292_img { position:absolute; left:0px; top:0px; width:320px; height:60px; } #u293 { position:absolute; left:2px; top:22px; width:316px; visibility:hidden; word-wrap:break-word; } #u294 { position:absolute; left:950px; top:787px; width:41px; height:20px; font-size:14px; } #u294_img { position:absolute; left:0px; top:0px; width:41px; height:20px; } #u295 { position:absolute; left:0px; top:0px; width:41px; white-space:nowrap; } #u296 { position:absolute; left:1056px; top:784px; width:93px; height:20px; font-family:'PingFangSC-Semibold', 'PingFang SC Semibold', 'PingFang SC'; font-weight:650; font-style:normal; font-size:14px; } #u296_img { position:absolute; left:0px; top:0px; width:93px; height:20px; } #u297 { position:absolute; left:0px; top:0px; width:93px; white-space:nowrap; } #u298 { position:absolute; left:940px; top:831px; width:27px; height:18px; font-family:'Silom', 'Silom'; font-weight:700; font-style:normal; color:#1E1E1E; } #u298_img { position:absolute; left:0px; top:0px; width:27px; height:18px; } #u299 { position:absolute; left:0px; top:0px; width:27px; white-space:nowrap; } #u300 { position:absolute; left:998px; top:831px; width:27px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u300_img { position:absolute; left:0px; top:0px; width:27px; height:18px; } #u301 { position:absolute; left:0px; top:0px; width:27px; white-space:nowrap; } #u302 { position:absolute; left:1056px; top:832px; width:27px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u302_img { position:absolute; left:0px; top:0px; width:27px; height:18px; } #u303 { position:absolute; left:0px; top:0px; width:27px; white-space:nowrap; } #u304 { position:absolute; left:930px; top:863px; width:320px; height:80px; } #u304_img { position:absolute; left:0px; top:0px; width:320px; height:80px; } #u305 { position:absolute; left:2px; top:32px; width:316px; visibility:hidden; word-wrap:break-word; } #u306 { position:absolute; left:940px; top:875px; width:50px; height:50px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u306_img { position:absolute; left:0px; top:0px; width:50px; height:50px; } #u307 { position:absolute; left:2px; top:16px; width:46px; word-wrap:break-word; } #u308 { position:absolute; left:930px; top:947px; width:320px; height:80px; } #u308_img { position:absolute; left:0px; top:0px; width:320px; height:80px; } #u309 { position:absolute; left:2px; top:32px; width:316px; visibility:hidden; word-wrap:break-word; } #u310 { position:absolute; left:940px; top:959px; width:50px; height:50px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u310_img { position:absolute; left:0px; top:0px; width:50px; height:50px; } #u311 { position:absolute; left:2px; top:16px; width:46px; word-wrap:break-word; } #u312 { position:absolute; left:1184px; top:966px; width:59px; height:1px; font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; font-size:16px; color:#FF6600; } #u312_img { position:absolute; left:0px; top:0px; width:59px; height:1px; } #u313 { position:absolute; left:0px; top:0px; width:59px; white-space:nowrap; } #u314 { position:absolute; left:998px; top:966px; width:86px; height:18px; } #u314_img { position:absolute; left:0px; top:0px; width:86px; height:18px; } #u315 { position:absolute; left:0px; top:0px; width:86px; white-space:nowrap; } #u316 { position:absolute; left:998px; top:909px; width:200px; height:15px; color:#999999; } #u316_img { position:absolute; left:0px; top:0px; width:200px; height:15px; } #u317 { position:absolute; left:0px; top:0px; width:200px; word-wrap:break-word; } #u318 { position:absolute; left:998px; top:875px; width:27px; height:18px; } #u318_img { position:absolute; left:0px; top:0px; width:27px; height:18px; } #u319 { position:absolute; left:0px; top:0px; width:27px; white-space:nowrap; } #u320 { position:absolute; left:1180px; top:875px; width:71px; height:24px; font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; font-size:16px; } #u320_img { position:absolute; left:0px; top:0px; width:71px; height:24px; } #u321 { position:absolute; left:0px; top:0px; width:71px; white-space:nowrap; } #u322 { position:absolute; left:998px; top:995px; width:200px; height:15px; color:#999999; } #u322_img { position:absolute; left:0px; top:0px; width:200px; height:15px; } #u323 { position:absolute; left:0px; top:0px; width:200px; word-wrap:break-word; } #u324 { position:absolute; left:930px; top:1031px; width:320px; height:80px; } #u324_img { position:absolute; left:0px; top:0px; width:320px; height:80px; } #u325 { position:absolute; left:2px; top:32px; width:316px; visibility:hidden; word-wrap:break-word; } #u326 { position:absolute; left:940px; top:1043px; width:50px; height:50px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u326_img { position:absolute; left:0px; top:0px; width:50px; height:50px; } #u327 { position:absolute; left:2px; top:16px; width:46px; word-wrap:break-word; } #u328 { position:absolute; left:998px; top:1050px; width:86px; height:18px; } #u328_img { position:absolute; left:0px; top:0px; width:86px; height:18px; } #u329 { position:absolute; left:0px; top:0px; width:86px; white-space:nowrap; } #u330 { position:absolute; left:998px; top:1079px; width:200px; height:15px; color:#999999; } #u330_img { position:absolute; left:0px; top:0px; width:200px; height:15px; } #u331 { position:absolute; left:0px; top:0px; width:200px; word-wrap:break-word; } #u332 { position:absolute; left:1188px; top:1053px; width:59px; height:24px; font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; font-size:16px; } #u332_img { position:absolute; left:0px; top:0px; width:59px; height:24px; } #u333 { position:absolute; left:0px; top:0px; width:59px; white-space:nowrap; } #u334 { position:absolute; left:930px; top:1115px; width:320px; height:80px; } #u334_img { position:absolute; left:0px; top:0px; width:320px; height:80px; } #u335 { position:absolute; left:2px; top:32px; width:316px; visibility:hidden; word-wrap:break-word; } #u336 { position:absolute; left:940px; top:1127px; width:50px; height:50px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u336_img { position:absolute; left:0px; top:0px; width:50px; height:50px; } #u337 { position:absolute; left:2px; top:16px; width:46px; word-wrap:break-word; } #u338 { position:absolute; left:998px; top:1134px; width:92px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u338_img { position:absolute; left:0px; top:0px; width:92px; height:18px; } #u339 { position:absolute; left:0px; top:0px; width:92px; white-space:nowrap; } #u340 { position:absolute; left:998px; top:1163px; width:200px; height:15px; color:#999999; } #u340_img { position:absolute; left:0px; top:0px; width:200px; height:15px; } #u341 { position:absolute; left:0px; top:0px; width:200px; word-wrap:break-word; } #u342 { position:absolute; left:1184px; top:1135px; width:59px; height:1px; font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; font-size:16px; color:#FF6600; } #u342_img { position:absolute; left:0px; top:0px; width:59px; height:1px; } #u343 { position:absolute; left:0px; top:0px; width:59px; white-space:nowrap; } #u344 { position:absolute; left:930px; top:1201px; width:320px; height:80px; } #u344_img { position:absolute; left:0px; top:0px; width:320px; height:80px; } #u345 { position:absolute; left:2px; top:32px; width:316px; visibility:hidden; word-wrap:break-word; } #u346 { position:absolute; left:940px; top:1213px; width:50px; height:50px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u346_img { position:absolute; left:0px; top:0px; width:50px; height:50px; } #u347 { position:absolute; left:2px; top:16px; width:46px; word-wrap:break-word; } #u348 { position:absolute; left:998px; top:1220px; width:105px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u348_img { position:absolute; left:0px; top:0px; width:105px; height:18px; } #u349 { position:absolute; left:0px; top:0px; width:105px; white-space:nowrap; } #u350 { position:absolute; left:998px; top:1249px; width:200px; height:15px; color:#999999; } #u350_img { position:absolute; left:0px; top:0px; width:200px; height:15px; } #u351 { position:absolute; left:0px; top:0px; width:200px; word-wrap:break-word; } #u352 { position:absolute; left:1183px; top:1220px; width:63px; height:24px; font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; font-size:16px; } #u352_img { position:absolute; left:0px; top:0px; width:63px; height:24px; } #u353 { position:absolute; left:0px; top:0px; width:63px; white-space:nowrap; } #u354 { position:absolute; left:1194px; top:909px; width:40px; height:18px; } #u354_img { position:absolute; left:0px; top:0px; width:40px; height:18px; } #u355 { position:absolute; left:0px; top:0px; width:40px; white-space:nowrap; } #u356 { position:absolute; left:1198px; top:994px; width:40px; height:18px; } #u356_img { position:absolute; left:0px; top:0px; width:40px; height:18px; } #u357 { position:absolute; left:0px; top:0px; width:40px; white-space:nowrap; } #u358 { position:absolute; left:330px; top:1753px; width:320px; height:50px; } #u358_img { position:absolute; left:0px; top:0px; width:320px; height:50px; } #u359 { position:absolute; left:2px; top:17px; width:316px; visibility:hidden; word-wrap:break-word; } #u360 { position:absolute; left:348px; top:1769px; width:53px; height:18px; font-family:'PingFangSC-Regular', 'PingFang SC'; font-weight:400; font-style:normal; } #u360_img { position:absolute; left:0px; top:0px; width:53px; height:18px; } #u361 { position:absolute; left:0px; top:0px; width:53px; white-space:nowrap; } #u362 { position:absolute; left:610px; top:1769px; width:19px; height:18px; } #u362_img { position:absolute; left:0px; top:0px; width:19px; height:18px; } #u363 { position:absolute; left:0px; top:0px; width:19px; word-wrap:break-word; } #u364 { position:absolute; left:629px; top:1757px; width:30px; height:30px; } #u364_img { position:absolute; left:0px; top:0px; width:30px; height:30px; } #u365 { position:absolute; left:2px; top:7px; width:26px; visibility:hidden; word-wrap:break-word; } #u366 { position:absolute; left:657px; top:1768px; width:252px; height:10px; } #u366_start { position:absolute; left:0px; top:-5px; width:18px; height:20px; } #u366_end { position:absolute; left:235px; top:-5px; width:18px; height:20px; } #u366_line { position:absolute; left:0px; top:4px; width:252px; height:3px; } #u367 { position:absolute; left:1146px; top:1177px; width:173px; height:238px; } #u367_img { position:absolute; left:0px; top:0px; width:173px; height:238px; } #u368 { position:absolute; left:0px; top:0px; width:173px; visibility:hidden; word-wrap:break-word; } #u369 { position:absolute; left:1287px; top:1505px; width:173px; height:238px; } #u369_img { position:absolute; left:0px; top:0px; width:173px; height:238px; } #u370 { position:absolute; left:0px; top:0px; width:173px; visibility:hidden; word-wrap:break-word; } #u371 { position:absolute; left:909px; top:1413px; width:320px; height:570px; } #u371_img { position:absolute; left:0px; top:0px; width:320px; height:570px; } #u372 { position:absolute; left:2px; top:277px; width:316px; visibility:hidden; word-wrap:break-word; } #u373 { position:absolute; left:909px; top:1413px; width:320px; height:60px; } #u373_img { position:absolute; left:0px; top:0px; width:320px; height:60px; } #u374 { position:absolute; left:2px; top:22px; width:316px; visibility:hidden; word-wrap:break-word; } #u375 { position:absolute; left:929px; top:1436px; width:41px; height:20px; font-size:14px; } #u375_img { position:absolute; left:0px; top:0px; width:41px; height:20px; } #u376 { position:absolute; left:0px; top:0px; width:41px; white-space:nowrap; } #u377 { position:absolute; left:1035px; top:1433px; width:57px; height:20px; font-family:'PingFangSC-Semibold', 'PingFang SC Semibold', 'PingFang SC'; font-weight:650; font-style:normal; font-size:14px; } #u377_img { position:absolute; left:0px; top:0px; width:57px; height:20px; } #u378 { position:absolute; left:0px; top:0px; width:57px; white-space:nowrap; } #u379 { position:absolute; left:909px; top:1483px; width:320px; height:80px; } #u379_img { position:absolute; left:0px; top:0px; width:320px; height:80px; } #u380 { position:absolute; left:2px; top:32px; width:316px; visibility:hidden; word-wrap:break-word; } #u381 { position:absolute; left:909px; top:1567px; width:320px; height:80px; } #u381_img { position:absolute; left:0px; top:0px; width:320px; height:80px; } #u382 { position:absolute; left:2px; top:32px; width:316px; visibility:hidden; word-wrap:break-word; } #u383 { position:absolute; left:940px; top:1526px; width:200px; height:15px; color:#999999; } #u383_img { position:absolute; left:0px; top:0px; width:200px; height:15px; } #u384 { position:absolute; left:0px; top:0px; width:200px; word-wrap:break-word; } #u385 { position:absolute; left:929px; top:1492px; width:170px; height:18px; } #u385_img { position:absolute; left:0px; top:0px; width:170px; height:18px; } #u386 { position:absolute; left:0px; top:0px; width:170px; white-space:nowrap; } #u387 { position:absolute; left:909px; top:1651px; width:320px; height:80px; } #u387_img { position:absolute; left:0px; top:0px; width:320px; height:80px; } #u388 { position:absolute; left:2px; top:32px; width:316px; visibility:hidden; word-wrap:break-word; } #u389 { position:absolute; left:909px; top:1735px; width:320px; height:80px; } #u389_img { position:absolute; left:0px; top:0px; width:320px; height:80px; } #u390 { position:absolute; left:2px; top:32px; width:316px; visibility:hidden; word-wrap:break-word; } #u391 { position:absolute; left:909px; top:1821px; width:320px; height:80px; } #u391_img { position:absolute; left:0px; top:0px; width:320px; height:80px; } #u392 { position:absolute; left:2px; top:32px; width:316px; visibility:hidden; word-wrap:break-word; } #u393 { position:absolute; left:941px; top:1616px; width:200px; height:15px; color:#999999; } #u393_img { position:absolute; left:0px; top:0px; width:200px; height:15px; } #u394 { position:absolute; left:0px; top:0px; width:200px; word-wrap:break-word; } #u395 { position:absolute; left:930px; top:1582px; width:170px; height:18px; } #u395_img { position:absolute; left:0px; top:0px; width:170px; height:18px; } #u396 { position:absolute; left:0px; top:0px; width:170px; white-space:nowrap; } #u397 { position:absolute; left:941px; top:1700px; width:200px; height:15px; color:#999999; } #u397_img { position:absolute; left:0px; top:0px; width:200px; height:15px; } #u398 { position:absolute; left:0px; top:0px; width:200px; word-wrap:break-word; } #u399 { position:absolute; left:930px; top:1666px; width:170px; height:18px; } #u399_img { position:absolute; left:0px; top:0px; width:170px; height:18px; } #u400 { position:absolute; left:0px; top:0px; width:170px; white-space:nowrap; } #u401 { position:absolute; left:941px; top:1784px; width:200px; height:15px; color:#999999; } #u401_img { position:absolute; left:0px; top:0px; width:200px; height:15px; } #u402 { position:absolute; left:0px; top:0px; width:200px; word-wrap:break-word; } #u403 { position:absolute; left:930px; top:1750px; width:170px; height:18px; } #u403_img { position:absolute; left:0px; top:0px; width:170px; height:18px; } #u404 { position:absolute; left:0px; top:0px; width:170px; white-space:nowrap; } #u405 { position:absolute; left:941px; top:1870px; width:200px; height:15px; color:#999999; } #u405_img { position:absolute; left:0px; top:0px; width:200px; height:15px; } #u406 { position:absolute; left:0px; top:0px; width:200px; word-wrap:break-word; } #u407 { position:absolute; left:930px; top:1836px; width:170px; height:18px; } #u407_img { position:absolute; left:0px; top:0px; width:170px; height:18px; } #u408 { position:absolute; left:0px; top:0px; width:170px; white-space:nowrap; }]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Ffiles%2F%E4%BA%A4%E6%98%93%E6%89%80--%E4%BA%A7%E5%93%81%E7%AB%AF%E4%BF%AE%E6%94%B9%2Fdata%2F</url>
    <content type="text"><![CDATA[$axure.loadCurrentPage( (function() { var _ = function() { var r={},a=arguments; for(var i=0; i]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fdata%2Fstyles%2F</url>
    <content type="text"><![CDATA[.ax_形状 { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#333333; text-align:center; line-height:normal; } .ax_文本段落 { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#333333; text-align:left; line-height:normal; } .ax_h1 { font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; font-size:32px; color:#333333; text-align:left; line-height:normal; } .ax_h2 { font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; font-size:24px; color:#333333; text-align:left; line-height:normal; } .ax_h3 { font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; font-size:18px; color:#333333; text-align:left; line-height:normal; } .ax_h4 { font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; font-size:14px; color:#333333; text-align:left; line-height:normal; } .ax_h5 { font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; font-size:13px; color:#333333; text-align:left; line-height:normal; } .ax_h6 { font-family:'Arial-BoldMT', 'Arial Bold', 'Arial'; font-weight:700; font-style:normal; font-size:10px; color:#333333; text-align:left; line-height:normal; } .ax_image { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#000000; text-align:center; line-height:normal; } .ax_文本链接 { color:#0000FF; } .ax_鼠标悬停文本链接时 { } .ax_鼠标按下文本链接时 { } .ax_文本框 { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#000000; text-align:left; line-height:normal; } .ax_多行文本框 { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#000000; text-align:left; line-height:normal; } .ax_下拉列表框 { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#000000; text-align:left; line-height:normal; } .ax_列表框 { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#000000; text-align:left; line-height:normal; } .ax_复选框 { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#333333; text-align:left; line-height:normal; } .ax_单选按钮 { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#333333; text-align:left; line-height:normal; } .ax_流程形状 { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#333333; text-align:center; line-height:normal; } .ax_tree_node { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#333333; text-align:left; line-height:normal; } .ax_提交按钮 { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#000000; text-align:center; line-height:normal; } .ax_热区 { font-size:13px; color:#333333; text-align:center; line-height:normal; } .ax_内联框架 { font-size:13px; color:#333333; text-align:center; line-height:normal; } .ax_动态面板 { font-size:13px; color:#333333; text-align:center; line-height:normal; } .ax_master { font-size:13px; color:#333333; text-align:center; line-height:normal; } .ax_中继器 { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#333333; text-align:center; line-height:normal; } .ax_表格 { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#333333; text-align:center; line-height:normal; } .ax_单元格 { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#333333; text-align:left; line-height:normal; } .ax_菜单 { font-size:13px; color:#000000; text-align:center; line-height:normal; } .ax_水平线 { font-size:13px; color:#333333; text-align:center; line-height:normal; } .ax_垂直线 { font-size:13px; color:#333333; text-align:center; line-height:normal; } .ax_connector { font-family:'ArialMT', 'Arial'; font-weight:400; font-style:normal; font-size:13px; color:#333333; text-align:center; line-height:normal; }]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fdata%2Fdocument%2F</url>
    <content type="text"><![CDATA[$axure.loadDocument( (function() { var _ = function() { var r={},a=arguments; for(var i=0; i]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2F%E4%BA%A4%E6%98%93%E6%89%80--%E4%BA%A7%E5%93%81%E7%AB%AF%E4%BF%AE%E6%94%B9%2F</url>
    <content type="text"><![CDATA[交易所--产品端修改 $axure.utils.getTransparentGifPath = function() { return 'resources/images/transparent.gif'; }; $axure.utils.getOtherPath = function() { return 'resources/Other.html'; }; $axure.utils.getReloadPath = function() { return 'resources/reload.html'; }; ATMEX&nbsp; ICON 🔍 合约交易 icon BTC 比特币 24小时成交额 $成交价格 ￥成交价格 -10.34% 秒合约交易 icon BTC 比特币 24小时成交额 $成交价格 ￥成交价格 -10.34% icon ETH 以太坊 24小时成交额 $成交价格 ￥成交价格 +1.34% icon eos 比特币 24小时成交额 $成交价格 ￥成交价格 -10.34% 交易公告：***************12344接班 ❎ icon eos 比特币 24小时成交额 $成交价格 ￥成交价格 -10.34% 交易 资产 我的 BTC（合约交易） 实时价格显示区域 实时k线显示区域 委托订单 最新成交 买入BTC 卖出BTC 买入量 价格 价格 卖出量 充币 我的持仓 0 usdt &lt; 返回 我的资产 我的 用户名称 手机号 &gt; 我的资产 &gt; 充值提现 忘记密码 &gt; 银行卡 &gt; 关于我们 &gt; 我的推广二维码 &gt; 设置 &gt; 交易 资产 我的 合约账户 总额：￥165788.39 可用余额：￥2767.38 下单冻结：￥2767.38 查看持仓&nbsp; &gt; 秒合约账户 总额：￥165788.39 可用余额：￥2767.38 下单冻结：￥2767.38 交易 资产 我的 充币 提币 转至[合约资产] 查看持仓&nbsp; &gt; 充币 转至[秒合约账户] 账单记录 &gt; 账单记录 &gt; 查看合约账户的入账、出账记录 跳转合约账户的持仓页面 弹窗：输入转账金额 查看秒合约账户的入账、出账记录 跳转秒合约账户的持仓页面 跳转提币页面 &lt; 返回 账单记录-合约 全部 支出 收入 icon icon - $12.02 合约交易记录1 2018-09-23 20:23 充值 + $12.02 2018-09-23 20:23 icon 合约交易记录2 2018-09-23 20:23 +$12.02 icon 转至秒合约账户 2018-09-23 20:23 - $12.02 icon 由秒合约账户转入 2018-09-23 20:23 + $12.02 冻结中 冻结中 系统通知 &gt; &lt; 返回 系统通知 2018-09-23 20:23 【这里是通知标题】通知内容 2018-09-23 20:23 【这里是通知标题】通知内容 2018-09-23 20:23 【这里是通知标题】通知内容 2018-09-23 20:23 【这里是通知标题】通知内容 2018-09-23 20:23 【这里是通知标题】通知内容]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fstart_c_1%2F</url>
    <content type="text"><![CDATA[self.location.href = "start.html#c=1";]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Fstart%2F</url>
    <content type="text"><![CDATA[Untitled Document if (location.href.toString().indexOf('file://localhost/') == 0) { location.href = location.href.toString().replace('file://localhost/', 'file:///'); } #outerContainer { width:1000px; height:1500px; } .vsplitbar { width: 3px; background: #B9B9B9; } #rightPanel { background-color: White; } #leftPanel { /*min-width: 190px;*/ } .splitterMask { position:absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; background-image: url(resources/images/transparent.gif); z-index: 20000; } &nbsp; &nbsp;]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2F%E5%8E%9F%E5%9E%8B%2Findex%2F</url>
    <content type="text"><![CDATA[Untitled Document if (location.href.toString().indexOf('file://localhost/') == 0) { location.href = location.href.toString().replace('file://localhost/', 'file:///'); } #outerContainer { width:1000px; height:1500px; } .vsplitbar { width: 3px; background: #B9B9B9; } #rightPanel { background-color: White; } #leftPanel { /*min-width: 190px;*/ } .splitterMask { position:absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; background-image: url(resources/images/transparent.gif); z-index: 20000; } &nbsp; &nbsp;]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E9%93%B6%E8%A1%8C%E5%8D%A1%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E9%87%8D%E7%BD%AE%E5%AF%86%E7%A0%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E9%80%80%E5%87%BA%E8%B4%A6%E5%8F%B7%E7%A1%AE%E8%AE%A4%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E8%B5%84%E4%BA%A7-%E5%88%92%E8%BD%AC%E5%BC%B9%E7%AA%97%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E8%B4%A6%E5%8D%95%E5%90%88%E7%BA%A6%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E8%AE%BE%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E7%B3%BB%E7%BB%9F%E9%80%9A%E7%9F%A5%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E7%A7%92%E5%90%88%E7%BA%A6%E6%8C%81%E4%BB%93-%E6%8C%81%E4%BB%93%E4%B8%AD%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E7%A7%92%E5%90%88%E7%BA%A6%E6%8C%81%E4%BB%93-%E4%B8%8B%E5%8D%95%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E7%A7%92%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93-%E6%8C%81%E4%BB%93%E8%AE%A2%E5%8D%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E7%A7%92%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93-%E4%B9%B0%E6%B6%A8%E4%B9%B0%E8%B7%8C%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E7%A7%92%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93-%E4%B8%8B%E5%8D%95%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E7%99%BB%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E7%99%BB%E5%BD%95-%E5%A1%AB%E5%86%99%E7%8A%B6%E6%80%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E6%B7%BB%E5%8A%A0%E9%93%B6%E8%A1%8C%E5%8D%A1-%E9%93%B6%E8%A1%8C%E5%8D%A1%E4%BF%A1%E6%81%AF%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E6%B7%BB%E5%8A%A0%E9%93%B6%E8%A1%8C%E5%8D%A1-%E6%9C%AC%E4%BA%BA%E4%BF%A1%E6%81%AF%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E6%B3%A8%E5%86%8C%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E6%B3%A8%E5%86%8C-%E8%B5%84%E6%96%99%E5%A1%AB%E5%86%99%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E6%B3%A8%E5%86%8C-%E5%8F%91%E9%80%81%E7%9F%AD%E4%BF%A1%E9%AA%8C%E8%AF%81%E7%A0%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E6%90%9C%E7%B4%A2%E6%97%A0%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E6%90%9C%E7%B4%A2%E4%B8%BE%E4%BE%8B%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E6%90%9C%E7%B4%A2%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E6%90%9C%E7%B4%A2-%E8%BE%93%E5%85%A5%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E6%8F%90%E5%B8%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E6%88%91%E7%9A%84%E6%8E%A8%E5%B9%BF%E4%BA%8C%E7%BB%B4%E7%A0%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E6%88%91%E7%9A%84%E6%8E%A8%E5%B9%BF%E4%BA%8C%E7%BB%B4%E7%A0%81-%E9%95%BF%E6%8C%89%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E6%88%91%E7%9A%84%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E6%88%91%E7%9A%84-%E8%B5%84%E4%BA%A7%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81-%E5%8F%91%E9%80%81%E7%9F%AD%E4%BF%A1%E9%AA%8C%E8%AF%81%E7%A0%81%E6%8F%90%E7%A4%BA%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81-%E5%8F%91%E9%80%81%E7%9F%AD%E4%BF%A1%E9%AA%8C%E8%AF%81%E7%A0%81-%E8%BE%93%E5%85%A5%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%BC%95%E5%AF%BC%E9%A1%B53%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%BC%95%E5%AF%BC%E9%A1%B52%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%BC%95%E5%AF%BC%E9%A1%B51%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%90%AF%E5%8A%A8%E9%A1%B5828%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%90%AF%E5%8A%A8%E9%A1%B5750%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%90%AF%E5%8A%A8%E9%A1%B5640-2%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%90%AF%E5%8A%A8%E9%A1%B5640-1%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%90%AF%E5%8A%A8%E9%A1%B51242-2%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%90%AF%E5%8A%A8%E9%A1%B51242-1%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%90%AF%E5%8A%A8%E9%A1%B51125%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%90%AF%E5%8A%A8%E5%9B%BE%E6%A0%87%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%90%88%E7%BA%A6%E6%8C%81%E4%BB%93%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%90%88%E7%BA%A6%E6%8C%81%E4%BB%93-%E6%8C%82%E5%8D%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%90%88%E7%BA%A6%E6%8C%81%E4%BB%93-%E4%B8%8B%E5%8D%95%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93-%E6%9C%80%E6%96%B0%E4%BA%A4%E6%98%93%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93-%E5%A7%94%E6%89%98%E8%AE%A2%E5%8D%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93-%E4%B9%B0%E5%85%A5%E5%8D%96%E5%87%BA%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%8C%BA%E5%8F%B7%E5%B1%95%E5%BC%80%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%85%B3%E4%BA%8E%E6%88%91%E4%BB%AC%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%85%85%E5%B8%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E4%BA%A4%E6%98%93%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-android-762%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-android-1882%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Flinks%2Fatmex%E7%A7%BB%E5%8A%A8%E7%AB%AF-android-1242%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%E7%A7%BB%E5%8A%A8%E7%AB%AF%2Findex%2F</url>
    <content type="text"><![CDATA[Spec Export - Sketch Measure 2.4 /*! normalize.css v4.1.1 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}template,[hidden]{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:0;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit}b,strong{font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,select,textarea{font:inherit;margin:0}optgroup{font-weight:bold}button,input{overflow:visible}button,select{text-transform:none}button,html [type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit} *{box-sizing:border-box;} ::-webkit-scrollbar{width:8px;height:8px;background:#202123;border-radius:4px;} ::-webkit-scrollbar-thumb{border:1px solid rgba(255,255,255,.16);background-color:rgba(0,0,0,.64);border-radius:4px;} ::-webkit-scrollbar-corner, ::-webkit-resizer{background:#202123;} html{width:100vw;height:100vh;overflow:hidden;} body{-webkit-user-select:none;width:100vw;height:100vh;min-width:1024px;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;font-size:12px;color:#989A9C;background:#191919;letter-spacing:1px;overflow:hidden;} header{position:relative;height:60px;display:flex;align-items:center;z-index:215;background:#000;} header .header-center,header .header-left,header .header-right{width:240px;height:60px;background:#0F0F0F;} header .header-center{display:flex;flex:1;background:#000;} header .header-center .show-notes,header .header-center .zoom-widget{padding:20px;width:160px;} header .header-center h1{flex:1;} header .header-center .show-notes{text-align:right;line-height:20px;} header .header-center .show-notes .slidebox{margin-left:10px;} header .header-left{display:flex;} .zoom-widget{display:flex;} .zoom-widget button{position:relative;display:block;width:20px;height:20px;border-radius:10px;border:0;background:#3484F5;cursor:pointer;} .zoom-widget button:after,.zoom-widget button:before{position:absolute;top:9px;left:5px;content:"";display:block;width:10px;height:2px;background:#FFF;} .zoom-widget button:after{top:5px;left:9px;width:2px;height:10px;} .zoom-widget button:disabled{background:#222;cursor:default;} .zoom-widget button:disabled:after,.zoom-widget button:disabled:before{background:#606264;} .zoom-widget button.zoom-in:after{display:none;} .zoom-widget .zoom-text{display:block;text-align:center;line-height:20px;flex:1;} .unit-box{height:60px;} .unit-box .overlay{content:"";position:absolute;top:60px;left:0;width:100vw;height:calc(100vh - 60px);display:none;background:rgba(0,0,0,.56);z-index:1;} .unit-box:focus .overlay{display:block;} .unit-box:focus{height:auto;outline:0;} .unit-box h3,.unit-box p{position:relative;margin:0;padding:20px 20px 20px 54px;display:block;height:100%;line-height:20px;font-size:12px;font-weight:400;cursor:pointer;} .unit-box h3,.unit-box:focus p{display:none;} .unit-box h3:before,.unit-box p:before{position:absolute;top:18px;left:18px;content:"";display:block;width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAgMAAAAqbBEUAAAADFBMVEUAAABhY2VgZGdgYmRubxBCAAAAA3RSTlMA5EpWbVq4AAAALUlEQVQoz2OgOuD8DwTfoBx2EOcvlMP/HwSwcsDEKIeKHETwEuZgRBYiGqkNAFJPNT9Sw3d/AAAAAElFTkSuQmCC) no-repeat;background-size:24px 24px;} .unit-box ul{position:absolute;margin:1px 0 0 240px;padding:0;list-style:none;background:#0F0F0F;width:240px;height:calc(100vh - 61px);overflow:auto;display:block;transition:all .15s ease;z-index:2;} .unit-box:focus h3{color:#3A3A3A;display:block;} .unit-box:focus ul{margin:1px 0 0;} .unit-box .sub-title,.unit-box label{display:flex;padding:14px 20px;} .unit-box label{cursor:pointer;} .unit-box li:hover label{color:#FFF;} .page-list label span,.unit-box label span{flex:1;} .page-list input,.unit-box input{position:absolute;visibility:hidden;} .page-list span:before,.unit-box span:before{float:right;display:block;content:"";width:16px;height:16px;} .page-list input:checked+span:before,.page-list label:hover span:before,.unit-box input:checked+span:before,.unit-box label:hover span:before{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAADICAMAAAAp4rTzAAAAaVBMVEUAAACYm5yYm500hPaDoMKYucs0hfaYm52Znp6bnZ01hfeYnJ2Zm540hvc8iv81hPWYm52YnJ2ZnJ01h/g2ifmcnJw4h/o1hfY1hfU1hfY1hfU1hfY0hfaZnJ41hfY2h/aYnJw0hfU0hPbpk+wAAAAAInRSTlMAo5LmCAP0nDIVeHFNSg6diGVZNCciGtvSw7arj3xpVkSETvQOmQAAAPlJREFUeNrt1MtuwjAQheFxYhNyIUBCwqXcOu//kHWMl6wqRlWl/1tYs5ojzZEsAH7rUZYbMXZX1VJsfat5SNhqtDI9l/+yyuibps/TOd1qlM+7qB7nZZhPKeMgBlZ58+Go0WkWC6+ux7HU6NyLidz2ankvXoyEq2bbIHYaTa5i6q5RI8Y2ZfkQAAAAAAAAAAAAAAAA4K11UazF2NM5V4itwZmHhL2LKtNzhdYqw3edz9Mt3WqSz2ud29XLUO9SRi0Gqry5LpxLeRZeXU9Tyrh5MZHbrpa39WIkDC7bB7HTuWQQU08XdfLOP/sVAQAAAAAAAAAAAAD4Yz84hg8qlGTZeQAAAABJRU5ErkJggg==);background-size:50px 100px;} .page-list label:hover span:before,.unit-box label:hover span:before{background-position:0 -50px;} .page-list input:checked+span:before,.unit-box input:checked+span:before{background-position:0 0;} .unit-box .sub-title{font-size:12px;background:#000;color:#3A3A3A;} main{position:relative;height:calc(100vh - 60px);} .inspector,.navbar{position:absolute;top:0;bottom:0;display:flex;width:240px;background:#232527;z-index:5;} .inspector{transition:all .15s ease;right:-240px;display:block;} .inspector.active{right:0;} .navbar{left:-240px;width:240px;transition:all .15s ease;} .navbar.on{left:0;} .navbar nav{width:40px;background:#000204;} .navbar section{flex:1;} .tab{margin:0;padding:0;display:flex;width:100%;list-style:none;} .tab li{display:flex;flex:1;height:60px;cursor:pointer;font-size:12px;justify-content:center;align-items:center;} .tab li.current{background-color:#232527;} .tab li:before{content:"";width:40px;height:40px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAEsCAMAAACxJAyMAAAAY1BMVEUAAABfYmTY2NjY2NhgYGPa2tpdYGNfYGHZ2dlgYGRfX2LY2NhfYGPZ2dldX2Pb29vV1dXR0dFdYWNgYGPb29vU1NRdXV1aYWVdXWNYWGJbYGLX19fX19fa2trX19fY2NhgYmTufXliAAAAH3RSTlMA8/LjZq/mrzHHnp3VyIJqRQv7VVQbC0csGjrSX4l65F0P9QAAAvFJREFUeNrt3Nlu4kAURdHrCTMYM8ZAGKr+/yubSkdcRJy3OlI6vdcbj1vIPlEkrgEAAAAAAACAUnjy5XMm8cnrZ0IIIYQQQn5XyDNJyAtCCPnXQn7Nw04IIY6HnxBCzHjYCSGEEEII+ZEhAAAAAAAAAAAAAAAAAAAAAAAAAAD8HOEbllH8BiHjITYid4iNIIQQQgjJE+Kmi8VaE+KO8/lBHTItQ1iIQ96LGOfikLd7R2i0Icd7R2y1IW9VuLtIQ06TeFdLQzbL4F+IKGSYRf9CVCFN6lhupCFt6pgN0pBF6qjeTBkyTx2TkylDbqmjnEp3pE8dxVG6I5eQrKWDWKeO7UE6iOuQrKTLftj6C0sVMi1Tx9VEIT4gsTdViA/I0lQhPiAzU4ZszuHDRRgydPFDrQnxAVE/I7MYs5eETz4gD/vc/3zwAXnYqUKu3tGYKKT3jtZEVt6xMJHaO+Ymsn5klBcT8AFJitoEfECSamoi70X81B1NwAckuZmAD0hS9OZEHc2bqZy6+Fd7MpllSMrF1DR8QIr50XSaVNGsNibUpoq2Hkzoem5uU9Pqu7Z/NwAAAAAAAAAAAAAAAAAAAAAAAAAA/jO3m8n1vcmtQliZWB1jbWKXsVsP+TvkJXu/kCCz26aQ7c6E1uHT2mQOqeP1Qo2gQ13iv8ov3k3Erwv49SNFh67EO9QlR+94ueOU+7qA88taua8kuMnJ8luGF0vLbhZfzCy7VXghGMY6vlDMSRW+qCyzSfxiYi7fEjrJLu7iiNy7uAhOdXJnHp3s5M45jDhbVl0c0VleZRhRWlZFHFFYXmGUZbWNI7aWVxWC/LU1iVH62vI51E2iz6F6Eq9hxNWy6uOI3vJaB6f6W/4QRxwss7Ps7es63dvX7WXD7nbCYXcL2a67uXrX/d6yW24su2EmfGV5SROeNBsTGNr4pB1MY1U9pnBlIvXkMYW1yWz2TVWWVbPfmMywa7ui6NrdYAAAAAAAAAAAAAAAAADw5A96XDaWeHqp+wAAAABJRU5ErkJggg==) no-repeat -50px 0;background-size:100px 150px;overflow:hidden;} .tab li.current:before{background-position-x:0;} .tab li.icon-slices:before{background-position-y:-50px;} .tab li.icon-colors:before{background-position-y:-100px;} #inspector .code-item{display:none!important;} #inspector .code-item textarea{padding: 16px;} #inspector .code-item.select{display: block!important;} #inspector .tab li{height:40px;} #inspector .tab li:before{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAEsCAMAAACxJAyMAAAAn1BMVEUAAABgYmTZ2dnf39/b29tkZWZnaGhgYmRgY2TZ2dlpaW/Z2dnZ2dna2trn5+dgYmRgYmRgYmXBwcHY2NhhY2XZ2dlhY2VkZGhkZWhgYmXZ2dlgYmRhYmVhZGXZ2dnZ2dnb29tiZGZhYmXa2trb29vZ2dlgYmVgY2Ta2trb29thZGbb29vZ2dlgYmTZ2dna2tra2tphY2Xe3t7Y2NhgYmRl+xw/AAAAM3RSTlMA8PIeLzAge9fWDOeHfAz16OEG7YfebCkZurnBsVvGsTc3jnBTp6fLXUVFJ76Zj5poURVaW7T5AAAFHklEQVR4Ae3dyVLzyhIE4JRs0CAPsjzPNmAbMHPV+z/b/YWI+xtw6yxONRGHyG/VwS5DlbS0oMAvQ0RERERERERE9CB1MliYa50cJkKps4aFQOssYKEhtdowcKm1Ili4kVo3MPCqtV5hoSW1GjAw0FoTWJj9QNenP9H1hsOLlGawMLk8b2TYddSPXAs+DbQ0gFez+q4bjtwrvMrsuu6Ua+kSFtahg5T6sLAIHLQUwEQmdWawkGudqf973ajrE601+C33+hIW2j9wr0fqZtd1qRPCwkLrBDBxbJ53LaUHWBhfnDfS0hxetY3vdffIXcGrtZRu4dPCsOtOQykd4VNPS2NYaCWlW3z1Ztj1QVxa4quJZdcTKW3w1Z2UVrAQa2mLr+4Nu17Iu46j608wUOi71GvXN/LueYNPmq3Mrutbffe4xSfjQW7Y9Rf5kFy//U2RyIcmDIz0Qzya/E0Ra8Wo68/y1+7uJEUFFh71/7r7+zJFFJ/8yK7rfw2fEzm1goWDnuo9xnrqABM7qTG8hYW91oiXsPF2nThStJowMoliPas3uIChzXP4PcUGpraP3e8ptrDWeVl5TFFJR4fTFFdb+NF86kspe9rAl/FV4DdFpbiZeUxRKZbTf5eCiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIqBW24NsgGMA7EYFvqvpbgxT+gzSTrOk7yEWcX/gO0uyLtD0HuQhUI69Bqhz9hs8gVY7g0keQ9mwYhsm63ahyNH10JJr2ukG8iCZVjguYkxMzPzmgJ6aecrTklJ8cAz3lJUdnLV+sOjCWLvSLQ/oTW0BnBWzN9ZtpAVttOeMJpiI94wqmNlJqd9ry6dCEoa2WojTST4cLD3uCOujIp8OD/Z6gFKl+OsxhqCHnn4g0YGai55+IXvptSOXaa0MqkelkOcwsJ8thCjuJOCQwc1CHGHZCcQhhJlCHAPRbXYfiFF7DxKirTt2RfUO8taSrNbqwIbVgQmv9wifCjlTECWaMBotBzDAIgzAIg9jJxCGDmVwdctjZicMOZvbqsIedRl/O6jdgZhLoWcEEhhq7TL7Jdg0Ymuxz/SbfT0BERERERERERERERERERERERERERERERPTfUdzOMnhWLKc5PLsbivTh133P/5aEW/ljBa+W1XIXr+6kdA2f7rUUwacikz/6HXhU9PSPIIVPL1K6gU8jLS3h1YP80YZXU7+DVel7LUglqPYK+BUOn47wLOg9juFH82k2THY3HZQ27VUWDtcvHZgaX03jw36ZorSN5nk3XoxSWDo+yIf17V1rKBXbqoznWukulveDnn7oRrBzE4rDQwEjr4E6zFPTG9BhZ3kDOuy9/slxZbiBiUmuTr0tbDyLU9KBjUd1ilPY6ITiEh5hIw3UJRjDyIs4tWBkpE4DWNmJ0xFG9uo0hpWVuGSwMleXHGYycVnBSk9dDjAjPxBEfyJI9gOjlatLD2YScWrASKxOl7AyE6c2jEzVKYKVljiFb/a7sP3tRbkTt1Xh/5XR7OW3kBqrN1hItcZ84rcklezFZ0kq+QgmbqTOAyy8ap05bAylxq3Xu72yhI1rcUv8v/9qDCNFIk53sFHE6nQP/7+BZ7Byry5T2Hn2/YlY87XbHcNOkfhseiWN/Ta90sj8/3OFy1zPuIKtYyLvkudWay2VFmyNY30XP0ZXi659jkqnlYSr9rE63+yG2XoDa+kgDg7RuDq/7uPeYgsiIiIiIiIiIiIiIiIiIiKif/Y/jlFGecKAUnMAAAAASUVORK5CYII=); } #inspector .tab li.select{background-color:rgba(255,255,255,.05);} #inspector .tab li.select:before{background-position-x: 0;} #inspector .tab li.icon-android-panel:before {background-position-y: -50px;} #inspector .tab li.icon-ios-panel:before {background-position-y: -100px;} .screen-viewer{position:absolute;width:100vw;height:calc(100vh - 60px);background:#191919 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlMAUvP2/eAAAAARSURBVAjXY6ASYD6ATlAHAADy5gMN0fCqFwAAAABJRU5ErkJggg==);background-size:16px 16px;overflow:auto;} .screen-viewer,.screen-viewer .overlay{position:absolute;width:100vw;height:calc(100vh - 60px);background:#191919 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlMAUvP2/eAAAAARSURBVAjXY6ASYD6ATlAHAADy5gMN0fCqFwAAAABJRU5ErkJggg==);background-size:16px 16px;overflow:auto;} .screen-viewer .overlay{display:none;position:fixed;top:60px;left:0;background:transparent;overflow:hidden;z-index:2;cursor:none;} .screen-viewer.moving-screen .overlay{display:block;} .screen-viewer-inner{position:relative;margin:0 auto;} .screen{margin:0 auto;position:absolute;left:50%;top:50%;background:#FFF;box-shadow:0 2px 10px 0 rgba(0,0,0,.2);transition:all .15s ease;} .layer{position:absolute;cursor:pointer;} .hover,.selected{border:1px solid #EE6723;} .has-slice{border:1px dashed #EE6723;background:rgba(255,85,0,.32);} .layer b,.layer i{position:absolute;width:5px;height:5px;background:#FFF;border:1px solid #EE6723;border-radius:50%;overflow:hidden;display:none;} .layer b{width:3px;height:3px;background:#EE6723;} .selected i{display:block;} .distance.h div[data-width]:before,.distance.v div[data-height]:before,.selected:after,.selected:before{position:absolute;display:block;left:50%;top:-23px;transform:translateX(-50%);content:attr(data-width);font-size:12px;color:#FFF;height:12px;line-height:12px;padding:4px;background:#EE6723;border-radius:2px;z-index:1;} .percentage-mode .distance.h div[data-width]:before,.percentage-mode .distance.v div[data-height]:before,.percentage-mode .selected:after,.percentage-mode .selected:before{content:attr(percentage-width);} .selected.hidden:after,.selected.hidden:before{display:none;} .distance.v div[data-height]:before,.selected:after{content:attr(data-height);left:auto;right:0;top:50%;transform:translateX(calc(100% + 3px)) translateY(-50%);} .percentage-mode .distance.v div[data-height]:before,.percentage-mode .selected:after{content:attr(percentage-height);} .layer .tl{top:-3px;left:-3px;} .layer .tr{top:-3px;right:-3px;} .layer .bl{bottom:-3px;left:-3px;} .layer .br{bottom:-3px;right:-3px;} .hover{border:1px solid #419bf9;} .selected{border:1px solid #EE6723;} .ruler{position:absolute;width:100%;height:100%;border:1px dashed #419bf9;} .ruler.h{border-left:0;border-right:0;} .ruler.v{border-top:0;border-bottom:0;} .distance,.distance div,.distance div:before,.distance:after,.distance:before{position:absolute;} .distance.v,.distance.v div{width:1px;} .distance.h,.distance.h div{height:1px;} .distance.v div{top:0;bottom:0;background:#EE6723;} .distance.h div{left:0;right:0;background:#EE6723;} .distance.v:after,.distance.v:before{content:"";top:0;left:-2px;width:5px;height:1px;background:#EE6723;} .distance.h:after,.distance.h:before{content:"";top:-2px;left:0;width:1px;height:5px;background:#EE6723;} .distance.v:after{top:auto;bottom:0;} .distance.h:after{left:auto;right:0;} .note{position:absolute;margin:-12px 0 0 -12px;width:24px;height:24px;background:#F5A623;border-radius:50%;border:2px solid #FFF;box-shadow:0 0 3px rgba(0,0,0,.24);} .note:before{content:attr(data-index);font-size:12px;display:block;color:#FFF;text-align:center;width:100%;height:100%;line-height:20px;} .note:hover{box-shadow:0 0 3px rgba(0,0,0,.64);} .note div{position:absolute;top:50%;left:30px;border-radius:4px;padding:8px;background:#FFF;box-shadow:0 0 3px rgba(0,0,0,.5);-webkit-user-select:text;color:#222;transform:translateY(-50%);z-index:2;} .note div:before{content:"";position:absolute;left:-7px;top:50%;width:8px;height:14px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAcCAMAAABf788oAAAANlBMVEUAAAAAAAAAAAAAAAAAAAAAAADR0dEAAAAAAAAAAAAAAAAAAADNzc0AAAAAAADa2trk5OT////5auFFAAAAEXRSTlMAAgYKEhydNCkYDiOfLieWjz4MUj4AAABrSURBVBjTZZFbDoAgEANVFHmIOve/rERjWGj/psnCbjv1gg7nGTpcFmtUdA4Mu7QmMLzGGMHwlvMNhs9yAY3D7qkamcYHr/75ys1IMRePNbbwsRo6oo/qt7rY6Ohxer4GpBFqyFqDFtWqfAD4dQrlWDmShAAAAABJRU5ErkJggg==) no-repeat;background-size:8px 14px;transform:translateY(-50%);} .slidebox{position:relative;width:40px;height:20px;display:inline-block;} .slidebox input{visibility:hidden;} .slidebox label{position:absolute;top:0;left:0;width:40px;height:20px;background:#898989;box-shadow:inset 0 1px 3px 0 rgba(0,0,0,.3);border-radius:10px;cursor:pointer;transition:all .2s ease;} .slidebox label:after{position:absolute;content:"";top:2px;left:2px;width:16px;height:16px;background-image:linear-gradient(-180deg,#F8F9F6 0,#F5F5F5 100%);box-shadow:0 1px 2px 0 rgba(0,0,0,.3);border-radius:8px;transition:all .15s ease;} .slidebox input[type=checkbox]:checked+label{background:#3484F5;} .slidebox input[type=checkbox]:checked+label:after{left:22px;} .inspector{overflow:auto;} .inspector h2,.inspector h3{margin:0;padding:0;font-weight:400;} .inspector h2{font-size:12px;line-height:24px;padding:12px 16px;text-align:center;} .inspector h3{height:32px;font-size:12px;line-height:32px;padding:0 16px;background-image:linear-gradient(90deg,rgba(0,4,9,.32) 0,rgba(0,2,4,0) 100%);} .inspector .context{padding:16px;} .inspector .color,.inspector .item{display:flex;margin:0 0 8px;} .inspector .item[data-label]:before{content:attr(data-label);display:block;width:70px;font-size:12px;height:24px;line-height:24px;} .inspector .color:last-child,.inspector .item:last-child{margin:0;} .inspector .item div,.inspector .item label{flex:1;} .inspector .item label{padding:0 4px;} .inspector .item label:first-child{padding:0 4px 0 0;} .inspector .item label:last-child{padding:0 0 0 4px;} .inspector .item label:only-child{padding:0;} .inspector .item label[data-label]:after{content:attr(data-label);font-size:10px;text-align:center;display:block;margin:2px 0 0;} .inspector input,.inspector textarea{padding:3px 4px;width:100%;background:rgba(255,255,255,.05);border-radius:2px;border:0;line-height:18px;height:24px;font-size:12px;color:#FFF;text-align:center;outline:0;resize:none;} .inspector textarea{min-width:100%;height:auto;text-align:left;} .context h4{font-size:12px;font-weight:400;position:0;margin:0 0 16px;color:#FFF;} .context h4:before{margin:0 10px 0 0;display:inline-block;content:"";width:8px;height:8px;border-radius:1px;background:#3484F5;} .context .colors{margin:0 0 8px;} .context .colors:last-child,.context .items-group:last-child{margin:0;} .context .items-group{margin:0 0 24px;} .inspector .color{display:block;} .inspector .color[data-name]:after{content:attr(data-name);font-size:10px;text-align:center;padding:0 0 0 24px;display:block;margin:2px 0 0;} .inspector .color label,.inspector .color label em,.inspector .color label em i{position:absolute;display:block;width:24px;height:24px;padding:0;} .inspector .color label em{position:relative;background-color:#fff;background-image:linear-gradient(45deg,#dddadc 25%,transparent 25%,transparent 75%,#dddadc 75%,#dddadc),linear-gradient(45deg,#dddadc 25%,transparent 25%,transparent 75%,#dddadc 75%,#dddadc);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:2px 0 0 2px;overflow:hidden;} .inspector .color label em i{position:relative;} .inspector .item .color input{text-align:center;} .inspector .color input{padding-left:32px;width:100%;text-align:left;} .gradient .color label:before{position:absolute;top:12px;left:11px;content:"";width:2px;height:32px;background:#FFF;z-index:2;box-shadow:0 0 2px 1px rgba(0,0,0,.2);} .gradient .color label:after{position:absolute;top:8px;left:8px;content:"";width:8px;height:8px;background:#FFF;z-index:3;border-radius:4px;box-shadow:0 0 2px 1px rgba(0,0,0,.2);} .gradient .color[data-name] label:before{height:42px;} .gradient .color:last-child label:before{display:none;} .navbar section{position:relative;overflow:auto;} .artboard-list,.asset-list,.color-list{margin:0;padding:0;list-style:none;} .artboard-list li{padding:16px;display:flex;cursor:pointer;} .artboard-list li:hover,.asset-list li:hover,.color-list li:hover{background:#191A1E;} .artboard-list li.active{background:#454748;} .preview-img{display:block;width:44px;height:44px;text-align:center;background:rgba(0,0,0,.32);} .preview-img:before{content:' ';display:inline-block;vertical-align:middle;height:100%;} .preview-img img{max-width:44px;max-height:44px;background:#FFF;vertical-align:middle;} .pages-select{padding:24px;position:relative;} .pages-select h3{margin:0;text-align:center;font-size:12px;font-weight:400;color:#FFF;cursor:pointer;} .page-list em,.pages-select h3 em{font-style:normal;font-size:10px;color:#989A9C;} .pages-select h3:after{content:"";margin:0 0 0 4px;width:12px;height:6px;display:inline-block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAMAgMAAAAFXpXmAAAACVBMVEUAAABiZGZgYmThY1mHAAAAAnRSTlMAgJsrThgAAAA1SURBVAjXFckxAQAgDMTAZ6kI1KAHNYjoAipJsmS47Ec303XKnQy3AkIRm5UUUAIhERIhEfoqmRfpcqcFcAAAAABJRU5ErkJggg==) no-repeat;background-size:12px 6px;} .pages-select .page-list{display:none;position:absolute;left:50%;transform:translateX(-50%);margin:-32px 0 0;padding:8px;border-radius:4px;list-style:none;width:180px;background:#0F0F0F;box-shadow:0 2px 10px 0 rgba(0,0,0,.8);} .pages-select:focus{outline:0;} .pages-select:focus .page-list{display:block;} .pages-select .page-list label{padding:10px;cursor:pointer;} .pages-select .page-list label,.pages-select .page-list span{display:block;} .page-list span:before{position:absolute;right:8px;} .exportable{margin:0;padding:0;list-style:none;background:#191A1E;border:1px solid #2D2F31;border-radius:4px;} .exportable li{position:relative;padding:0 8px;height:32px;line-height:32px;border-bottom:1px solid #222;white-space:nowrap;text-overflow:ellipsis;} .exportable li a{color:#FFF;text-decoration:none;outline:0;} .exportable li:last-child{border:0;} .exportable img{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;} .asset-list li,.color-list li{padding:24px;display:flex;cursor:pointer;} .color-list li{cursor:default;} .asset-list li picture,.color-list li em{position:relative;display:block;text-align:center;width:32px;height:32px;background-color:#4A4A4A;background-image:linear-gradient(45deg,#000 25%,transparent 25%,transparent 75%,#000 75%,#000),linear-gradient(45deg,#000 25%,transparent 25%,transparent 75%,#000 75%,#000);background-size:8px 8px;background-position:0 0,4px 4px;border-radius:2px;} .color-list li em{background-color:#fff;background-image:linear-gradient(45deg,#dddadc 25%,transparent 25%,transparent 75%,#dddadc 75%,#dddadc),linear-gradient(45deg,#dddadc 25%,transparent 25%,transparent 75%,#dddadc 75%,#dddadc);border-radius:50%;overflow:hidden;} .color-list li em i{position:absolute;top:0;left:0;right:0;bottom:0;} .artboard-list li div,.asset-list li div,.color-list li div{padding:0 0 0 16px;flex:1;} .artboard-list li div{padding:6px 0 4px 16px;} .asset-list li picture:before{content:"";display:inline-block;height:100%;vertical-align:middle;} .asset-list li picture img{vertical-align:middle;max-width:28px;max-height:28px;} .asset-list li picture:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;} .artboard-list h3, .asset-list h3,.color-list h3{margin:0 0 4px;padding:0;color:#FFF;font-size:12px;font-weight:400;overflow:hidden;text-overflow:ellipsis;} .artboard-list small, .asset-list small,.color-list small{font-size:10px;} .artboard-list li.active small{color:#FFF;} .empty{position:absolute;top:30%;left:0;right:0;transform:translateY(-50%);vertical-align:middle;text-align:center;} .message{position:absolute;top:50%;left:50%;padding:10px 20px;max-width:320px;transform:translateX(-50%) translateY(-50%);text-align:center;border-radius:4px;background:rgba(0,0,0,.96);border: 1px solid rgba(255,255,255,.16);color:#FFF;box-shadow:0 2px 10px rgba(0,0,0,.32);z-index:9;display:none;} .cursor{position:absolute;display:none;margin:-8px 0 0 -8px;top:50%;left:50%;width:16px;height:17px;background-size:16px 17px;background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAiCAMAAAAJbCvNAAABVlBMVEUAAAAGBgYBAQEBAQEAAAAAAAAAAAAnJycAAAA3NzcDAwMNDQ0AAAAAAAAAAAAhISEbGxsYGBgPDw8CAgIDAwMBAQEAAAAAAAAAAAAAAAAAAAAvLy8UFBQCAgIBAQEAAAAAAAAAAAAAAAAAAAA+Pj5BQUE/Pz8zMzMCAgIDAwMDAwMCAgIBAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7OzsAAAAAAAAAAAAAAAD///8AAABhYWEdHR36+vpVVVX9/f329vbz8/Pb29uBgYF0dHRjY2MsLCz39/ft7e3r6+vR0dFxcXFSUlJNTU3X19fKysq4uLh3d3dXV1dJSUlGRkZERETv7+/o6Ojj4+O8vLy1tbW0tLSnp6empqaTk5OKioqGhoZtbW1nZ2dcXFxPT0/Dw8PCwsKwsLCurq6pqamhoaGZmZmNjY16enpeXl5JnG7xAAAAPHRSTlMA/fj9B1EC/jf+/vw8Ew7+/fz85t26mpRoYyX9/OLMoHlKMiL+/f398enY0cC1tLGojouGVh4Z/qpyQy7UG/vLAAACHUlEQVQ4T33QVVdbURBA4bk3QjwQIIa7u9T2QDwQxx2K1+X/v/QhlzRpWN2v51tnZo1IS4ERx4b8J4epaht+5cHpiKzGRfzmxH55R0ftseERZwuIqGGY6xLTLKSNoTlV7W0WY7Z8qjRhflgxADrUOMjcarQJjGgZiqHecBfAuB4Cfb1NwKcHwJ0OdgKc6jWw1S0y5rLXgd18AIqGdtVBGdjpti+r9sTrYqkrBSS1H+BEz4GjnojmvnutQQ79AnxTL8CxFoCkqXnYmakD58AkkPEYADUPQFVDGajOWmsOaxboU4DnEEBN80Dfgoj4og7/pu0QeNQ08NxZ32QPEp41cS6rqvluqT8FX4MJIPcEkHQDn9Qh65rP7le1W/dpKVEAcraArHpTQE71nvZO50TWjAxARU9eAaGwiEtvARJTnQCpNKTPIFEEuNCoiCwYnwGKWYCKG7bGobILcK0+EfHPevcafz4FoboLW9sA9xoQEdmY6Si8gN9BSDZArad+xvf66wVsbTeBMyNiHXrIs9cMOixwp6MW8E9PWmBnG44scOFdlJdi+tMCXQ2QcE/HG8D5Vj8CkO+Axymo7HKoDvmbfd5zA5AoQeYcCqWsLSzNBeZtP2guZ/O3ALEvWlMoveksQ7JH/sk56K6DmjkQTHM8+C+Qof6rg8vLqweNumzHN+7uNhDWeisiMVN1oA3YR10un8+1KSISiI/Z28Dr/QHPa6Em8DfwfAAAAABJRU5ErkJggg==');background-repeat:no-repeat;cursor:none;z-index:1; } .cursor.show{display:block;} .cursor.moving{background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAiCAMAAAAJbCvNAAABMlBMVEUAAAAAAAA2NjYsLCwCAgIAAAAAAAAMDAwBAQECAgIBAQECAgIBAQEBAQEAAAAAAAAAAAA5OTkgICAICAgAAAAcHBwCAgIAAAAAAAAAAAAAAAAAAABDQ0M8PDwxMTE0NDQVFRUCAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPDw8DAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAABhYWEcHBz6+vr39/dMTEzs7Oy8vLy4uLhWVlYqKiooKCj09PTw8PC1tbWnp6d2dnZZWVn8/Pzp6enj4+Pd3d3a2trNzc2tra2pqammpqaKioqAgIBzc3NwcHBmZmZdXV1TU1NHR0c+Pj7W1tbR0dHGxsbAwMCampqSkpKPj4+GhoZycnJsbGwkJCTy91wiAAAANnRSTlMAPP7+/ZcN/Pnr487Kv7QlEv7+/fz71jk2GAcE/v7+/fzzpaCUkGZZQTEsIAn826uEg3JtXFGryOxIAAABkElEQVR4AeXS1XLbQBjF8RXIDHbNdiBpOCnDOa4kg2Oww9w2KUPf/xW6s8q2sTXT6X1+t99/NJozK+6lR8ZmRPzDZpxc3sg9y2Sez3aNl+mUsx23TjpzxbJtmnaqMR08ZO8mGuNn4JA8AU75YiXl5ISW5SXwgTwAUGIfcAuM3thpoRnsAJhnC8DcY0gWj3HBmg5qPAdw1nMBfJ9Aai4AQ1aFllzENNcD2jSEsuOkEvyIEB1k44XrEicI6bCigtXoIbzFN5D2PMAbAG4L0im3VVD2AQyOIF3lgeY88MOC9JXBEEkf2rsHwHtLRup749jtikvTQU8Hflkor/hJB00ZdHUwKKwKJRLP70FRh+7ubXDOLRHY4GU4wEE0I7Q1foPyVh4mQeCay1nxx1OeqWC8K6MF4MrCmK/FX/W0PQKCgfr7gLd/ZDvirkiaX3DXRTE381wzHEFp5UvHQPeJmNFImlD8WOJXH35SzFpZGnba7eFPrleK1yMzEQocBtaEWI+R4aC+Va0YRrWm/jm7Uxf/5zeExWvZghlTSgAAAABJRU5ErkJggg==');}]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E9%A6%96%E9%A1%B5%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E8%B5%84%E4%BA%A7%E4%BA%92%E8%BD%AC%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E7%AE%A1%E7%90%86%E9%93%B6%E8%A1%8C%E5%8D%A1%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E7%A7%92%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E7%A7%92%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93-%E4%B8%8B%E5%8D%95%E8%AE%B0%E5%BD%95180%E7%A7%92%E6%98%BE%E7%A4%BA%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E7%A7%92%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93-%E4%B8%8B%E5%8D%95%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E7%99%BB%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E6%B3%A8%E5%86%8C%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E6%8F%90%E5%B8%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E6%8E%A8%E5%B9%BF%E4%BA%8C%E7%BB%B4%E7%A0%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E6%88%91%E7%9A%84%E8%B5%84%E4%BA%A7%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E5%AF%86%E7%A0%81%E9%87%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93%E6%8C%81%E4%BB%93%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93-%E4%B8%8B%E5%8D%95%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E5%85%85%E5%B8%81%E6%8F%90%E5%B8%81%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E5%85%85%E5%B8%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Flinks%2Fatmex-pc%E7%AB%AF-%E4%B8%AA%E4%BA%BA%E8%AE%BE%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20PC%E7%AB%AF%2Findex%2F</url>
    <content type="text"><![CDATA[Spec Export - Sketch Measure 2.4 /*! normalize.css v4.1.1 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}template,[hidden]{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:0;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit}b,strong{font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,select,textarea{font:inherit;margin:0}optgroup{font-weight:bold}button,input{overflow:visible}button,select{text-transform:none}button,html [type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit} *{box-sizing:border-box;} ::-webkit-scrollbar{width:8px;height:8px;background:#202123;border-radius:4px;} ::-webkit-scrollbar-thumb{border:1px solid rgba(255,255,255,.16);background-color:rgba(0,0,0,.64);border-radius:4px;} ::-webkit-scrollbar-corner, ::-webkit-resizer{background:#202123;} html{width:100vw;height:100vh;overflow:hidden;} body{-webkit-user-select:none;width:100vw;height:100vh;min-width:1024px;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;font-size:12px;color:#989A9C;background:#191919;letter-spacing:1px;overflow:hidden;} header{position:relative;height:60px;display:flex;align-items:center;z-index:215;background:#000;} header .header-center,header .header-left,header .header-right{width:240px;height:60px;background:#0F0F0F;} header .header-center{display:flex;flex:1;background:#000;} header .header-center .show-notes,header .header-center .zoom-widget{padding:20px;width:160px;} header .header-center h1{flex:1;} header .header-center .show-notes{text-align:right;line-height:20px;} header .header-center .show-notes .slidebox{margin-left:10px;} header .header-left{display:flex;} .zoom-widget{display:flex;} .zoom-widget button{position:relative;display:block;width:20px;height:20px;border-radius:10px;border:0;background:#3484F5;cursor:pointer;} .zoom-widget button:after,.zoom-widget button:before{position:absolute;top:9px;left:5px;content:"";display:block;width:10px;height:2px;background:#FFF;} .zoom-widget button:after{top:5px;left:9px;width:2px;height:10px;} .zoom-widget button:disabled{background:#222;cursor:default;} .zoom-widget button:disabled:after,.zoom-widget button:disabled:before{background:#606264;} .zoom-widget button.zoom-in:after{display:none;} .zoom-widget .zoom-text{display:block;text-align:center;line-height:20px;flex:1;} .unit-box{height:60px;} .unit-box .overlay{content:"";position:absolute;top:60px;left:0;width:100vw;height:calc(100vh - 60px);display:none;background:rgba(0,0,0,.56);z-index:1;} .unit-box:focus .overlay{display:block;} .unit-box:focus{height:auto;outline:0;} .unit-box h3,.unit-box p{position:relative;margin:0;padding:20px 20px 20px 54px;display:block;height:100%;line-height:20px;font-size:12px;font-weight:400;cursor:pointer;} .unit-box h3,.unit-box:focus p{display:none;} .unit-box h3:before,.unit-box p:before{position:absolute;top:18px;left:18px;content:"";display:block;width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAgMAAAAqbBEUAAAADFBMVEUAAABhY2VgZGdgYmRubxBCAAAAA3RSTlMA5EpWbVq4AAAALUlEQVQoz2OgOuD8DwTfoBx2EOcvlMP/HwSwcsDEKIeKHETwEuZgRBYiGqkNAFJPNT9Sw3d/AAAAAElFTkSuQmCC) no-repeat;background-size:24px 24px;} .unit-box ul{position:absolute;margin:1px 0 0 240px;padding:0;list-style:none;background:#0F0F0F;width:240px;height:calc(100vh - 61px);overflow:auto;display:block;transition:all .15s ease;z-index:2;} .unit-box:focus h3{color:#3A3A3A;display:block;} .unit-box:focus ul{margin:1px 0 0;} .unit-box .sub-title,.unit-box label{display:flex;padding:14px 20px;} .unit-box label{cursor:pointer;} .unit-box li:hover label{color:#FFF;} .page-list label span,.unit-box label span{flex:1;} .page-list input,.unit-box input{position:absolute;visibility:hidden;} .page-list span:before,.unit-box span:before{float:right;display:block;content:"";width:16px;height:16px;} .page-list input:checked+span:before,.page-list label:hover span:before,.unit-box input:checked+span:before,.unit-box label:hover span:before{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAADICAMAAAAp4rTzAAAAaVBMVEUAAACYm5yYm500hPaDoMKYucs0hfaYm52Znp6bnZ01hfeYnJ2Zm540hvc8iv81hPWYm52YnJ2ZnJ01h/g2ifmcnJw4h/o1hfY1hfU1hfY1hfU1hfY0hfaZnJ41hfY2h/aYnJw0hfU0hPbpk+wAAAAAInRSTlMAo5LmCAP0nDIVeHFNSg6diGVZNCciGtvSw7arj3xpVkSETvQOmQAAAPlJREFUeNrt1MtuwjAQheFxYhNyIUBCwqXcOu//kHWMl6wqRlWl/1tYs5ojzZEsAH7rUZYbMXZX1VJsfat5SNhqtDI9l/+yyuibps/TOd1qlM+7qB7nZZhPKeMgBlZ58+Go0WkWC6+ux7HU6NyLidz2ankvXoyEq2bbIHYaTa5i6q5RI8Y2ZfkQAAAAAAAAAAAAAAAA4K11UazF2NM5V4itwZmHhL2LKtNzhdYqw3edz9Mt3WqSz2ud29XLUO9SRi0Gqry5LpxLeRZeXU9Tyrh5MZHbrpa39WIkDC7bB7HTuWQQU08XdfLOP/sVAQAAAAAAAAAAAAD4Yz84hg8qlGTZeQAAAABJRU5ErkJggg==);background-size:50px 100px;} .page-list label:hover span:before,.unit-box label:hover span:before{background-position:0 -50px;} .page-list input:checked+span:before,.unit-box input:checked+span:before{background-position:0 0;} .unit-box .sub-title{font-size:12px;background:#000;color:#3A3A3A;} main{position:relative;height:calc(100vh - 60px);} .inspector,.navbar{position:absolute;top:0;bottom:0;display:flex;width:240px;background:#232527;z-index:5;} .inspector{transition:all .15s ease;right:-240px;display:block;} .inspector.active{right:0;} .navbar{left:-240px;width:240px;transition:all .15s ease;} .navbar.on{left:0;} .navbar nav{width:40px;background:#000204;} .navbar section{flex:1;} .tab{margin:0;padding:0;display:flex;width:100%;list-style:none;} .tab li{display:flex;flex:1;height:60px;cursor:pointer;font-size:12px;justify-content:center;align-items:center;} .tab li.current{background-color:#232527;} .tab li:before{content:"";width:40px;height:40px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAEsCAMAAACxJAyMAAAAY1BMVEUAAABfYmTY2NjY2NhgYGPa2tpdYGNfYGHZ2dlgYGRfX2LY2NhfYGPZ2dldX2Pb29vV1dXR0dFdYWNgYGPb29vU1NRdXV1aYWVdXWNYWGJbYGLX19fX19fa2trX19fY2NhgYmTufXliAAAAH3RSTlMA8/LjZq/mrzHHnp3VyIJqRQv7VVQbC0csGjrSX4l65F0P9QAAAvFJREFUeNrt3Nlu4kAURdHrCTMYM8ZAGKr+/yubSkdcRJy3OlI6vdcbj1vIPlEkrgEAAAAAAACAUnjy5XMm8cnrZ0IIIYQQQn5XyDNJyAtCCPnXQn7Nw04IIY6HnxBCzHjYCSGEEEII+ZEhAAAAAAAAAAAAAAAAAAAAAAAAAAD8HOEbllH8BiHjITYid4iNIIQQQgjJE+Kmi8VaE+KO8/lBHTItQ1iIQ96LGOfikLd7R2i0Icd7R2y1IW9VuLtIQ06TeFdLQzbL4F+IKGSYRf9CVCFN6lhupCFt6pgN0pBF6qjeTBkyTx2TkylDbqmjnEp3pE8dxVG6I5eQrKWDWKeO7UE6iOuQrKTLftj6C0sVMi1Tx9VEIT4gsTdViA/I0lQhPiAzU4ZszuHDRRgydPFDrQnxAVE/I7MYs5eETz4gD/vc/3zwAXnYqUKu3tGYKKT3jtZEVt6xMJHaO+Ymsn5klBcT8AFJitoEfECSamoi70X81B1NwAckuZmAD0hS9OZEHc2bqZy6+Fd7MpllSMrF1DR8QIr50XSaVNGsNibUpoq2Hkzoem5uU9Pqu7Z/NwAAAAAAAAAAAAAAAAAAAAAAAAAA/jO3m8n1vcmtQliZWB1jbWKXsVsP+TvkJXu/kCCz26aQ7c6E1uHT2mQOqeP1Qo2gQ13iv8ov3k3Erwv49SNFh67EO9QlR+94ueOU+7qA88taua8kuMnJ8luGF0vLbhZfzCy7VXghGMY6vlDMSRW+qCyzSfxiYi7fEjrJLu7iiNy7uAhOdXJnHp3s5M45jDhbVl0c0VleZRhRWlZFHFFYXmGUZbWNI7aWVxWC/LU1iVH62vI51E2iz6F6Eq9hxNWy6uOI3vJaB6f6W/4QRxwss7Ps7es63dvX7WXD7nbCYXcL2a67uXrX/d6yW24su2EmfGV5SROeNBsTGNr4pB1MY1U9pnBlIvXkMYW1yWz2TVWWVbPfmMywa7ui6NrdYAAAAAAAAAAAAAAAAADw5A96XDaWeHqp+wAAAABJRU5ErkJggg==) no-repeat -50px 0;background-size:100px 150px;overflow:hidden;} .tab li.current:before{background-position-x:0;} .tab li.icon-slices:before{background-position-y:-50px;} .tab li.icon-colors:before{background-position-y:-100px;} #inspector .code-item{display:none!important;} #inspector .code-item textarea{padding: 16px;} #inspector .code-item.select{display: block!important;} #inspector .tab li{height:40px;} #inspector .tab li:before{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAEsCAMAAACxJAyMAAAAn1BMVEUAAABgYmTZ2dnf39/b29tkZWZnaGhgYmRgY2TZ2dlpaW/Z2dnZ2dna2trn5+dgYmRgYmRgYmXBwcHY2NhhY2XZ2dlhY2VkZGhkZWhgYmXZ2dlgYmRhYmVhZGXZ2dnZ2dnb29tiZGZhYmXa2trb29vZ2dlgYmVgY2Ta2trb29thZGbb29vZ2dlgYmTZ2dna2tra2tphY2Xe3t7Y2NhgYmRl+xw/AAAAM3RSTlMA8PIeLzAge9fWDOeHfAz16OEG7YfebCkZurnBsVvGsTc3jnBTp6fLXUVFJ76Zj5poURVaW7T5AAAFHklEQVR4Ae3dyVLzyhIE4JRs0CAPsjzPNmAbMHPV+z/b/YWI+xtw6yxONRGHyG/VwS5DlbS0oMAvQ0RERERERERE9CB1MliYa50cJkKps4aFQOssYKEhtdowcKm1Ili4kVo3MPCqtV5hoSW1GjAw0FoTWJj9QNenP9H1hsOLlGawMLk8b2TYddSPXAs+DbQ0gFez+q4bjtwrvMrsuu6Ua+kSFtahg5T6sLAIHLQUwEQmdWawkGudqf973ajrE601+C33+hIW2j9wr0fqZtd1qRPCwkLrBDBxbJ53LaUHWBhfnDfS0hxetY3vdffIXcGrtZRu4dPCsOtOQykd4VNPS2NYaCWlW3z1Ztj1QVxa4quJZdcTKW3w1Z2UVrAQa2mLr+4Nu17Iu46j608wUOi71GvXN/LueYNPmq3Mrutbffe4xSfjQW7Y9Rf5kFy//U2RyIcmDIz0Qzya/E0Ra8Wo68/y1+7uJEUFFh71/7r7+zJFFJ/8yK7rfw2fEzm1goWDnuo9xnrqABM7qTG8hYW91oiXsPF2nThStJowMoliPas3uIChzXP4PcUGpraP3e8ptrDWeVl5TFFJR4fTFFdb+NF86kspe9rAl/FV4DdFpbiZeUxRKZbTf5eCiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIqBW24NsgGMA7EYFvqvpbgxT+gzSTrOk7yEWcX/gO0uyLtD0HuQhUI69Bqhz9hs8gVY7g0keQ9mwYhsm63ahyNH10JJr2ukG8iCZVjguYkxMzPzmgJ6aecrTklJ8cAz3lJUdnLV+sOjCWLvSLQ/oTW0BnBWzN9ZtpAVttOeMJpiI94wqmNlJqd9ry6dCEoa2WojTST4cLD3uCOujIp8OD/Z6gFKl+OsxhqCHnn4g0YGai55+IXvptSOXaa0MqkelkOcwsJ8thCjuJOCQwc1CHGHZCcQhhJlCHAPRbXYfiFF7DxKirTt2RfUO8taSrNbqwIbVgQmv9wifCjlTECWaMBotBzDAIgzAIg9jJxCGDmVwdctjZicMOZvbqsIedRl/O6jdgZhLoWcEEhhq7TL7Jdg0Ymuxz/SbfT0BERERERERERERERERERERERERERERERPTfUdzOMnhWLKc5PLsbivTh133P/5aEW/ljBa+W1XIXr+6kdA2f7rUUwacikz/6HXhU9PSPIIVPL1K6gU8jLS3h1YP80YZXU7+DVel7LUglqPYK+BUOn47wLOg9juFH82k2THY3HZQ27VUWDtcvHZgaX03jw36ZorSN5nk3XoxSWDo+yIf17V1rKBXbqoznWukulveDnn7oRrBzE4rDQwEjr4E6zFPTG9BhZ3kDOuy9/slxZbiBiUmuTr0tbDyLU9KBjUd1ilPY6ITiEh5hIw3UJRjDyIs4tWBkpE4DWNmJ0xFG9uo0hpWVuGSwMleXHGYycVnBSk9dDjAjPxBEfyJI9gOjlatLD2YScWrASKxOl7AyE6c2jEzVKYKVljiFb/a7sP3tRbkTt1Xh/5XR7OW3kBqrN1hItcZ84rcklezFZ0kq+QgmbqTOAyy8ap05bAylxq3Xu72yhI1rcUv8v/9qDCNFIk53sFHE6nQP/7+BZ7Byry5T2Hn2/YlY87XbHcNOkfhseiWN/Ta90sj8/3OFy1zPuIKtYyLvkudWay2VFmyNY30XP0ZXi659jkqnlYSr9rE63+yG2XoDa+kgDg7RuDq/7uPeYgsiIiIiIiIiIiIiIiIiIiKif/Y/jlFGecKAUnMAAAAASUVORK5CYII=); } #inspector .tab li.select{background-color:rgba(255,255,255,.05);} #inspector .tab li.select:before{background-position-x: 0;} #inspector .tab li.icon-android-panel:before {background-position-y: -50px;} #inspector .tab li.icon-ios-panel:before {background-position-y: -100px;} .screen-viewer{position:absolute;width:100vw;height:calc(100vh - 60px);background:#191919 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlMAUvP2/eAAAAARSURBVAjXY6ASYD6ATlAHAADy5gMN0fCqFwAAAABJRU5ErkJggg==);background-size:16px 16px;overflow:auto;} .screen-viewer,.screen-viewer .overlay{position:absolute;width:100vw;height:calc(100vh - 60px);background:#191919 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlMAUvP2/eAAAAARSURBVAjXY6ASYD6ATlAHAADy5gMN0fCqFwAAAABJRU5ErkJggg==);background-size:16px 16px;overflow:auto;} .screen-viewer .overlay{display:none;position:fixed;top:60px;left:0;background:transparent;overflow:hidden;z-index:2;cursor:none;} .screen-viewer.moving-screen .overlay{display:block;} .screen-viewer-inner{position:relative;margin:0 auto;} .screen{margin:0 auto;position:absolute;left:50%;top:50%;background:#FFF;box-shadow:0 2px 10px 0 rgba(0,0,0,.2);transition:all .15s ease;} .layer{position:absolute;cursor:pointer;} .hover,.selected{border:1px solid #EE6723;} .has-slice{border:1px dashed #EE6723;background:rgba(255,85,0,.32);} .layer b,.layer i{position:absolute;width:5px;height:5px;background:#FFF;border:1px solid #EE6723;border-radius:50%;overflow:hidden;display:none;} .layer b{width:3px;height:3px;background:#EE6723;} .selected i{display:block;} .distance.h div[data-width]:before,.distance.v div[data-height]:before,.selected:after,.selected:before{position:absolute;display:block;left:50%;top:-23px;transform:translateX(-50%);content:attr(data-width);font-size:12px;color:#FFF;height:12px;line-height:12px;padding:4px;background:#EE6723;border-radius:2px;z-index:1;} .percentage-mode .distance.h div[data-width]:before,.percentage-mode .distance.v div[data-height]:before,.percentage-mode .selected:after,.percentage-mode .selected:before{content:attr(percentage-width);} .selected.hidden:after,.selected.hidden:before{display:none;} .distance.v div[data-height]:before,.selected:after{content:attr(data-height);left:auto;right:0;top:50%;transform:translateX(calc(100% + 3px)) translateY(-50%);} .percentage-mode .distance.v div[data-height]:before,.percentage-mode .selected:after{content:attr(percentage-height);} .layer .tl{top:-3px;left:-3px;} .layer .tr{top:-3px;right:-3px;} .layer .bl{bottom:-3px;left:-3px;} .layer .br{bottom:-3px;right:-3px;} .hover{border:1px solid #419bf9;} .selected{border:1px solid #EE6723;} .ruler{position:absolute;width:100%;height:100%;border:1px dashed #419bf9;} .ruler.h{border-left:0;border-right:0;} .ruler.v{border-top:0;border-bottom:0;} .distance,.distance div,.distance div:before,.distance:after,.distance:before{position:absolute;} .distance.v,.distance.v div{width:1px;} .distance.h,.distance.h div{height:1px;} .distance.v div{top:0;bottom:0;background:#EE6723;} .distance.h div{left:0;right:0;background:#EE6723;} .distance.v:after,.distance.v:before{content:"";top:0;left:-2px;width:5px;height:1px;background:#EE6723;} .distance.h:after,.distance.h:before{content:"";top:-2px;left:0;width:1px;height:5px;background:#EE6723;} .distance.v:after{top:auto;bottom:0;} .distance.h:after{left:auto;right:0;} .note{position:absolute;margin:-12px 0 0 -12px;width:24px;height:24px;background:#F5A623;border-radius:50%;border:2px solid #FFF;box-shadow:0 0 3px rgba(0,0,0,.24);} .note:before{content:attr(data-index);font-size:12px;display:block;color:#FFF;text-align:center;width:100%;height:100%;line-height:20px;} .note:hover{box-shadow:0 0 3px rgba(0,0,0,.64);} .note div{position:absolute;top:50%;left:30px;border-radius:4px;padding:8px;background:#FFF;box-shadow:0 0 3px rgba(0,0,0,.5);-webkit-user-select:text;color:#222;transform:translateY(-50%);z-index:2;} .note div:before{content:"";position:absolute;left:-7px;top:50%;width:8px;height:14px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAcCAMAAABf788oAAAANlBMVEUAAAAAAAAAAAAAAAAAAAAAAADR0dEAAAAAAAAAAAAAAAAAAADNzc0AAAAAAADa2trk5OT////5auFFAAAAEXRSTlMAAgYKEhydNCkYDiOfLieWjz4MUj4AAABrSURBVBjTZZFbDoAgEANVFHmIOve/rERjWGj/psnCbjv1gg7nGTpcFmtUdA4Mu7QmMLzGGMHwlvMNhs9yAY3D7qkamcYHr/75ys1IMRePNbbwsRo6oo/qt7rY6Ohxer4GpBFqyFqDFtWqfAD4dQrlWDmShAAAAABJRU5ErkJggg==) no-repeat;background-size:8px 14px;transform:translateY(-50%);} .slidebox{position:relative;width:40px;height:20px;display:inline-block;} .slidebox input{visibility:hidden;} .slidebox label{position:absolute;top:0;left:0;width:40px;height:20px;background:#898989;box-shadow:inset 0 1px 3px 0 rgba(0,0,0,.3);border-radius:10px;cursor:pointer;transition:all .2s ease;} .slidebox label:after{position:absolute;content:"";top:2px;left:2px;width:16px;height:16px;background-image:linear-gradient(-180deg,#F8F9F6 0,#F5F5F5 100%);box-shadow:0 1px 2px 0 rgba(0,0,0,.3);border-radius:8px;transition:all .15s ease;} .slidebox input[type=checkbox]:checked+label{background:#3484F5;} .slidebox input[type=checkbox]:checked+label:after{left:22px;} .inspector{overflow:auto;} .inspector h2,.inspector h3{margin:0;padding:0;font-weight:400;} .inspector h2{font-size:12px;line-height:24px;padding:12px 16px;text-align:center;} .inspector h3{height:32px;font-size:12px;line-height:32px;padding:0 16px;background-image:linear-gradient(90deg,rgba(0,4,9,.32) 0,rgba(0,2,4,0) 100%);} .inspector .context{padding:16px;} .inspector .color,.inspector .item{display:flex;margin:0 0 8px;} .inspector .item[data-label]:before{content:attr(data-label);display:block;width:70px;font-size:12px;height:24px;line-height:24px;} .inspector .color:last-child,.inspector .item:last-child{margin:0;} .inspector .item div,.inspector .item label{flex:1;} .inspector .item label{padding:0 4px;} .inspector .item label:first-child{padding:0 4px 0 0;} .inspector .item label:last-child{padding:0 0 0 4px;} .inspector .item label:only-child{padding:0;} .inspector .item label[data-label]:after{content:attr(data-label);font-size:10px;text-align:center;display:block;margin:2px 0 0;} .inspector input,.inspector textarea{padding:3px 4px;width:100%;background:rgba(255,255,255,.05);border-radius:2px;border:0;line-height:18px;height:24px;font-size:12px;color:#FFF;text-align:center;outline:0;resize:none;} .inspector textarea{min-width:100%;height:auto;text-align:left;} .context h4{font-size:12px;font-weight:400;position:0;margin:0 0 16px;color:#FFF;} .context h4:before{margin:0 10px 0 0;display:inline-block;content:"";width:8px;height:8px;border-radius:1px;background:#3484F5;} .context .colors{margin:0 0 8px;} .context .colors:last-child,.context .items-group:last-child{margin:0;} .context .items-group{margin:0 0 24px;} .inspector .color{display:block;} .inspector .color[data-name]:after{content:attr(data-name);font-size:10px;text-align:center;padding:0 0 0 24px;display:block;margin:2px 0 0;} .inspector .color label,.inspector .color label em,.inspector .color label em i{position:absolute;display:block;width:24px;height:24px;padding:0;} .inspector .color label em{position:relative;background-color:#fff;background-image:linear-gradient(45deg,#dddadc 25%,transparent 25%,transparent 75%,#dddadc 75%,#dddadc),linear-gradient(45deg,#dddadc 25%,transparent 25%,transparent 75%,#dddadc 75%,#dddadc);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:2px 0 0 2px;overflow:hidden;} .inspector .color label em i{position:relative;} .inspector .item .color input{text-align:center;} .inspector .color input{padding-left:32px;width:100%;text-align:left;} .gradient .color label:before{position:absolute;top:12px;left:11px;content:"";width:2px;height:32px;background:#FFF;z-index:2;box-shadow:0 0 2px 1px rgba(0,0,0,.2);} .gradient .color label:after{position:absolute;top:8px;left:8px;content:"";width:8px;height:8px;background:#FFF;z-index:3;border-radius:4px;box-shadow:0 0 2px 1px rgba(0,0,0,.2);} .gradient .color[data-name] label:before{height:42px;} .gradient .color:last-child label:before{display:none;} .navbar section{position:relative;overflow:auto;} .artboard-list,.asset-list,.color-list{margin:0;padding:0;list-style:none;} .artboard-list li{padding:16px;display:flex;cursor:pointer;} .artboard-list li:hover,.asset-list li:hover,.color-list li:hover{background:#191A1E;} .artboard-list li.active{background:#454748;} .preview-img{display:block;width:44px;height:44px;text-align:center;background:rgba(0,0,0,.32);} .preview-img:before{content:' ';display:inline-block;vertical-align:middle;height:100%;} .preview-img img{max-width:44px;max-height:44px;background:#FFF;vertical-align:middle;} .pages-select{padding:24px;position:relative;} .pages-select h3{margin:0;text-align:center;font-size:12px;font-weight:400;color:#FFF;cursor:pointer;} .page-list em,.pages-select h3 em{font-style:normal;font-size:10px;color:#989A9C;} .pages-select h3:after{content:"";margin:0 0 0 4px;width:12px;height:6px;display:inline-block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAMAgMAAAAFXpXmAAAACVBMVEUAAABiZGZgYmThY1mHAAAAAnRSTlMAgJsrThgAAAA1SURBVAjXFckxAQAgDMTAZ6kI1KAHNYjoAipJsmS47Ec303XKnQy3AkIRm5UUUAIhERIhEfoqmRfpcqcFcAAAAABJRU5ErkJggg==) no-repeat;background-size:12px 6px;} .pages-select .page-list{display:none;position:absolute;left:50%;transform:translateX(-50%);margin:-32px 0 0;padding:8px;border-radius:4px;list-style:none;width:180px;background:#0F0F0F;box-shadow:0 2px 10px 0 rgba(0,0,0,.8);} .pages-select:focus{outline:0;} .pages-select:focus .page-list{display:block;} .pages-select .page-list label{padding:10px;cursor:pointer;} .pages-select .page-list label,.pages-select .page-list span{display:block;} .page-list span:before{position:absolute;right:8px;} .exportable{margin:0;padding:0;list-style:none;background:#191A1E;border:1px solid #2D2F31;border-radius:4px;} .exportable li{position:relative;padding:0 8px;height:32px;line-height:32px;border-bottom:1px solid #222;white-space:nowrap;text-overflow:ellipsis;} .exportable li a{color:#FFF;text-decoration:none;outline:0;} .exportable li:last-child{border:0;} .exportable img{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;} .asset-list li,.color-list li{padding:24px;display:flex;cursor:pointer;} .color-list li{cursor:default;} .asset-list li picture,.color-list li em{position:relative;display:block;text-align:center;width:32px;height:32px;background-color:#4A4A4A;background-image:linear-gradient(45deg,#000 25%,transparent 25%,transparent 75%,#000 75%,#000),linear-gradient(45deg,#000 25%,transparent 25%,transparent 75%,#000 75%,#000);background-size:8px 8px;background-position:0 0,4px 4px;border-radius:2px;} .color-list li em{background-color:#fff;background-image:linear-gradient(45deg,#dddadc 25%,transparent 25%,transparent 75%,#dddadc 75%,#dddadc),linear-gradient(45deg,#dddadc 25%,transparent 25%,transparent 75%,#dddadc 75%,#dddadc);border-radius:50%;overflow:hidden;} .color-list li em i{position:absolute;top:0;left:0;right:0;bottom:0;} .artboard-list li div,.asset-list li div,.color-list li div{padding:0 0 0 16px;flex:1;} .artboard-list li div{padding:6px 0 4px 16px;} .asset-list li picture:before{content:"";display:inline-block;height:100%;vertical-align:middle;} .asset-list li picture img{vertical-align:middle;max-width:28px;max-height:28px;} .asset-list li picture:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;} .artboard-list h3, .asset-list h3,.color-list h3{margin:0 0 4px;padding:0;color:#FFF;font-size:12px;font-weight:400;overflow:hidden;text-overflow:ellipsis;} .artboard-list small, .asset-list small,.color-list small{font-size:10px;} .artboard-list li.active small{color:#FFF;} .empty{position:absolute;top:30%;left:0;right:0;transform:translateY(-50%);vertical-align:middle;text-align:center;} .message{position:absolute;top:50%;left:50%;padding:10px 20px;max-width:320px;transform:translateX(-50%) translateY(-50%);text-align:center;border-radius:4px;background:rgba(0,0,0,.96);border: 1px solid rgba(255,255,255,.16);color:#FFF;box-shadow:0 2px 10px rgba(0,0,0,.32);z-index:9;display:none;} .cursor{position:absolute;display:none;margin:-8px 0 0 -8px;top:50%;left:50%;width:16px;height:17px;background-size:16px 17px;background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAiCAMAAAAJbCvNAAABVlBMVEUAAAAGBgYBAQEBAQEAAAAAAAAAAAAnJycAAAA3NzcDAwMNDQ0AAAAAAAAAAAAhISEbGxsYGBgPDw8CAgIDAwMBAQEAAAAAAAAAAAAAAAAAAAAvLy8UFBQCAgIBAQEAAAAAAAAAAAAAAAAAAAA+Pj5BQUE/Pz8zMzMCAgIDAwMDAwMCAgIBAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7OzsAAAAAAAAAAAAAAAD///8AAABhYWEdHR36+vpVVVX9/f329vbz8/Pb29uBgYF0dHRjY2MsLCz39/ft7e3r6+vR0dFxcXFSUlJNTU3X19fKysq4uLh3d3dXV1dJSUlGRkZERETv7+/o6Ojj4+O8vLy1tbW0tLSnp6empqaTk5OKioqGhoZtbW1nZ2dcXFxPT0/Dw8PCwsKwsLCurq6pqamhoaGZmZmNjY16enpeXl5JnG7xAAAAPHRSTlMA/fj9B1EC/jf+/vw8Ew7+/fz85t26mpRoYyX9/OLMoHlKMiL+/f398enY0cC1tLGojouGVh4Z/qpyQy7UG/vLAAACHUlEQVQ4T33QVVdbURBA4bk3QjwQIIa7u9T2QDwQxx2K1+X/v/QhlzRpWN2v51tnZo1IS4ERx4b8J4epaht+5cHpiKzGRfzmxH55R0ftseERZwuIqGGY6xLTLKSNoTlV7W0WY7Z8qjRhflgxADrUOMjcarQJjGgZiqHecBfAuB4Cfb1NwKcHwJ0OdgKc6jWw1S0y5rLXgd18AIqGdtVBGdjpti+r9sTrYqkrBSS1H+BEz4GjnojmvnutQQ79AnxTL8CxFoCkqXnYmakD58AkkPEYADUPQFVDGajOWmsOaxboU4DnEEBN80Dfgoj4og7/pu0QeNQ08NxZ32QPEp41cS6rqvluqT8FX4MJIPcEkHQDn9Qh65rP7le1W/dpKVEAcraArHpTQE71nvZO50TWjAxARU9eAaGwiEtvARJTnQCpNKTPIFEEuNCoiCwYnwGKWYCKG7bGobILcK0+EfHPevcafz4FoboLW9sA9xoQEdmY6Si8gN9BSDZArad+xvf66wVsbTeBMyNiHXrIs9cMOixwp6MW8E9PWmBnG44scOFdlJdi+tMCXQ2QcE/HG8D5Vj8CkO+Axymo7HKoDvmbfd5zA5AoQeYcCqWsLSzNBeZtP2guZ/O3ALEvWlMoveksQ7JH/sk56K6DmjkQTHM8+C+Qof6rg8vLqweNumzHN+7uNhDWeisiMVN1oA3YR10un8+1KSISiI/Z28Dr/QHPa6Em8DfwfAAAAABJRU5ErkJggg==');background-repeat:no-repeat;cursor:none;z-index:1; } .cursor.show{display:block;} .cursor.moving{background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAiCAMAAAAJbCvNAAABMlBMVEUAAAAAAAA2NjYsLCwCAgIAAAAAAAAMDAwBAQECAgIBAQECAgIBAQEBAQEAAAAAAAAAAAA5OTkgICAICAgAAAAcHBwCAgIAAAAAAAAAAAAAAAAAAABDQ0M8PDwxMTE0NDQVFRUCAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPDw8DAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAABhYWEcHBz6+vr39/dMTEzs7Oy8vLy4uLhWVlYqKiooKCj09PTw8PC1tbWnp6d2dnZZWVn8/Pzp6enj4+Pd3d3a2trNzc2tra2pqammpqaKioqAgIBzc3NwcHBmZmZdXV1TU1NHR0c+Pj7W1tbR0dHGxsbAwMCampqSkpKPj4+GhoZycnJsbGwkJCTy91wiAAAANnRSTlMAPP7+/ZcN/Pnr487Kv7QlEv7+/fz71jk2GAcE/v7+/fzzpaCUkGZZQTEsIAn826uEg3JtXFGryOxIAAABkElEQVR4AeXS1XLbQBjF8RXIDHbNdiBpOCnDOa4kg2Oww9w2KUPf/xW6s8q2sTXT6X1+t99/NJozK+6lR8ZmRPzDZpxc3sg9y2Sez3aNl+mUsx23TjpzxbJtmnaqMR08ZO8mGuNn4JA8AU75YiXl5ISW5SXwgTwAUGIfcAuM3thpoRnsAJhnC8DcY0gWj3HBmg5qPAdw1nMBfJ9Aai4AQ1aFllzENNcD2jSEsuOkEvyIEB1k44XrEicI6bCigtXoIbzFN5D2PMAbAG4L0im3VVD2AQyOIF3lgeY88MOC9JXBEEkf2rsHwHtLRup749jtikvTQU8Hflkor/hJB00ZdHUwKKwKJRLP70FRh+7ubXDOLRHY4GU4wEE0I7Q1foPyVh4mQeCay1nxx1OeqWC8K6MF4MrCmK/FX/W0PQKCgfr7gLd/ZDvirkiaX3DXRTE381wzHEFp5UvHQPeJmNFImlD8WOJXH35SzFpZGnba7eFPrleK1yMzEQocBtaEWI+R4aC+Va0YRrWm/jm7Uxf/5zeExWvZghlTSgAAAABJRU5ErkJggg==');}]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E9%93%B6%E8%A1%8C%E5%8D%A1%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E9%87%8D%E7%BD%AE%E5%AF%86%E7%A0%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E7%A7%92%E5%90%88%E7%BA%A6%E6%8C%81%E4%BB%93-%E6%8C%81%E4%BB%93%E4%B8%AD%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E7%A7%92%E5%90%88%E7%BA%A6%E6%8C%81%E4%BB%93-%E4%B8%8B%E5%8D%95%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E7%A7%92%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E7%A7%92%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93-%E6%8C%81%E4%BB%93%E8%AE%A2%E5%8D%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E7%A7%92%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93-%E4%B9%B0%E6%B6%A8%E4%B9%B0%E8%B7%8C60s%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E7%A7%92%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93-%E4%B9%B0%E6%B6%A8%E4%B9%B0%E8%B7%8C30s%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E7%A7%92%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93-%E4%B9%B0%E6%B6%A8%E4%B9%B0%E8%B7%8C180s%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E7%A7%92%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93-%E4%B8%8B%E5%8D%95%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E7%99%BB%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E6%B7%BB%E5%8A%A0%E9%93%B6%E8%A1%8C%E5%8D%A1-%E6%9C%AC%E4%BA%BA%E4%BF%A1%E6%81%AF%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E6%B3%A8%E5%86%8C%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E6%B3%A8%E5%86%8C-%E8%B5%84%E6%96%99%E5%A1%AB%E5%86%99%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E6%B3%A8%E5%86%8C-%E5%8F%91%E9%80%81%E7%9F%AD%E4%BF%A1%E9%AA%8C%E8%AF%81%E7%A0%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E6%8F%90%E5%B8%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E6%88%91%E7%9A%84%E6%8E%A8%E5%B9%BF%E4%BA%8C%E7%BB%B4%E7%A0%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E6%88%91%E7%9A%84-%E8%B5%84%E4%BA%A7%E4%BA%92%E8%BD%AC%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E6%88%91%E7%9A%84-%E8%B5%84%E4%BA%A7%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81-%E5%8F%91%E9%80%81%E7%9F%AD%E4%BF%A1%E9%AA%8C%E8%AF%81%E7%A0%81%E6%8F%90%E7%A4%BA%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81-%E5%8F%91%E9%80%81%E7%9F%AD%E4%BF%A1%E9%AA%8C%E8%AF%81%E7%A0%81-%E8%BE%93%E5%85%A5%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E5%90%88%E7%BA%A6%E6%8C%81%E4%BB%93%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E5%90%88%E7%BA%A6%E6%8C%81%E4%BB%93-%E4%B8%8B%E5%8D%95%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93%E4%B8%AD%E5%BF%83%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93%E4%B8%AD%E5%BF%83-%E6%8C%82%E5%8D%95%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93%E4%B8%AD%E5%BF%83-%E4%B9%B0%E5%85%A5-%E5%8D%96%E5%87%BA%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E5%8C%BA%E5%8F%B7%E5%B1%95%E5%BC%80%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E5%85%85%E5%B8%81%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83-%E4%B8%AA%E4%BA%BA%E8%AE%BE%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-h5%E9%A6%96%E9%A1%B5%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-h5%E9%A6%96%E9%A1%B5-%E5%B1%95%E5%BC%80%E8%8F%9C%E5%8D%95%E7%A7%92%E5%90%88%E7%BA%A6%E4%BA%A4%E6%98%93%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Flinks%2Fatmex-h5%E9%A1%B5%E9%9D%A2-h5%E9%A6%96%E9%A1%B5-%E5%B1%95%E5%BC%80%E8%8F%9C%E5%8D%95%E6%A0%8F%2F</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%B6%E4%BB%96%2F%E5%A4%96%E5%8C%85%2FATMEX%2FUI%2FATMEX%20h5%2Findex%2F</url>
    <content type="text"><![CDATA[Spec Export - Sketch Measure 2.4 /*! normalize.css v4.1.1 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}template,[hidden]{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:0;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit}b,strong{font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,select,textarea{font:inherit;margin:0}optgroup{font-weight:bold}button,input{overflow:visible}button,select{text-transform:none}button,html [type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit} *{box-sizing:border-box;} ::-webkit-scrollbar{width:8px;height:8px;background:#202123;border-radius:4px;} ::-webkit-scrollbar-thumb{border:1px solid rgba(255,255,255,.16);background-color:rgba(0,0,0,.64);border-radius:4px;} ::-webkit-scrollbar-corner, ::-webkit-resizer{background:#202123;} html{width:100vw;height:100vh;overflow:hidden;} body{-webkit-user-select:none;width:100vw;height:100vh;min-width:1024px;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;font-size:12px;color:#989A9C;background:#191919;letter-spacing:1px;overflow:hidden;} header{position:relative;height:60px;display:flex;align-items:center;z-index:215;background:#000;} header .header-center,header .header-left,header .header-right{width:240px;height:60px;background:#0F0F0F;} header .header-center{display:flex;flex:1;background:#000;} header .header-center .show-notes,header .header-center .zoom-widget{padding:20px;width:160px;} header .header-center h1{flex:1;} header .header-center .show-notes{text-align:right;line-height:20px;} header .header-center .show-notes .slidebox{margin-left:10px;} header .header-left{display:flex;} .zoom-widget{display:flex;} .zoom-widget button{position:relative;display:block;width:20px;height:20px;border-radius:10px;border:0;background:#3484F5;cursor:pointer;} .zoom-widget button:after,.zoom-widget button:before{position:absolute;top:9px;left:5px;content:"";display:block;width:10px;height:2px;background:#FFF;} .zoom-widget button:after{top:5px;left:9px;width:2px;height:10px;} .zoom-widget button:disabled{background:#222;cursor:default;} .zoom-widget button:disabled:after,.zoom-widget button:disabled:before{background:#606264;} .zoom-widget button.zoom-in:after{display:none;} .zoom-widget .zoom-text{display:block;text-align:center;line-height:20px;flex:1;} .unit-box{height:60px;} .unit-box .overlay{content:"";position:absolute;top:60px;left:0;width:100vw;height:calc(100vh - 60px);display:none;background:rgba(0,0,0,.56);z-index:1;} .unit-box:focus .overlay{display:block;} .unit-box:focus{height:auto;outline:0;} .unit-box h3,.unit-box p{position:relative;margin:0;padding:20px 20px 20px 54px;display:block;height:100%;line-height:20px;font-size:12px;font-weight:400;cursor:pointer;} .unit-box h3,.unit-box:focus p{display:none;} .unit-box h3:before,.unit-box p:before{position:absolute;top:18px;left:18px;content:"";display:block;width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAgMAAAAqbBEUAAAADFBMVEUAAABhY2VgZGdgYmRubxBCAAAAA3RSTlMA5EpWbVq4AAAALUlEQVQoz2OgOuD8DwTfoBx2EOcvlMP/HwSwcsDEKIeKHETwEuZgRBYiGqkNAFJPNT9Sw3d/AAAAAElFTkSuQmCC) no-repeat;background-size:24px 24px;} .unit-box ul{position:absolute;margin:1px 0 0 240px;padding:0;list-style:none;background:#0F0F0F;width:240px;height:calc(100vh - 61px);overflow:auto;display:block;transition:all .15s ease;z-index:2;} .unit-box:focus h3{color:#3A3A3A;display:block;} .unit-box:focus ul{margin:1px 0 0;} .unit-box .sub-title,.unit-box label{display:flex;padding:14px 20px;} .unit-box label{cursor:pointer;} .unit-box li:hover label{color:#FFF;} .page-list label span,.unit-box label span{flex:1;} .page-list input,.unit-box input{position:absolute;visibility:hidden;} .page-list span:before,.unit-box span:before{float:right;display:block;content:"";width:16px;height:16px;} .page-list input:checked+span:before,.page-list label:hover span:before,.unit-box input:checked+span:before,.unit-box label:hover span:before{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAADICAMAAAAp4rTzAAAAaVBMVEUAAACYm5yYm500hPaDoMKYucs0hfaYm52Znp6bnZ01hfeYnJ2Zm540hvc8iv81hPWYm52YnJ2ZnJ01h/g2ifmcnJw4h/o1hfY1hfU1hfY1hfU1hfY0hfaZnJ41hfY2h/aYnJw0hfU0hPbpk+wAAAAAInRSTlMAo5LmCAP0nDIVeHFNSg6diGVZNCciGtvSw7arj3xpVkSETvQOmQAAAPlJREFUeNrt1MtuwjAQheFxYhNyIUBCwqXcOu//kHWMl6wqRlWl/1tYs5ojzZEsAH7rUZYbMXZX1VJsfat5SNhqtDI9l/+yyuibps/TOd1qlM+7qB7nZZhPKeMgBlZ58+Go0WkWC6+ux7HU6NyLidz2ankvXoyEq2bbIHYaTa5i6q5RI8Y2ZfkQAAAAAAAAAAAAAAAA4K11UazF2NM5V4itwZmHhL2LKtNzhdYqw3edz9Mt3WqSz2ud29XLUO9SRi0Gqry5LpxLeRZeXU9Tyrh5MZHbrpa39WIkDC7bB7HTuWQQU08XdfLOP/sVAQAAAAAAAAAAAAD4Yz84hg8qlGTZeQAAAABJRU5ErkJggg==);background-size:50px 100px;} .page-list label:hover span:before,.unit-box label:hover span:before{background-position:0 -50px;} .page-list input:checked+span:before,.unit-box input:checked+span:before{background-position:0 0;} .unit-box .sub-title{font-size:12px;background:#000;color:#3A3A3A;} main{position:relative;height:calc(100vh - 60px);} .inspector,.navbar{position:absolute;top:0;bottom:0;display:flex;width:240px;background:#232527;z-index:5;} .inspector{transition:all .15s ease;right:-240px;display:block;} .inspector.active{right:0;} .navbar{left:-240px;width:240px;transition:all .15s ease;} .navbar.on{left:0;} .navbar nav{width:40px;background:#000204;} .navbar section{flex:1;} .tab{margin:0;padding:0;display:flex;width:100%;list-style:none;} .tab li{display:flex;flex:1;height:60px;cursor:pointer;font-size:12px;justify-content:center;align-items:center;} .tab li.current{background-color:#232527;} .tab li:before{content:"";width:40px;height:40px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAEsCAMAAACxJAyMAAAAY1BMVEUAAABfYmTY2NjY2NhgYGPa2tpdYGNfYGHZ2dlgYGRfX2LY2NhfYGPZ2dldX2Pb29vV1dXR0dFdYWNgYGPb29vU1NRdXV1aYWVdXWNYWGJbYGLX19fX19fa2trX19fY2NhgYmTufXliAAAAH3RSTlMA8/LjZq/mrzHHnp3VyIJqRQv7VVQbC0csGjrSX4l65F0P9QAAAvFJREFUeNrt3Nlu4kAURdHrCTMYM8ZAGKr+/yubSkdcRJy3OlI6vdcbj1vIPlEkrgEAAAAAAACAUnjy5XMm8cnrZ0IIIYQQQn5XyDNJyAtCCPnXQn7Nw04IIY6HnxBCzHjYCSGEEEII+ZEhAAAAAAAAAAAAAAAAAAAAAAAAAAD8HOEbllH8BiHjITYid4iNIIQQQgjJE+Kmi8VaE+KO8/lBHTItQ1iIQ96LGOfikLd7R2i0Icd7R2y1IW9VuLtIQ06TeFdLQzbL4F+IKGSYRf9CVCFN6lhupCFt6pgN0pBF6qjeTBkyTx2TkylDbqmjnEp3pE8dxVG6I5eQrKWDWKeO7UE6iOuQrKTLftj6C0sVMi1Tx9VEIT4gsTdViA/I0lQhPiAzU4ZszuHDRRgydPFDrQnxAVE/I7MYs5eETz4gD/vc/3zwAXnYqUKu3tGYKKT3jtZEVt6xMJHaO+Ymsn5klBcT8AFJitoEfECSamoi70X81B1NwAckuZmAD0hS9OZEHc2bqZy6+Fd7MpllSMrF1DR8QIr50XSaVNGsNibUpoq2Hkzoem5uU9Pqu7Z/NwAAAAAAAAAAAAAAAAAAAAAAAAAA/jO3m8n1vcmtQliZWB1jbWKXsVsP+TvkJXu/kCCz26aQ7c6E1uHT2mQOqeP1Qo2gQ13iv8ov3k3Erwv49SNFh67EO9QlR+94ueOU+7qA88taua8kuMnJ8luGF0vLbhZfzCy7VXghGMY6vlDMSRW+qCyzSfxiYi7fEjrJLu7iiNy7uAhOdXJnHp3s5M45jDhbVl0c0VleZRhRWlZFHFFYXmGUZbWNI7aWVxWC/LU1iVH62vI51E2iz6F6Eq9hxNWy6uOI3vJaB6f6W/4QRxwss7Ps7es63dvX7WXD7nbCYXcL2a67uXrX/d6yW24su2EmfGV5SROeNBsTGNr4pB1MY1U9pnBlIvXkMYW1yWz2TVWWVbPfmMywa7ui6NrdYAAAAAAAAAAAAAAAAADw5A96XDaWeHqp+wAAAABJRU5ErkJggg==) no-repeat -50px 0;background-size:100px 150px;overflow:hidden;} .tab li.current:before{background-position-x:0;} .tab li.icon-slices:before{background-position-y:-50px;} .tab li.icon-colors:before{background-position-y:-100px;} #inspector .code-item{display:none!important;} #inspector .code-item textarea{padding: 16px;} #inspector .code-item.select{display: block!important;} #inspector .tab li{height:40px;} #inspector .tab li:before{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAEsCAMAAACxJAyMAAAAn1BMVEUAAABgYmTZ2dnf39/b29tkZWZnaGhgYmRgY2TZ2dlpaW/Z2dnZ2dna2trn5+dgYmRgYmRgYmXBwcHY2NhhY2XZ2dlhY2VkZGhkZWhgYmXZ2dlgYmRhYmVhZGXZ2dnZ2dnb29tiZGZhYmXa2trb29vZ2dlgYmVgY2Ta2trb29thZGbb29vZ2dlgYmTZ2dna2tra2tphY2Xe3t7Y2NhgYmRl+xw/AAAAM3RSTlMA8PIeLzAge9fWDOeHfAz16OEG7YfebCkZurnBsVvGsTc3jnBTp6fLXUVFJ76Zj5poURVaW7T5AAAFHklEQVR4Ae3dyVLzyhIE4JRs0CAPsjzPNmAbMHPV+z/b/YWI+xtw6yxONRGHyG/VwS5DlbS0oMAvQ0RERERERERE9CB1MliYa50cJkKps4aFQOssYKEhtdowcKm1Ili4kVo3MPCqtV5hoSW1GjAw0FoTWJj9QNenP9H1hsOLlGawMLk8b2TYddSPXAs+DbQ0gFez+q4bjtwrvMrsuu6Ua+kSFtahg5T6sLAIHLQUwEQmdWawkGudqf973ajrE601+C33+hIW2j9wr0fqZtd1qRPCwkLrBDBxbJ53LaUHWBhfnDfS0hxetY3vdffIXcGrtZRu4dPCsOtOQykd4VNPS2NYaCWlW3z1Ztj1QVxa4quJZdcTKW3w1Z2UVrAQa2mLr+4Nu17Iu46j608wUOi71GvXN/LueYNPmq3Mrutbffe4xSfjQW7Y9Rf5kFy//U2RyIcmDIz0Qzya/E0Ra8Wo68/y1+7uJEUFFh71/7r7+zJFFJ/8yK7rfw2fEzm1goWDnuo9xnrqABM7qTG8hYW91oiXsPF2nThStJowMoliPas3uIChzXP4PcUGpraP3e8ptrDWeVl5TFFJR4fTFFdb+NF86kspe9rAl/FV4DdFpbiZeUxRKZbTf5eCiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIqBW24NsgGMA7EYFvqvpbgxT+gzSTrOk7yEWcX/gO0uyLtD0HuQhUI69Bqhz9hs8gVY7g0keQ9mwYhsm63ahyNH10JJr2ukG8iCZVjguYkxMzPzmgJ6aecrTklJ8cAz3lJUdnLV+sOjCWLvSLQ/oTW0BnBWzN9ZtpAVttOeMJpiI94wqmNlJqd9ry6dCEoa2WojTST4cLD3uCOujIp8OD/Z6gFKl+OsxhqCHnn4g0YGai55+IXvptSOXaa0MqkelkOcwsJ8thCjuJOCQwc1CHGHZCcQhhJlCHAPRbXYfiFF7DxKirTt2RfUO8taSrNbqwIbVgQmv9wifCjlTECWaMBotBzDAIgzAIg9jJxCGDmVwdctjZicMOZvbqsIedRl/O6jdgZhLoWcEEhhq7TL7Jdg0Ymuxz/SbfT0BERERERERERERERERERERERERERERERPTfUdzOMnhWLKc5PLsbivTh133P/5aEW/ljBa+W1XIXr+6kdA2f7rUUwacikz/6HXhU9PSPIIVPL1K6gU8jLS3h1YP80YZXU7+DVel7LUglqPYK+BUOn47wLOg9juFH82k2THY3HZQ27VUWDtcvHZgaX03jw36ZorSN5nk3XoxSWDo+yIf17V1rKBXbqoznWukulveDnn7oRrBzE4rDQwEjr4E6zFPTG9BhZ3kDOuy9/slxZbiBiUmuTr0tbDyLU9KBjUd1ilPY6ITiEh5hIw3UJRjDyIs4tWBkpE4DWNmJ0xFG9uo0hpWVuGSwMleXHGYycVnBSk9dDjAjPxBEfyJI9gOjlatLD2YScWrASKxOl7AyE6c2jEzVKYKVljiFb/a7sP3tRbkTt1Xh/5XR7OW3kBqrN1hItcZ84rcklezFZ0kq+QgmbqTOAyy8ap05bAylxq3Xu72yhI1rcUv8v/9qDCNFIk53sFHE6nQP/7+BZ7Byry5T2Hn2/YlY87XbHcNOkfhseiWN/Ta90sj8/3OFy1zPuIKtYyLvkudWay2VFmyNY30XP0ZXi659jkqnlYSr9rE63+yG2XoDa+kgDg7RuDq/7uPeYgsiIiIiIiIiIiIiIiIiIiKif/Y/jlFGecKAUnMAAAAASUVORK5CYII=); } #inspector .tab li.select{background-color:rgba(255,255,255,.05);} #inspector .tab li.select:before{background-position-x: 0;} #inspector .tab li.icon-android-panel:before {background-position-y: -50px;} #inspector .tab li.icon-ios-panel:before {background-position-y: -100px;} .screen-viewer{position:absolute;width:100vw;height:calc(100vh - 60px);background:#191919 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlMAUvP2/eAAAAARSURBVAjXY6ASYD6ATlAHAADy5gMN0fCqFwAAAABJRU5ErkJggg==);background-size:16px 16px;overflow:auto;} .screen-viewer,.screen-viewer .overlay{position:absolute;width:100vw;height:calc(100vh - 60px);background:#191919 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlMAUvP2/eAAAAARSURBVAjXY6ASYD6ATlAHAADy5gMN0fCqFwAAAABJRU5ErkJggg==);background-size:16px 16px;overflow:auto;} .screen-viewer .overlay{display:none;position:fixed;top:60px;left:0;background:transparent;overflow:hidden;z-index:2;cursor:none;} .screen-viewer.moving-screen .overlay{display:block;} .screen-viewer-inner{position:relative;margin:0 auto;} .screen{margin:0 auto;position:absolute;left:50%;top:50%;background:#FFF;box-shadow:0 2px 10px 0 rgba(0,0,0,.2);transition:all .15s ease;} .layer{position:absolute;cursor:pointer;} .hover,.selected{border:1px solid #EE6723;} .has-slice{border:1px dashed #EE6723;background:rgba(255,85,0,.32);} .layer b,.layer i{position:absolute;width:5px;height:5px;background:#FFF;border:1px solid #EE6723;border-radius:50%;overflow:hidden;display:none;} .layer b{width:3px;height:3px;background:#EE6723;} .selected i{display:block;} .distance.h div[data-width]:before,.distance.v div[data-height]:before,.selected:after,.selected:before{position:absolute;display:block;left:50%;top:-23px;transform:translateX(-50%);content:attr(data-width);font-size:12px;color:#FFF;height:12px;line-height:12px;padding:4px;background:#EE6723;border-radius:2px;z-index:1;} .percentage-mode .distance.h div[data-width]:before,.percentage-mode .distance.v div[data-height]:before,.percentage-mode .selected:after,.percentage-mode .selected:before{content:attr(percentage-width);} .selected.hidden:after,.selected.hidden:before{display:none;} .distance.v div[data-height]:before,.selected:after{content:attr(data-height);left:auto;right:0;top:50%;transform:translateX(calc(100% + 3px)) translateY(-50%);} .percentage-mode .distance.v div[data-height]:before,.percentage-mode .selected:after{content:attr(percentage-height);} .layer .tl{top:-3px;left:-3px;} .layer .tr{top:-3px;right:-3px;} .layer .bl{bottom:-3px;left:-3px;} .layer .br{bottom:-3px;right:-3px;} .hover{border:1px solid #419bf9;} .selected{border:1px solid #EE6723;} .ruler{position:absolute;width:100%;height:100%;border:1px dashed #419bf9;} .ruler.h{border-left:0;border-right:0;} .ruler.v{border-top:0;border-bottom:0;} .distance,.distance div,.distance div:before,.distance:after,.distance:before{position:absolute;} .distance.v,.distance.v div{width:1px;} .distance.h,.distance.h div{height:1px;} .distance.v div{top:0;bottom:0;background:#EE6723;} .distance.h div{left:0;right:0;background:#EE6723;} .distance.v:after,.distance.v:before{content:"";top:0;left:-2px;width:5px;height:1px;background:#EE6723;} .distance.h:after,.distance.h:before{content:"";top:-2px;left:0;width:1px;height:5px;background:#EE6723;} .distance.v:after{top:auto;bottom:0;} .distance.h:after{left:auto;right:0;} .note{position:absolute;margin:-12px 0 0 -12px;width:24px;height:24px;background:#F5A623;border-radius:50%;border:2px solid #FFF;box-shadow:0 0 3px rgba(0,0,0,.24);} .note:before{content:attr(data-index);font-size:12px;display:block;color:#FFF;text-align:center;width:100%;height:100%;line-height:20px;} .note:hover{box-shadow:0 0 3px rgba(0,0,0,.64);} .note div{position:absolute;top:50%;left:30px;border-radius:4px;padding:8px;background:#FFF;box-shadow:0 0 3px rgba(0,0,0,.5);-webkit-user-select:text;color:#222;transform:translateY(-50%);z-index:2;} .note div:before{content:"";position:absolute;left:-7px;top:50%;width:8px;height:14px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAcCAMAAABf788oAAAANlBMVEUAAAAAAAAAAAAAAAAAAAAAAADR0dEAAAAAAAAAAAAAAAAAAADNzc0AAAAAAADa2trk5OT////5auFFAAAAEXRSTlMAAgYKEhydNCkYDiOfLieWjz4MUj4AAABrSURBVBjTZZFbDoAgEANVFHmIOve/rERjWGj/psnCbjv1gg7nGTpcFmtUdA4Mu7QmMLzGGMHwlvMNhs9yAY3D7qkamcYHr/75ys1IMRePNbbwsRo6oo/qt7rY6Ohxer4GpBFqyFqDFtWqfAD4dQrlWDmShAAAAABJRU5ErkJggg==) no-repeat;background-size:8px 14px;transform:translateY(-50%);} .slidebox{position:relative;width:40px;height:20px;display:inline-block;} .slidebox input{visibility:hidden;} .slidebox label{position:absolute;top:0;left:0;width:40px;height:20px;background:#898989;box-shadow:inset 0 1px 3px 0 rgba(0,0,0,.3);border-radius:10px;cursor:pointer;transition:all .2s ease;} .slidebox label:after{position:absolute;content:"";top:2px;left:2px;width:16px;height:16px;background-image:linear-gradient(-180deg,#F8F9F6 0,#F5F5F5 100%);box-shadow:0 1px 2px 0 rgba(0,0,0,.3);border-radius:8px;transition:all .15s ease;} .slidebox input[type=checkbox]:checked+label{background:#3484F5;} .slidebox input[type=checkbox]:checked+label:after{left:22px;} .inspector{overflow:auto;} .inspector h2,.inspector h3{margin:0;padding:0;font-weight:400;} .inspector h2{font-size:12px;line-height:24px;padding:12px 16px;text-align:center;} .inspector h3{height:32px;font-size:12px;line-height:32px;padding:0 16px;background-image:linear-gradient(90deg,rgba(0,4,9,.32) 0,rgba(0,2,4,0) 100%);} .inspector .context{padding:16px;} .inspector .color,.inspector .item{display:flex;margin:0 0 8px;} .inspector .item[data-label]:before{content:attr(data-label);display:block;width:70px;font-size:12px;height:24px;line-height:24px;} .inspector .color:last-child,.inspector .item:last-child{margin:0;} .inspector .item div,.inspector .item label{flex:1;} .inspector .item label{padding:0 4px;} .inspector .item label:first-child{padding:0 4px 0 0;} .inspector .item label:last-child{padding:0 0 0 4px;} .inspector .item label:only-child{padding:0;} .inspector .item label[data-label]:after{content:attr(data-label);font-size:10px;text-align:center;display:block;margin:2px 0 0;} .inspector input,.inspector textarea{padding:3px 4px;width:100%;background:rgba(255,255,255,.05);border-radius:2px;border:0;line-height:18px;height:24px;font-size:12px;color:#FFF;text-align:center;outline:0;resize:none;} .inspector textarea{min-width:100%;height:auto;text-align:left;} .context h4{font-size:12px;font-weight:400;position:0;margin:0 0 16px;color:#FFF;} .context h4:before{margin:0 10px 0 0;display:inline-block;content:"";width:8px;height:8px;border-radius:1px;background:#3484F5;} .context .colors{margin:0 0 8px;} .context .colors:last-child,.context .items-group:last-child{margin:0;} .context .items-group{margin:0 0 24px;} .inspector .color{display:block;} .inspector .color[data-name]:after{content:attr(data-name);font-size:10px;text-align:center;padding:0 0 0 24px;display:block;margin:2px 0 0;} .inspector .color label,.inspector .color label em,.inspector .color label em i{position:absolute;display:block;width:24px;height:24px;padding:0;} .inspector .color label em{position:relative;background-color:#fff;background-image:linear-gradient(45deg,#dddadc 25%,transparent 25%,transparent 75%,#dddadc 75%,#dddadc),linear-gradient(45deg,#dddadc 25%,transparent 25%,transparent 75%,#dddadc 75%,#dddadc);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:2px 0 0 2px;overflow:hidden;} .inspector .color label em i{position:relative;} .inspector .item .color input{text-align:center;} .inspector .color input{padding-left:32px;width:100%;text-align:left;} .gradient .color label:before{position:absolute;top:12px;left:11px;content:"";width:2px;height:32px;background:#FFF;z-index:2;box-shadow:0 0 2px 1px rgba(0,0,0,.2);} .gradient .color label:after{position:absolute;top:8px;left:8px;content:"";width:8px;height:8px;background:#FFF;z-index:3;border-radius:4px;box-shadow:0 0 2px 1px rgba(0,0,0,.2);} .gradient .color[data-name] label:before{height:42px;} .gradient .color:last-child label:before{display:none;} .navbar section{position:relative;overflow:auto;} .artboard-list,.asset-list,.color-list{margin:0;padding:0;list-style:none;} .artboard-list li{padding:16px;display:flex;cursor:pointer;} .artboard-list li:hover,.asset-list li:hover,.color-list li:hover{background:#191A1E;} .artboard-list li.active{background:#454748;} .preview-img{display:block;width:44px;height:44px;text-align:center;background:rgba(0,0,0,.32);} .preview-img:before{content:' ';display:inline-block;vertical-align:middle;height:100%;} .preview-img img{max-width:44px;max-height:44px;background:#FFF;vertical-align:middle;} .pages-select{padding:24px;position:relative;} .pages-select h3{margin:0;text-align:center;font-size:12px;font-weight:400;color:#FFF;cursor:pointer;} .page-list em,.pages-select h3 em{font-style:normal;font-size:10px;color:#989A9C;} .pages-select h3:after{content:"";margin:0 0 0 4px;width:12px;height:6px;display:inline-block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAMAgMAAAAFXpXmAAAACVBMVEUAAABiZGZgYmThY1mHAAAAAnRSTlMAgJsrThgAAAA1SURBVAjXFckxAQAgDMTAZ6kI1KAHNYjoAipJsmS47Ec303XKnQy3AkIRm5UUUAIhERIhEfoqmRfpcqcFcAAAAABJRU5ErkJggg==) no-repeat;background-size:12px 6px;} .pages-select .page-list{display:none;position:absolute;left:50%;transform:translateX(-50%);margin:-32px 0 0;padding:8px;border-radius:4px;list-style:none;width:180px;background:#0F0F0F;box-shadow:0 2px 10px 0 rgba(0,0,0,.8);} .pages-select:focus{outline:0;} .pages-select:focus .page-list{display:block;} .pages-select .page-list label{padding:10px;cursor:pointer;} .pages-select .page-list label,.pages-select .page-list span{display:block;} .page-list span:before{position:absolute;right:8px;} .exportable{margin:0;padding:0;list-style:none;background:#191A1E;border:1px solid #2D2F31;border-radius:4px;} .exportable li{position:relative;padding:0 8px;height:32px;line-height:32px;border-bottom:1px solid #222;white-space:nowrap;text-overflow:ellipsis;} .exportable li a{color:#FFF;text-decoration:none;outline:0;} .exportable li:last-child{border:0;} .exportable img{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;} .asset-list li,.color-list li{padding:24px;display:flex;cursor:pointer;} .color-list li{cursor:default;} .asset-list li picture,.color-list li em{position:relative;display:block;text-align:center;width:32px;height:32px;background-color:#4A4A4A;background-image:linear-gradient(45deg,#000 25%,transparent 25%,transparent 75%,#000 75%,#000),linear-gradient(45deg,#000 25%,transparent 25%,transparent 75%,#000 75%,#000);background-size:8px 8px;background-position:0 0,4px 4px;border-radius:2px;} .color-list li em{background-color:#fff;background-image:linear-gradient(45deg,#dddadc 25%,transparent 25%,transparent 75%,#dddadc 75%,#dddadc),linear-gradient(45deg,#dddadc 25%,transparent 25%,transparent 75%,#dddadc 75%,#dddadc);border-radius:50%;overflow:hidden;} .color-list li em i{position:absolute;top:0;left:0;right:0;bottom:0;} .artboard-list li div,.asset-list li div,.color-list li div{padding:0 0 0 16px;flex:1;} .artboard-list li div{padding:6px 0 4px 16px;} .asset-list li picture:before{content:"";display:inline-block;height:100%;vertical-align:middle;} .asset-list li picture img{vertical-align:middle;max-width:28px;max-height:28px;} .asset-list li picture:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;} .artboard-list h3, .asset-list h3,.color-list h3{margin:0 0 4px;padding:0;color:#FFF;font-size:12px;font-weight:400;overflow:hidden;text-overflow:ellipsis;} .artboard-list small, .asset-list small,.color-list small{font-size:10px;} .artboard-list li.active small{color:#FFF;} .empty{position:absolute;top:30%;left:0;right:0;transform:translateY(-50%);vertical-align:middle;text-align:center;} .message{position:absolute;top:50%;left:50%;padding:10px 20px;max-width:320px;transform:translateX(-50%) translateY(-50%);text-align:center;border-radius:4px;background:rgba(0,0,0,.96);border: 1px solid rgba(255,255,255,.16);color:#FFF;box-shadow:0 2px 10px rgba(0,0,0,.32);z-index:9;display:none;} .cursor{position:absolute;display:none;margin:-8px 0 0 -8px;top:50%;left:50%;width:16px;height:17px;background-size:16px 17px;background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAiCAMAAAAJbCvNAAABVlBMVEUAAAAGBgYBAQEBAQEAAAAAAAAAAAAnJycAAAA3NzcDAwMNDQ0AAAAAAAAAAAAhISEbGxsYGBgPDw8CAgIDAwMBAQEAAAAAAAAAAAAAAAAAAAAvLy8UFBQCAgIBAQEAAAAAAAAAAAAAAAAAAAA+Pj5BQUE/Pz8zMzMCAgIDAwMDAwMCAgIBAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7OzsAAAAAAAAAAAAAAAD///8AAABhYWEdHR36+vpVVVX9/f329vbz8/Pb29uBgYF0dHRjY2MsLCz39/ft7e3r6+vR0dFxcXFSUlJNTU3X19fKysq4uLh3d3dXV1dJSUlGRkZERETv7+/o6Ojj4+O8vLy1tbW0tLSnp6empqaTk5OKioqGhoZtbW1nZ2dcXFxPT0/Dw8PCwsKwsLCurq6pqamhoaGZmZmNjY16enpeXl5JnG7xAAAAPHRSTlMA/fj9B1EC/jf+/vw8Ew7+/fz85t26mpRoYyX9/OLMoHlKMiL+/f398enY0cC1tLGojouGVh4Z/qpyQy7UG/vLAAACHUlEQVQ4T33QVVdbURBA4bk3QjwQIIa7u9T2QDwQxx2K1+X/v/QhlzRpWN2v51tnZo1IS4ERx4b8J4epaht+5cHpiKzGRfzmxH55R0ftseERZwuIqGGY6xLTLKSNoTlV7W0WY7Z8qjRhflgxADrUOMjcarQJjGgZiqHecBfAuB4Cfb1NwKcHwJ0OdgKc6jWw1S0y5rLXgd18AIqGdtVBGdjpti+r9sTrYqkrBSS1H+BEz4GjnojmvnutQQ79AnxTL8CxFoCkqXnYmakD58AkkPEYADUPQFVDGajOWmsOaxboU4DnEEBN80Dfgoj4og7/pu0QeNQ08NxZ32QPEp41cS6rqvluqT8FX4MJIPcEkHQDn9Qh65rP7le1W/dpKVEAcraArHpTQE71nvZO50TWjAxARU9eAaGwiEtvARJTnQCpNKTPIFEEuNCoiCwYnwGKWYCKG7bGobILcK0+EfHPevcafz4FoboLW9sA9xoQEdmY6Si8gN9BSDZArad+xvf66wVsbTeBMyNiHXrIs9cMOixwp6MW8E9PWmBnG44scOFdlJdi+tMCXQ2QcE/HG8D5Vj8CkO+Axymo7HKoDvmbfd5zA5AoQeYcCqWsLSzNBeZtP2guZ/O3ALEvWlMoveksQ7JH/sk56K6DmjkQTHM8+C+Qof6rg8vLqweNumzHN+7uNhDWeisiMVN1oA3YR10un8+1KSISiI/Z28Dr/QHPa6Em8DfwfAAAAABJRU5ErkJggg==');background-repeat:no-repeat;cursor:none;z-index:1; } .cursor.show{display:block;} .cursor.moving{background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAiCAMAAAAJbCvNAAABMlBMVEUAAAAAAAA2NjYsLCwCAgIAAAAAAAAMDAwBAQECAgIBAQECAgIBAQEBAQEAAAAAAAAAAAA5OTkgICAICAgAAAAcHBwCAgIAAAAAAAAAAAAAAAAAAABDQ0M8PDwxMTE0NDQVFRUCAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPDw8DAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAABhYWEcHBz6+vr39/dMTEzs7Oy8vLy4uLhWVlYqKiooKCj09PTw8PC1tbWnp6d2dnZZWVn8/Pzp6enj4+Pd3d3a2trNzc2tra2pqammpqaKioqAgIBzc3NwcHBmZmZdXV1TU1NHR0c+Pj7W1tbR0dHGxsbAwMCampqSkpKPj4+GhoZycnJsbGwkJCTy91wiAAAANnRSTlMAPP7+/ZcN/Pnr487Kv7QlEv7+/fz71jk2GAcE/v7+/fzzpaCUkGZZQTEsIAn826uEg3JtXFGryOxIAAABkElEQVR4AeXS1XLbQBjF8RXIDHbNdiBpOCnDOa4kg2Oww9w2KUPf/xW6s8q2sTXT6X1+t99/NJozK+6lR8ZmRPzDZpxc3sg9y2Sez3aNl+mUsx23TjpzxbJtmnaqMR08ZO8mGuNn4JA8AU75YiXl5ISW5SXwgTwAUGIfcAuM3thpoRnsAJhnC8DcY0gWj3HBmg5qPAdw1nMBfJ9Aai4AQ1aFllzENNcD2jSEsuOkEvyIEB1k44XrEicI6bCigtXoIbzFN5D2PMAbAG4L0im3VVD2AQyOIF3lgeY88MOC9JXBEEkf2rsHwHtLRup749jtikvTQU8Hflkor/hJB00ZdHUwKKwKJRLP70FRh+7ubXDOLRHY4GU4wEE0I7Q1foPyVh4mQeCay1nxx1OeqWC8K6MF4MrCmK/FX/W0PQKCgfr7gLd/ZDvirkiaX3DXRTE381wzHEFp5UvHQPeJmNFImlD8WOJXH35SzFpZGnba7eFPrleK1yMzEQocBtaEWI+R4aC+Va0YRrWm/jm7Uxf/5zeExWvZghlTSgAAAABJRU5ErkJggg==');}]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E6%91%A9%E5%B0%94%E9%92%B1%E5%8C%85%2F%E6%91%A9%E5%B0%94%E9%92%B1%E5%8C%85%E4%BA%8C%E7%BB%B4%E7%A0%81%E5%8A%9F%E8%83%BD%E8%AE%BE%E8%AE%A1%2F%E6%91%A9%E5%B0%94%E9%92%B1%E5%8C%85%E4%BA%8C%E7%BB%B4%E7%A0%81%E5%8A%9F%E8%83%BD%E8%AE%BE%E8%AE%A1%2F</url>
    <content type="text"><![CDATA[钱包二维码功能体系设计 Version：beta Author：李勇 E-mail:666233@qq.com Time:2018.08.01 前言二维码本质上是一串字符的图形化展示，由于考虑到二维码的尺寸大小有限，其能容纳的字节数也有限，同时考虑到容错性，二维码点阵大小等能影响扫描结果、效率、准确性的因素，二维码包含的字符数不宜过多，参考微信和支付宝等项目和实践发现，字符串保证在40左右最佳，60以内比较合理。 业务简介由于考虑到钱包的支付概念，因此应当具备类似微信支付、支付宝支付等生成二维码、扫描二维码等基本功能。具体业务如下图所示： 业务分析整体按功能分类为：生成二维码和扫描二维码。 生成二维码根据最初设计的业务，钱包里的二维码体系无非就两种形式，一种是只有地址信息的，这样扫到之后就跳转到转账页面，一种是二维码中带有地址+金额参数的吗，这样就直接跳转到某一结果展示页面，然后确认支付。 生成只带地址参数的二维码，由于之前的版本中的收款二维码略微粗糙，只是单纯将摩尔的64位地址生成二维码而已，当摩尔钱包App去扫描后，单纯的跳转到转账页面，并把地址填入到地址输入框内。现在考虑到更多的交互场景，就要考虑到兼容以前的版本了。 生成带地址参数+金额参数，这个是以前版本没有的，直接按后面的讲解生成即可。 扫描二维码扫描功能的入口已经提到首页右上角，扫描的结果分析应该考虑以下两种情况： 扫描到以前的mol_开头的单纯地址的二维码，则跳转到支付界面，将地址填入输入框内。（与之前一样） 扫描到新版的（后面会讲协议）带地址参数的二维码，则跳转到支付界面，将地址填入输入框内。（与之前一样） 扫描到新版的（后面会讲协议）带地址参数+金额参数的二维码，则跳转到新设计的结果展示页中。 实现方案按照生成二维码和扫描二位码的分来详细讲解。 生成二维码以地址：为例。123456之前版本生成的二维码仅仅是将地址作为二维码内容，并没有其他协议规约，如下图所示：![之前地址二维码](https://i.imgur.com/NyDnGXV.png) 扫描出来的结果就是：```mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec 但是这样设计有一个缺点就是当用户用第三方App，比如微信或者支付宝扫描后，只看到一个mol_开头的字符串，对于一个新用户来讲是懵逼的，也不利于我们导流。现在的用户一看到二维码第一反应应该是用微信扫一下，因此用户用微信扫到了结果后，可能直接就返回了，没有在意那么多，这一次扫描就浪费了。而理想的状态是分两种： 非摩尔用户 他不知道这个是什么，用第三方App（比如微信或者支付宝）扫一扫，或者在微信群里看到这个二维码就长按一下识别其中的内容，然后跳转到某个Web页面，该最好是产品的下载地址或者官网，里面附带一些介绍，这样的话就比单纯的字符串显示出来要有力得多。 摩尔用户 他手机里安装了摩尔钱包App，当他看到二维码是来自摩尔体系的，用摩尔钱包里的扫一扫，然后跳转到相应的结果界面来响应。或者用第三方App（比如微信或者支付宝）扫描，引导到浏览器里能调起摩尔App。 他手机里没有安装摩尔钱包App，他看到二维码后，用第三方App（比如微信或者支付宝）扫描后跳转到产品下载下面，或者官网。 总上所述，考虑到带有“扫一扫”功能的App，一般只要扫到的内容是url就会跳转到web，其他协议的uri就看本应用有没有相应的匹配处理，如果没有就直接显示出该字符串。所以利用这一点，我们尽量把协议涉及成url形式，即scheme为http协议的uri。 生成只带地址参数的二维码以地址：mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec 为例。a是address的缩写。http和https都可以，协议设计如下： http://qr.mol.one?a=mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec 或者： https://qr.mol.one?a=mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec 如下图所示： 此时用第三方App扫描则会跳转到我们指定的url，在该url，我们就可以根据User Agent来做相应的跳转或者显示。 生成带地址参数+金额参数的二维码以地址：mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec ，金额：10MOL 为例。考虑到未来会有智能合约进行ICO，因此出现金额则必带币种参数。a是address的缩写，s是sum的缩写，c是currency的缩写。http和https都可以，协议设计如下： http://qr.mol.one?a=mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec&amp;s=10&amp;c=mol 或者： https://qr.mol.one?a=mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec&amp;s=10&amp;c=mol 如下图所示： 生成带地址参数+类型参数根据需求，需要一种二维码是标识为随机金额行为，即摩尔钱包App扫描后会生成随机金额显示在界面上（0&lt; 金额 &lt; 20），因此需要一个类型标识。以地址：mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec 为例。a是address的缩写，t是type的缩写。http和https都可以，协议设计如下： http://qr.mol.one?a=mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec&amp;t=random 或者： https://qr.mol.one?a=mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec&amp;t=random 如下图所示： 扫描二维码摩尔钱包App扫描扫描后的结果要进行严格的检测和解析处理，利用正则和url解析来确保程序的鲁棒性，不允许出现无响应结果、甚至是程序崩溃。考虑到兼容性，在摩尔钱包App内，对于扫描结果以及相应处理如下表所示： 扫描类型 扫描示例 相应处理 单纯地址 mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec 直接跳转到转账地址页面，并把地址填入到地址输入框中 带地址参数 https://qr.mol.one?a=mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec 直接跳转到转账地址页面，并把地址填入到地址输入框中 带地址+金额 https://qr.mol.one?a=mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec&amp;s=10&amp;c=mol 直接跳转到新设计的展示页面，点击确定后就走支付流程 带地址+类型 https://qr.mol.one?a=mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec&amp;t=random 直接跳转到新设计的展示页面,并生成大于0，小于20的随机数显示，点击确定后就走支付流程 其他url 比如HTTPS://QR.ALIPAY.COM/FKX03220E6XSYYDVDVYK16 直接跳转到WebView打开就不管了 其他任意数据 比如wxp://f2f0EzisVnmgig6_R1MqIY_Uqr8j1FwhGLT3或者861256413232 直接显示（需商讨怎么显示） 草稿：对于扫描结果这块，考虑到有可能加了新的协议，而老的版本的App没有相应的功能，因此，有一个默认的结果展示页，跳转到一个连接，然后在连接中展示，是该提示升级还是直接展示扫描结果，同时要考虑到网络异常问题，如果异常就直接展示扫描出来的字符结果。 第三方App扫描我们的二维码由于我们的二维码都是url，因此最终都会集中访问到 http://qr.mol.one 这个地址下，到时候熊老师会在这个地址下通过js根据请求跳转到不同的页面，如下表所示： 请求 扫描示例 微信 引导用浏览器打开（有一层遮罩提示） Android浏览器 跳转到Android下载页面 iPhone浏览器 跳转到iOS下载页面 PC 跳转到官网主页，这种情况一般是某些技术人员把二维码扫出来后，用PC浏览器打开 优化考虑到二维码所能容纳的字符数有限，同时字符数越多，点阵越密集，扫描体验越差，因此应当尽量缩短字符，又由于二维码中必须包含地址参数，而光一个地址就有64个字符，导致无论怎么设计字符数都难以降低，因此考虑压缩一下，争取时间换取空间。 在经过一些列的斗争后，发现自创的压缩算法不行，会出现很多符号，这样对传播不利，因此暂时不考虑该路径优化。 扩展对于优化部分的无力，只能借助网络来弥补，可以通过网络传输来传递更多的字符，适应更复杂的场景。思路如下： 准备好本该封装到二维码中的参数，如a=mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec&amp;t=10&amp;c=mol 由于字符太多，二维码不方便显示，转而上传到数据库中，并返回一个唯一ID，如：123456789， 然后将唯一ID配合 https://qr.mol.one 拼成一个字符，如： https://qr.mol.one?123456789 ，生成的二维码如下图所示： 当其他用户用摩尔钱包App扫描后，解析取出ID作为参数123456789， 访问数据库得到对应ID的本该封装到二维码中的参数，如：a=mol_15tcgzxmwg1d7rs91gc58um8y5jpz85g7iikdemnzimyrm5w6rw7krpeuxec&amp;t=10&amp;c=mol，然后做相应的处理。 流程如下： 这样一来就可以很好的扩展，二维码只是一个中间传播参数的介质。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E9%95%B0%E5%88%80%E9%A1%B9%E7%9B%AE%2F%E9%95%B0%E5%88%80%E9%80%9A%E7%9F%A5%E6%96%B9%E6%A1%88%2F%E9%95%B0%E5%88%80%E9%80%9A%E7%9F%A5%E6%96%B9%E6%A1%88%2F</url>
    <content type="text"><![CDATA[镰刀通知详情功能由于镰刀是一个垂直于币圈的咨询功能App，因此在众多推送消息的通知中，用户想要点击查看其中一条通知，则应该是进入App，展示这条消息，因此需要添加一个针对响应通知的事件和该事件对应的跳转页面。 需求点击通知后跳转到指定页面，页面样式大致如下： 通知中会有后台发送给手段端的一个包含该条消息的唯一ID，利用该ID就可以查到该条消息的详情信息。 文档：http://doc.un75.com:5934/镰刀项目/镰刀项目方案及其接口.html 对应的接口是： 12item详情地址：https://api.xxx.com/path/sickle/v1/items/&#123;uid&#125; 要求 App未启动时，点击通知，启动App，启动该详情页； App已启动时，点击通知，直接启动该详情页； App已启动时，该详情页也已启动时，点击通知再启动一个详情页或者直接在该详情页上请求新数据覆盖都可以； 无需做缓存处理； 设计要求有一个缓冲过程，因为访问网络加载过程可能会“漫长”；]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E9%95%B0%E5%88%80%E9%A1%B9%E7%9B%AE%2F%E9%95%B0%E5%88%80%E7%88%AC%E8%99%AB%E7%B3%BB%E7%BB%9F%2F%E9%95%B0%E5%88%80%E6%95%B0%E6%8D%AE%E7%88%AC%E8%99%AB%E7%B3%BB%E7%BB%9F%2F</url>
    <content type="text"><![CDATA[镰刀数据爬虫系统整体框架 程序设计及运行程序代码： 运行环境：python3.6 centos7进程管理：supervisor运行：服务器克隆代码后安装python依赖库（虚拟环境同）pip3 install -r requirements.txt把子进程配置文件拷贝到supervisor的配置文件路径下，通过supervisor管理程序 使用工具及数据库rabbitmqRabbitMQ是一个消息代理 - 一个消息系统的媒介。它可以为你的应用提供一个通用的消息发送和接收平台，并且保证消息在传输过程中的安全。RabbitMQ 中文文档python客户端使用 pika系统采用“发布/订阅”模式 —— 分发一个消息给多个消费者。图示说明： 镰刀mq系统的设计及参数如图：|注：红色路径表示爬虫源数据的流通；蓝色路径表示一般items数据的流通；绿色路径表示热点数据的流通。 supervisorsupervisor是用Python开发的一个client/server服务，是Linux/Unix系统下的一个进程管理工具。可以很方便的监听、启动、停止、重启一个或多个进程。用supervisor管理的进程，当一个进程意外被杀死，supervisor监听到进程死后，会自动将它重启，很方便的做到进程自动恢复的功能，不再需要自己写shell脚本来控制。参考文档：supervisor 文档安装好后在/etc/会生成一个supervisord.conf文件及一个supervisord.d文件目录，supervisord.conf是一些默认配置，代码里面supervisorIni路径下有修改后的supervisord.conf，可拷贝使用。supervisord.d目录用来存放用户自定义的进程配置，本系统暂时开启三个子进程，分别是爬取数据的sickle.ini，分析数据的newsparse.ini和提取热点数据的hotparse.ini。可拷贝至supervisord.d目录下进行管理。子进程配置：123456789[program:sickle]command=/usr/bin/python3 /home/nio/sickle/sickle/run_in.pydirectory=/home/nio/sickle/sickleautostart = trueautorestart = truestartsecs = 5priority = 1stopasgroup = truekillasgroup = true 具体文件路径根据实际拷贝的代码文件路径填写。注意因为爬虫部分要翻墙的原因，国内爬取数据运行run_in.py，国外运行run_out.py。 supervisor常用命令123456supervisorctl status：查看所有进程的状态supervisorctl stop sickle：停止sicklesupervisorctl start sickle：启动sicklesupervisorctl restart sickle: 重启sicklesupervisorctl update ：配置文件修改后可以使用该命令加载新的配置supervisorctl reload: 重新启动配置中的所有程序 日志logging使用logging模块。日志保存在log路径下，按天保存，只保存最近30天的日志。 日志分类调度器日志–scheduler.log爬虫日志–sickle.log数据日志–items.log分析源数据日志–parseItem.log 分析源数据出错日志–parseError.log 提取热点数据日志–hotItem.log 提取热点数据出错日志–hotError.log MySQL使用pymysql模块。使用数据标签信息及相关词：sickle_tag 币种分析匹配，分析数据时使用爬虫数据源：sickle_spider_source Twitter、微博等数据源，根据此数据爬取社交数据币种及交易所热度：sickle_spider_heat 提取热点数据时使用 MongoDB使用pymongo模块。MongoDB作为存储数据的数据库使用，所有新闻资讯都保存在MongoDB中。New_raw存储爬虫爬取的原始数据。New_push存储经过分析后的有效数据。News_hot存储热点数据。News_detail存储有详情页的内容详情数据。 redis使用redis模块。redis用来保存爬虫爬取网站数据的状态。使得已爬取的数据不会再处理，只获取新的数据。 OSS对象存储使用阿里云oss2模块。OSS对象存储主要保存一些多媒体资源，爬虫中主要是：1、微博视频；2、Twitter用户头像；3、Twitter图片及视频 翻译工具 Google url：http://translate.google.cn/translate_a/single 123456789params: &#123; &apos;q&apos;: text, &apos;sl&apos;: &apos;auto&apos;, &apos;tl&apos;: &apos;zh_Ch&apos;, &apos;client&apos;: &apos;gtx&apos;, &apos;dt&apos;: &apos;t&apos;, &apos;dj&apos;: 1, &apos;ie&apos;: &apos;UTF-8&apos;, &#125; 百度翻译平台 url: http://api.fanyi.baidu.com/api/trans/vip/translate 12345678params: &#123; &apos;q&apos;: q, &apos;from&apos;: &apos;auto&apos;, &apos;to&apos;: &apos;zh&apos;, &apos;appid&apos;: appid, &apos;salt&apos;: salt, &apos;sign&apos;: sign &#125; 网站爬虫spiders镰刀数据来源主要分两类：一是爬虫从各个网站爬取而来，二是人工编辑。暂时网站爬取的数据占有效数据的绝大多数，因各个网站数据来源或分类不同暂时把它们分三大类：快讯文章公告爬虫、社交资讯爬虫和转账监控爬虫。 快讯文章公告spiders API接口 币世界快讯获取是否有新数据： url：http://m.bishijie.com/api/app/getNewNum/?last_newsid=%smethod：get 12345headers：&#123;&apos;Host&apos;: &apos;m.bishijie.com&apos;, &apos;Connection&apos;: &apos;Keep-Alive&apos;, &apos;Referer&apos;: &apos;http://m.bishijie.com/kuaixun?fm=082411 &apos;, &apos;User-Agent&apos;: &apos;Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Mobile Safari/537.36&apos; &#125; 获取新数据： url：http://api.bishijie.com/news/?client=android&amp;size=20method：get12headers：&#123;&apos;Host&apos;: &apos;api.bishijie.com&apos;, &apos;User-Agent&apos;: &apos;okhttp/3.8.1&apos;&#125; 金色财经快讯获取新数据： url：https://api.jinse.com/v4/live/list?reading=false&amp;_source=m&amp;limit=10&amp;flag=up&amp;id=%smethod：get 1headers：&#123;&apos;User-Agent&apos;: 手机端浏览器&#125; 币响快讯获取新数据： url：http://tui.yingshe.com/live/infomethod：post 12345678910headers：&#123;&apos;Host&apos;: &apos;tui.yingshe.com&apos;, &apos;Connection&apos;: &apos;Keep-Alive&apos;, &apos;User-Agent&apos;: 手机端浏览器, &apos;Content-Type&apos;: &apos;application/x-www-form-urlencoded&apos; &#125;post data：&#123; &apos;p&apos;: &apos;1&apos;, &apos;type&apos;: &apos;1&apos;, &apos;unique&apos;: &apos;865166020927318&apos; &#125; 非小号交易所公告获取新数据： url：http://app.fxh.io/api/news/exchange?direction=before&amp;time=0method：get 1234headers：&#123;&apos;User-Agent&apos;: &apos;FeiXiaoHao/1.4.1 (iPhone; iOS 11.4.1; Scale/2.00)&apos;, &apos;Host&apos;: &apos;app.fxh.io&apos;, &apos;Referer&apos;: &apos;m.feixiaohao.com&apos; &#125; 获取detail数据： url：detailurl(http://m.feixiaohao.com/notice/3606214.html)method：get12345headers：&#123; &apos;User-Agent&apos;: 手机端浏览器, &apos;Host&apos;: &apos;m.feixiaohao.com&apos;, &apos;Referer&apos;: detailurl &#125; 币牛牛交易所公告获取新数据： url：https://api.coinbull.one/pc/web/announcement/list?limit=20method：get 12345headers：&#123; `User-Agent&apos;: &apos;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36&apos;, &apos;x-app-info&apos;: &apos;2.4.0/offical/web&apos;, &apos;origin&apos;: &apos;https://www.coinbull.one&apos; &#125; 获取detail数据： url：https://api.finbtc.net/app/announcement/detail?id=%smethod：get12345headers：&#123; &apos;User-Agent&apos;: &apos;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36&apos;, &apos;x-app-info&apos;: &apos;2.4.0/offical/web&apos;, &apos;origin&apos;: &apos;https://www.coinbull.one&apos; &#125; 金色财经文章获取新数据： url：https://api.jinse.com/v6/information/list?catelogue_key=www&amp;limit=20&amp;information_id=0&amp;flag=down&amp;version=9.9.9&amp;_source=mmethod：get 1headers：&#123;&apos;User-Agent&apos;: 手机端浏览器&#125; 获取detail数据： url：detailurl(https://m.jinse.com/news/bitcoin/284031.html)method：get1headers：&#123;&apos;User-Agent&apos;: 手机端浏览器&#125; 巴比特文章获取新数据： url：https://app.blockmeta.com/news?&amp;num=20method：get 12345headers：&#123; &apos;User-Agent&apos;: &apos;8btc/1.2.3 (com.8btc.bbs; build:47; iOS 11.4.0) Alamofire/4.7.3&apos;, &apos;token&apos;: &apos;d7f48d5c2e9787d3cd6224d427f483453f5c4187&apos;, &apos;from&apos;: &apos;ios&apos; &#125; 获取detail数据： url：https://app.blockmeta.com/news?id=%smethod：get12345headers：&#123; &apos;User-Agent&apos;: &apos;8btc/1.2.3 (com.8btc.bbs; build:47; iOS 11.4.0) Alamofire/4.7.3&apos;, &apos;token&apos;: &apos;d7f48d5c2e9787d3cd6224d427f483453f5c4187&apos;, &apos;from&apos;: &apos;ios&apos; &#125; 火星财经文章获取新数据： url：http://www.huoxing24.com/info/news/shownewsmethod：get 1234headers：&#123; &apos;User-Agent&apos;: 手机端浏览器, &apos;sign-param&apos;: &apos;eyJwbGF0Zm9ybSI6ImlvcyIsIm5vbmNlIjoiYXNmYXNmZ2FxIiwidGltZXN0YW1wIjoiMTUzNzE3MDYyNDg0MyIsInNpZyI6IjYxMzczZjIxZjY3YmUwM2RhNjE3NWU2NzE5MTgzOGMyIn0=&apos; &#125; 获取detail数据： url：http://www.huoxing24.com/info/news/getbyid?id=%smethod：post1234headers：&#123; &apos;User-Agent&apos;: 手机端浏览器, &apos;sign-param&apos;: &apos;eyJwbGF0Zm9ybSI6ImlvcyIsIm5vbmNlIjoiYXNmYXNmZ2FxIiwidGltZXN0YW1wIjoiMTUzNzE3MDYyNDg0MyIsInNpZyI6IjYxMzczZjIxZjY3YmUwM2RhNjE3NWU2NzE5MTgzOGMyIn0=&apos; &#125; cointelegraph文章获取新数据： url：https://api.cointelegraph.com/api/v1/mobile/feed?&amp;language=CN&amp;withHtml=1method：get 1headers：&#123;&apos;User-Agent&apos;: 手机端浏览器&#125; newsnow文章获取新数据（HTML解析）： url：https://www.newsnow.co.uk/h/Business+&amp;+Finance/Cryptocurrenciesmethod：get 123headers：&#123; &apos;User-Agent&apos;: &apos;Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Mobile Safari/537.36&apos; &#125; 社交资讯social 币世界币圈项目获取新数据： url：http://iapi.bishijie.com/project/articleListmethod：get 123headers：&#123; &apos;User-Agent&apos;: 手机端浏览器&#125;`params: 具体加密步骤看代码 获取detail数据： url：http://iapi.bishijie.com/iarticle/detailmethod：get123headers：`&#123; &apos;User-Agent&apos;: 手机端浏览器&#125;`params: 具体加密步骤看代码 微博获取新数据： url：https://m.weibo.cn/api/container/getIndex?type=uid&amp;containerid=107603%smethod：get1headers：`&#123;&apos;User-Agent&apos;: 手机端浏览器&#125;` 获取detail数据： url：https://m.weibo.cn/statuses/show?id=%s（bid）method：get1headers：`&#123;&apos;User-Agent&apos;: 手机端浏览器&#125;` Twitter使用Twitter api获取更新，python库用tweepy。数据获取方法：注册Twitter开发者，获取开发api密钥和token，新建一个list，把要监控Twitter对象添加到list中（add_list_member），获取该list的更新数据（list_timeline）。 转账监控monitors比特币网络监控使用第三方库blockchain。 from blockchain import blockexplorer latest_block_hash = blockexplorer.get_latest_block().hash # 获取最近区块哈希 block = blockexplorer.get_block(latest_block_hash) # 获取区块信息 transactions = block.transactions # 获取区块交易信息 chainext监控获取数据： url：https://api.chainext.io/v1/largement_alertmethod：get 数据分析提取源数据要经过分析过滤提取得到有效数据再给服务器推送。以下整理了数据的分析推送策略。 NewsParse快讯内容去重——“币响、币世界、金色财经”关键字检测——标题关键字与tag相关词匹配检测文章标题关键字与tag相关词匹配检测——“币响、币世界、金色财经”关键字检测——内容去重交易所公告币牛牛爬取的交易所公告直接推送非小号爬取的需要检测标题关键字与tag相关词匹配转账交易chainext中以太坊交易数量小于19999，比特币交易数量小于1999的不推送，其他的都直接推送社交资讯直接推送 HotParse策略币牛牛爬取的交易所公告热度4其他交易所公告中币种上线类型的数据根据交易所热度设置快讯中监控关键词“主网”+“上线”根据币种热度设置社交资讯中监控关键词“主网”+“上线”根据币种热度设置其他的可在管理后台编辑热点]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0%2F%E6%94%AF%E4%BB%98%E7%B3%BB%E7%BB%9F%2F%E6%94%AF%E4%BB%98%E7%B3%BB%E7%BB%9F%2F</url>
    <content type="text"><![CDATA[打币系统商家支付sdk概述第三方应用可以通过接入支付sdk的方式，使用虚拟货币进行充值，提现功能。进一步活跃社区，赋能商户，丰富生态。为了提高数据的安全性，降低中途被截获篡改的风险，强烈建议由发起调用的应用对应的服务端按照要求对数据进行二次封装加密后，再调用支付中心服务。 阅读对象产品经理，开发人员，测试人员，区块链工程师，其他有关人员。 主要流程为提供一套安全，高性能，可伸缩的商户支付服务，经过多轮讨论之后，需要由以下几套主体流程结合完成。 支付交互流程 服务端确认订单流程以上是与链交互的主体流程。 数据库设计 merchant_t商户信息，应用接入开放平台时，首先需要注册成为平台商户。包括商户编号，商户名称(不能重名)，邮箱地址，商户描述信息，是否有效，创建时间，修改时间。无效的商户不能再对接开放平台，不能调用接口。未来需要开放商户注册服务，从安全和功能丰富性角度考虑，建议完善手机注册认证等功能。 merchant_account_t商户账户，一个商户可以有多个商户账号，一币一账，支持多币种。包括商户账号ID，应用ID，商户ID，币种，商户账号地址，可提现额度，累计提现额度，是否有效，创建时间，修改时间。累计提现额度用于记录该币种账户上历史累计提现总数；可提现额度用于记录该币种账户当前可以提现的额度，订单完成后，金额存储在中转账户上，商户需要发起提现，才能将交易所得转到商户账户上。 merchant_secret_t商户加密配置，为了保证交易的安全性，支付中心采用商户秘钥和平台私钥两对秘钥进行加签，确保数据不被篡改，保证数据安全性。包括应用加密配置ID，应用编号，商户编号，商户私钥，商户公钥，平台公钥，平台私钥，是否有效，创建时间，修改时间。为了保证秘钥对本身的安全性，建议在存储上做一些改进，比如公司公私钥分开存储。 product_t产品信息，用于存储产品的基本信息。包括产品编号，产品名称，产品名称，产品描述，是否有效，创建见时间，修改时间。产品信息和单品信息，建议由商户接入应用自身维护，中心只维护一些特殊商品，比如授权销售商品等。 product_item_t单品信息，SKU，用于存储商品唯一性信息。包括单品ID，产品ID，币种，价格，是否有效，创建时间，修改时间。 trade_t订单信息，存储订单的基本信息。包括统一订单号(建议采用格式如yyyyMMdd+10位流水累计，如201801020000000001，由于时间原因，暂时按uuid方式进行存储的)，应用ID，商户ID，币种，额度，扩展信息(可以用于描述交易的具体商品，此处的作用与trade_item_t相同，只有详细和具体的区别)，用户编号(若买家为系统统一用户，则完善填入本值)，买家信息(json结构，用于存储三方应用的用户信息)，支付账户(记录用户用于支付的钱包地址)，订单完成时间，订单状态，是否有效，创建时间，修改时间，中转块哈希。 trade_item_t交易单品信息，存储一些需要平台特殊处理的商品(比如授权销售商品)。包括订单单品条目，单品编号，数量，币种，额度，创建时间，修改时间，是否有效。 refund_t退款单，记录退款的概要信息。包括退货单编号，订单编号，币种，退款金额，扩展信息(描述为什么退款)，退货单状态，是否有效，创建时间，修改时间，退款块哈希。失去了退款等业务，就失去了一个商业系统的完整性。所以，未来我们也需要退款功能。 refund_item_t退款单品信息，存储一些需要平台特殊处理的商品(比如授权销售商品)。包括退款单品条目编号，单品编号，单品数量，币种，金额，是否有效，创建时间，修改时间。 withdraw_t提现表，记录商户的每一笔提现记录。交易从开始到完成，交易款项都是在用户账户和中转账户中进行。交易完成后，商户需要申请提现，才能将交易的收益打到自己的商户账户上。包括提现编号，商户账户ID，币种，提现金额，提现状态，是否有效，创建时间，修改时间，提现块哈希。 基础参数 参数 变量名 必填 类型 示例 描述 应用ID appID 是 String(32) 支付中心分配给开发者的应用ID，一个商户号可以拥有多个应用 2014072300007148 商户ID merchantID 是 String(32) 1230000109 支付中心分配的商户号 编码格式 charset 是 String(10) utf-8 请求使用的编码格式，如utf-8,gbk,gb2312等 签名类型 signType 是 String(10) RSA2 商户生成签名字符串所使用的签名算法类型，目前支持RSA2和RSA，推荐使用RSA2 签名 sign 是 String xxxxx 采用应用私钥对对参数进行非签名外的其他参数进行加密的到的签名数据 请求时间戳 timestamp 是 String(19) 2014-07-24 03:07:50 发送请求的时间，格式”yyyy-MM-dd HH:mm:ss” 回调通知链接 notifyUrl 否 String(256) https://api.xx.com/receive_notify.htm 支付中心主动通知商户服务器里指定的页面http/https路径，建议商户使用https 接口定义支付中心主要提供以下几个接口 接口 地址 方法 描述 使用对象 加签 统一下单 https://api.xxx.com/pay/unifiedorder POST 创建预支付订单 商户服务端 是 获取统一订单 https://api.xxx.com/pay/unifiedorder GET 根据prepay_id获取预支付订单信息 钱包应用 是 中转支付 https://api.xxx.com/pay/transfer POST 向中转账户打款 钱包应用 否 查询订单 https://api.xxx.com/pay/orderquery GET 查询单笔订单信息 商户应用 否 关闭订单 https://api.xxx.com/pay/closeorder PATCH 支付失败或支付超时需要关闭原订单 商户应用 是 完成订单确认 https://api.xxx.com/pay/confirmorder POST 用户收到商品，确认无误后可以调用本接口进行确认完成，或者在系统指定时间内自动确认 商户服务端 是 商户提现 https://api.xxx.com/pay/withdraw POST 交易确认完成之后，商户可以将商户平台账户上的金额提现到商户账户上 商户服务端 是 申请退款 — — — — — 退款处理 https://api.xxx.com/pay/refund POST 商户退款给用户 商户应用 是 查询退款 — — — — — 下载对账单 — — — — — 创建预支付应用场景商户应用发起交易后，首先在商户服务端创建商户订单，然后在支付中心创建预支付交易订单。 返回预支付交易会话标识prepayId和对应的签名给商户服务端。 状态机支付状态转变如下： 接口连接POST https://api.xxx.com/pay/unifiedorder 请求参数123456789101112131415161718192021222324252627282930&#123; &quot;appID&quot;:&quot;2014072300007148&quot;, &quot;merchantID&quot;:&quot;1230000109&quot;, &quot;charset&quot;:&quot;UTF-8&quot;, &quot;signType&quot;:&quot;RSA2&quot;, &quot;timestamp&quot;:&quot;1540266193&quot;, &quot;merchantTrade&quot;:&quot;20150806125346&quot;, &quot;current&quot;:&quot;MOL&quot;, &quot;amount&quot;:&quot;300&quot;, &quot;tradeIp&quot;:&quot;127.0.0.1&quot;, &quot;startAt&quot;:&quot;20091225091010&quot;, &quot;expireAt&quot;:&quot;20091225091010&quot;, &quot;userID&quot;:&quot;8d331065d34211e89b0b00163e007a48&quot;, &quot;buyer&quot;:&#123; &quot;name&quot;:&quot;李大嘴&quot;, &quot;countryCode&quot;:&quot;0086&quot;, &quot;phoneNumber&quot;:&quot;13888888888&quot; &#125; &quot;external&quot;:&quot;订阅&quot;, &quot;products&quot;:[ &#123; &quot;productID&quot;:&quot;11r23&quot;, &quot;price&quot;:&quot;100&quot;, &quot;current&quot;:&quot;MOL&quot;, &quot;quantity&quot;:&quot;3&quot;, &quot;amount&quot;:&quot;300&quot; &#125; ], &quot;sign&quot;:&quot;xxxxxxx&quot;&#125; 参数 变量名 必填 类型 示例 描述 应用ID appID 是 String(32) 2014072300007148 支付中心分配给开发者的应用ID，一个商户号可以拥有多个应用 商户ID merchantID 是 String(32) 1230000109 支付中心分配的商户号 编码格式 charset 是 String(10) utf-8 请求使用的编码格式，如utf-8,gbk,gb2312等 签名类型 signType 是 String(10) RSA2 商户生成签名字符串所使用的签名算法类型，目前支持RSA2和RSA，推荐使用RSA2 请求时间戳 timestamp 是 String(19) 1540266193 发送请求的时间，格式”yyyy-MM-dd HH:mm:ss” 商户订单号 merchantTrade 是 String(32) 20150806125346 商户系统内部订单号，要求32个字符内，只能是数字、大小写字母_-且在同一个商户号下唯一 币种 currency 是 String(16) MOL 支付币种，默认为mol 金额 amount 是 Decimal(15,3) 10 支付额度，与币种对应 终端IP tradeIp 是 String(39) 127.0.0.1 交易ip，支持ipv4和ipv6 交易开始时间 startAt 是 String(14) 20091225091010 订单生成时间，格式为yyyyMMddHHmmss，如2009年12月25日9点10分10秒表示为20091225091010。 交易失效时间 expireAt 是 String(14) 20091225091010 订单失效时间，格式为yyyyMMddHHmmss，如2009年12月27日9点10分10秒表示为20091227091010。订单失效时间是针对订单号而言的，由于在请求支付的时候有一个必传参数prepayId只有两小时的有效期，所以在重入时间超过2小时的时候需要重新请求下单接口获取新的prepayId。 用户标识 userID 是 String(32) 8d331065d34211e89b0b00163e007a48 发起支付的用户id 商品信息 products 否 jsonArray [{“productID”:”11r23”,”price”:”100”,”currency”:”MOL”,”quantity”:”3”,”sum”:”300”}] 商品信息列表 签名 sign 是 String xxxxx 采用应用私钥对对参数进行非签名外的其他参数进行加密的到的签名数据 签名算法参数明按照字典序进行排序，使用URL键值对的格式(即key1=value1&amp;key2=value2…)拼接成字符串请按如下规则进行处理： 排除不加入签名的属性 如果参数值为空则不参与签名 参数名字典序排序 参数名区分大小写 具体步骤如下： 传入原始参数 12345678910111213141516171819202122232425&#123; &quot;amount&quot;: &quot;1&quot;, &quot;appID&quot;: &quot;6dd50bbfdc3711e898a000163e002b60&quot;, &quot;buyer&quot;: &#123; &quot;countryCode&quot;: &quot;0086&quot;, &quot;name&quot;: &quot;Oxford&quot;, &quot;phoneNumber&quot;: &quot;13828770003&quot; &#125;, &quot;charset&quot;: &quot;UTF-8&quot;, &quot;currency&quot;: &quot;mol&quot;, &quot;external&quot;: &quot;下订单&quot;, &quot;items&quot;: [ &#123; &quot;amount&quot;: &quot;1&quot;, &quot;currency&quot;: &quot;mol&quot;, &quot;price&quot;: &quot;1&quot;, &quot;productID&quot;: &quot;00001&quot;, &quot;productItemID&quot;: &quot;11111&quot;, &quot;quantity&quot;: &quot;1&quot; &#125; ], &quot;merchantID&quot;: &quot;5ae0d007dc3711e898a000163e002b60&quot;, &quot;merchantTrade&quot;: &quot;1100113&quot;, &quot;signType&quot;: &quot;RSA2&quot; &#125; 将原始参数中值为json块的数据进行属性名按字典序unicde编码buyer: 1%7B%22countryCode%22%3A%220086%22%2C%22name%22%3A%22Oxford%22%2C%22phoneNumber%22%3A%2213828770003%22%7D items:1%5B%7B%22amount%22%3A%221%22%2C%22currency%22%3A%22mol%22%2C%22price%22%3A%221%22%2C%22productID%22%3A%2200001%22%2C%22productItemID%22%3A%2211111%22%2C%22quantity%22%3A%221%22%7D%5D 然后将最外层的属性值按key=value的组合后，属性名按字典序用&amp;进行拼接 1amount=1&amp;appID=6dd50bbfdc3711e898a000163e002b60&amp;buyer=%257B%2522countryCode%2522%253A%25220086%2522%252C%2522name%2522%253A%2522Oxford%2522%252C%2522phoneNumber%2522%253A%252213828770003%2522%257D&amp;charset=UTF-8&amp;currency=mol&amp;external=%E4%B8%8B%E8%AE%A2%E5%8D%95&amp;items=%255B%257B%2522amount%2522%253A%25221%2522%252C%2522currency%2522%253A%2522mol%2522%252C%2522price%2522%253A%25221%2522%252C%2522productID%2522%253A%252200001%2522%252C%2522productItemID%2522%253A%252211111%2522%252C%2522quantity%2522%253A%25221%2522%257D%255D&amp;merchantID=5ae0d007dc3711e898a000163e002b60&amp;merchantTrade=1100113&amp;signType=RSA2 用商户私钥对上述拼接好的字符串进行RSA签名 1EtMYFy5LYZBMXD9lCdYq+i0NwpHUOYL+OjWiwm3hJTLcOFaI+EKYZHUUyusP9LTFCd3V3oZpnU85pY/WiVH1isgWgaGCBtAeZqOrKfG+O9rhLRU6opWdIg/Ckv/Jqb3GXdiP4VrFZmawQFgh0T7eqNQj6y30w7YmkHaBhCl07N/c3G7MQaU4W+5xV6YgsEIRAzdX28bGFcOujOnCPF7IsjUnVv4uG8gLAzHg9BLLNUpjC0PzIBU8mgJnYBXUyeSs3z1eHBUPVfB2YuYdRjm9O2hMqmlJR3JbrsPyJnIi8Eet/2Y+JQndgo6UMQghETxK0Dy4mgVyx9feMlMws0NPbA== 重新分装请求参数 1234567891011121314151617181920212223242526&#123; &quot;amount&quot;: &quot;1&quot;, &quot;appID&quot;: &quot;6dd50bbfdc3711e898a000163e002b60&quot;, &quot;buyer&quot;: &#123; &quot;countryCode&quot;: &quot;0086&quot;, &quot;name&quot;: &quot;Oxford&quot;, &quot;phoneNumber&quot;: &quot;13828770003&quot; &#125;, &quot;charset&quot;: &quot;UTF-8&quot;, &quot;currency&quot;: &quot;mol&quot;, &quot;external&quot;: &quot;下订单&quot;, &quot;items&quot;: [ &#123; &quot;amount&quot;: &quot;1&quot;, &quot;currency&quot;: &quot;mol&quot;, &quot;price&quot;: &quot;1&quot;, &quot;productID&quot;: &quot;00001&quot;, &quot;productItemID&quot;: &quot;11111&quot;, &quot;quantity&quot;: &quot;1&quot; &#125; ], &quot;merchantID&quot;: &quot;5ae0d007dc3711e898a000163e002b60&quot;, &quot;merchantTrade&quot;: &quot;1100113&quot;, &quot;signType&quot;: &quot;RSA2&quot;, &quot;sign&quot;: &quot;EtMYFy5LYZBMXD9lCdYq+i0NwpHUOYL+OjWiwm3hJTLcOFaI+EKYZHUUyusP9LTFCd3V3oZpnU85pY/WiVH1isgWgaGCBtAeZqOrKfG+O9rhLRU6opWdIg/Ckv/Jqb3GXdiP4VrFZmawQFgh0T7eqNQj6y30w7YmkHaBhCl07N/c3G7MQaU4W+5xV6YgsEIRAzdX28bGFcOujOnCPF7IsjUnVv4uG8gLAzHg9BLLNUpjC0PzIBU8mgJnYBXUyeSs3z1eHBUPVfB2YuYdRjm9O2hMqmlJR3JbrsPyJnIi8Eet/2Y+JQndgo6UMQghETxK0Dy4mgVyx9feMlMws0NPbA==&quot; &#125; 返回结果成功返回值1234567891011&#123; &quot;code&quot;:200000, &quot;message&quot;:&quot;OK&quot;, &quot;data&quot;:&#123; &quot;prepayID&quot;:&quot;2014072300007148&quot;, &quot;appID&quot;:&quot;2014072300007148&quot;, &quot;merchantID&quot;:&quot;1230000109&quot;, &quot;paylink&quot;:&quot;mol://pay?prepayID=$&#123;prepayID&#125;&amp;appID=$&#123;appID&#125;&amp;merchantID=$&#123;merchantID&#125;&amp;sign=$&#123;sign&#125;&quot;, &quot;sign&quot;:&quot;C380BEC2BFD727A4B6845133519F3AD6&quot; &#125;&#125; 失败返回值1234&#123; &quot;code&quot;:400001, &quot;message&quot;:&quot;缺少prepayID参数&quot;&#125; 字段名 变量名 必填 类型 示例 描述 返回状态码 code 是 Integer(6) 200000 200000,500000等 此字段是通信标识，非交易标识，交易是否成功需要查看code来判断 返回信息 message 是 String(128) OK 当code为200000时返回OK，否则返回信息为错误原因 ，例如签名失败 参数格式校验错误 结果数据 data 是 json {} code为200000时，本参数书才有值，无返回值或者非200000时，本参数为null或者没有data返回 当code为200000时，data结构 字段名 变量名 必填 类型 示例 描述 预支付ID prepayID 是 String(32) 2014072300007148 交易会话的预支付ID 应用ID appID 是 String(32) 2014072300007148 调用接口提交的应用ID 商户ID merchantID 否 String(32) 1230000109 支付中心分配的商户号 签名 sign 是 String(32) C380BEC2BFD727A4B6845133519F3AD6 支付中心返回的签名值 错误码 名称 描述 原因 解决方案 NO_AUTH 商户无此接口权限 商户未开通此接口权限 请商户前往申请此接口权限 NOT_ENOUGH 余额不足 用户帐号余额不足 用户帐号余额不足，请用户充值或更换支付卡后再支付 ORDER_PAID 商户订单已支付 商户订单已支付，无需重复操作 商户订单已支付，无需更多操作 ORDER_CLOSED 订单已关闭 当前订单已关闭，无法支付 当前订单已关闭，请重新下单 SYSTEM_ERROR 系统错误 系统超时 系统异常，请用相同参数重新调用 APPID_NOT_EXIST APPID不存在 参数中缺少APPID 请检查APPID是否正确 MCHID_NOT_EXIST MCHID不存在 参数中缺少MCHID 请检查MCHID是否正确 APPID_MCHID_NOT_MATCH appid和mch_id不匹配 appid和mch_id不匹配 请确认appid和mch_id是否匹配 LACK_PARAMS 缺少参数 缺少必要的请求参数 请检查参数是否齐全 OUT_TRADE_NO_USED 商户订单号重复 同一笔交易不能多次提交 请核实商户订单号是否重复提交 SIGN_ERROR 签名错误 参数签名结果不正确 请检查签名参数和方法是否都符合签名算法要求 REQUIRE_POST_METHOD 请使用post方法 未使用post传递参数 请检查请求参数是否通过post方法提交 POST_DATA_EMPTY post数据为空 post数据不能为空 请检查post数据是否为空 NOT_UTF8 编码格式错误 未使用指定编码格式 请使用UTF-8编码格式 获取统一订单应用场景商户应用调起钱包后，钱包应用将传递过来的prepayID，appID，调用本接口发送至支付中心，获取统一订单信息 接口连接GET https://api.xxx.com/pay/unifiedorder 请求参数1prepayID=014072300007148&amp;appID=2014072300007148&amp;merchantID=134352&amp;sign=adae13isg 参数 变量名 必填 类型 示例 描述 预支付ID prepayID 是 String(32) 2014072300007148 交易会话的预支付ID 应用ID appID 是 String(32) 2014072300007148 支付中心分配给开发者的应用ID，一个商户号可以拥有多个应用 返回结果成功返回值123456789101112131415161718192021222324&#123; &quot;code&quot;:200000, &quot;message&quot;:&quot;OK&quot;, &quot;data&quot;:&#123; &quot;prepayID&quot;:&quot;2014072300007148&quot;, &quot;sender&quot;:&quot;mol_1mrj9xomsiaykauks9f731ux651g8yk35sg6nzt6dwqfkrbs5ygirw1hq5kn&quot;, &quot;userID&quot;:&quot;8d331065d34211e89b0b00163e007a48&quot;, &quot;buyer&quot;:&#123; &quot;name&quot;:&quot;李大嘴&quot;, &quot;countryCode&quot;:&quot;0086&quot;, &quot;phoneNumber&quot;:&quot;13888888888&quot; &#125;, &quot;current&quot;:&quot;mol&quot;, &quot;amount&quot;:&quot;300&quot;, &quot;merchant&quot;: &#123; &quot;merchantID&quot;:&quot;merchantID&quot;, &quot;merchantName&quot;:&quot;电器之家&quot; &#125;, &quot;app&quot;:&#123; &quot;appID&quot;:&quot;2014072300007148&quot;, &quot;appName&quot;:&quot;镰刀&quot; &#125; &#125;&#125; 失败返回值1234&#123; &quot;code&quot;:400001, &quot;message&quot;:&quot;缺少prepayID参数&quot;&#125; 字段名 变量名 必填 类型 示例 描述 返回状态码 code 是 Integer(6) 200000 200000,500000等 此字段是通信标识，非交易标识，交易是否成功需要查看code来判断 返回信息 message 是 String(128) OK 当code为200000时返回OK，否则返回信息为错误原因 ，例如签名失败 参数格式校验错误 结果数据 data 是 json {} code为200000时，本参数书才有值，无返回值或者非200000时，本参数为null或者没有data返回 当code为200000时，data结构 字段名 变量名 必填 类型 示例 描述 预支付ID prepayID 是 String(32) 2014072300007148 交易会话的预支付ID 中转账户 sender 是 String(64) mol_1mrj9xomsiaykauks9f731ux651g8yk35sg6nzt6dwqfkrbs5ygirw1hq5kn 支付中心发布出来供商户中转用的区块链地址 用户标识 userID 是 String(32) 8d331065d34211e89b0b00163e007a48 发起支付的用户id 币种 currency 是 String(16) MOL 支付币种，默认为mol 金额 amount 是 Decimal(15,3) 300 支付额度，与币种对应 商户信息 merchant 是 json 123456789101112131415|应用信息 | app | 是 | json |```&#123;&quot;appID&quot;:&quot;2014072300007148&quot;,&quot;appName&quot;:&quot;镰刀&quot;&#125;```|应用信息，需要包括应用ID和应用名称，用来后台服务确认，及前端展现 |##### 错误码#### 中转支付##### 应用场景钱包应用封装process块信息。然后将块信息，预支付ID，调用中转支付接口，从用户账户往中转账户上打指定额度的款项。##### 状态机##### 接口连接POST https://api.xxx.com/pay/transfer##### 请求参数| 参数 | 变量名 | 必填 | 类型 | 示例 | 描述 || --- | --- | --- | --- | --- | --- ||预支付ID|prepayID | 是 | String(32) | 2014072300007148|交易会话的预支付ID||process块信息| block | 是 | String(500) |详见process块参数介绍|支付中心调用process rpc|process块参数 { “action”: “process”, “block”: “{ \”type\”: \”state\”, \”account\”: \”xrb_1qato4k7z3spc8gq1zyd8xeqfbzsoxwo36a45ozbrxcatut7up8ohyardu1z\”, \”previous\”: \”6CDDA48608C7843A0AC1122BDD46D9E20E21190986B19EAC23E7F33F2E6A6766\”, \”representative\”: \”xrb_3pczxuorp48td8645bs3m6c3xotxd3idskrenmi65rbrga5zmkemzhwkaznh\”, \”balance\”: \”40200000001000000000000000000000000\”, \”link\”: \”87434F8041869A01C8F6F263B87972D7BA443A72E0A97D7A3FD0CCC2358FD6F9\”, \”link_as_account\”: \”xrb_33t5by1653nt196hfwm5q3wq7oxtaix97r7bhox5zn8eratrzoqsny49ftsd\”, \”signature\”: \”A5DB164F6B81648F914E49CAB533900C389FAAD64FBB24F6902F9261312B29F730D07E9BCCD21D918301419B4E05B181637CF8419ED4DCBF8EF2539EB2467F07\” }”}1完整参数 { “prepayID”:”1235235”, “appID”:”2014072300007148”, “merchantID”:”1230000109”, “action”: “process”, “block”: “{ \”type\”: \”state\”, \”account\”: \”xrb_1qato4k7z3spc8gq1zyd8xeqfbzsoxwo36a45ozbrxcatut7up8ohyardu1z\”, \”previous\”: \”6CDDA48608C7843A0AC1122BDD46D9E20E21190986B19EAC23E7F33F2E6A6766\”, \”representative\”: \”xrb_3pczxuorp48td8645bs3m6c3xotxd3idskrenmi65rbrga5zmkemzhwkaznh\”, \”balance\”: \”40200000001000000000000000000000000\”, \”link\”: \”87434F8041869A01C8F6F263B87972D7BA443A72E0A97D7A3FD0CCC2358FD6F9\”, \”link_as_account\”: \”xrb_33t5by1653nt196hfwm5q3wq7oxtaix97r7bhox5zn8eratrzoqsny49ftsd\”, \”signature\”: \”A5DB164F6B81648F914E49CAB533900C389FAAD64FBB24F6902F9261312B29F730D07E9BCCD21D918301419B4E05B181637CF8419ED4DCBF8EF2539EB2467F07\” }”}123##### 返回结果成功返回值 { “code”:200000, “message”:”OK”}1失败返回值 { “code”:400001, “message”:”缺少prepayID参数”}123456789101112131415161718192021222324252627282930313233|字段名| 变量名| 必填| 类型| 示例|描述|| --- | --- | --- | --- | --- | --- ||返回状态码| code| 是| Integer(6)|200000|200000,500000等 此字段是通信标识，非交易标识，交易是否成功需要查看code来判断||返回信息 |message |是|String(128)|OK|当code为200000时返回OK，否则返回信息为错误原因 ，例如签名失败 参数格式校验错误|若调用中转接口成功，支付中心将从中转账户向商户账户打款，并将余款返回给用户账户。##### 错误码| 名称 | 描述 | 原因 | 解决方案|| --- | --- | --- | --- || NOT_ENOUGH | 余额不足 | 用户帐号余额不足|用户帐号余额不足，请用户充值或更换支付卡后再支付 || ORDER_PAID | 商户订单已支付|商户订单已支付，无需重复操作|商户订单已支付，无需更多操作 || ORDER_CLOSED | 订单已关闭 |当前订单已关闭，无法支付|当前订单已关闭，请重新下单 || SYSTEM_ERROR | 系统错误 |系统超时|系统异常，请用相同参数重新调用|| APPID_NOT_EXIST | APPID不存在|参数中缺少APPID|请检查APPID是否正确|| PREPAYID_NOT_EXIST | PrepayID不存在|参数中缺少PrepayID|请检查PrepayID是否正确|| PREPAYID_SENDER_NOT_MATCH | sender和交易会话中的中转账户不匹配|sender和交易会话中的中转账户不匹配| 请确认sender是否正确|| LACK_PARAMS | 缺少参数 | 缺少必要的请求参数|请检查参数是否齐全|| OUT_TRADE_NO_USED | 商户订单号重复|同一笔交易不能多次提交|请核实商户订单号是否重复提交 || REQUIRE_POST_METHOD | 请使用post方法|未使用post传递参数 |请检查请求参数是否通过post方法提交 || POST_DATA_EMPTY | post数据为空|post数据不能为空|请检查post数据是否为空|#### 查询订单##### 应用场景该接口提供所有的订单查询，商户可以通过查询订单接口主动查询订单状态，完成进一步的业务逻辑。需要调用查询接口的情况：* 当商户服务端、网络、服务器等出现异常，商户系统未收到支付通知* 调用支付接口后，返回系统错误或未知交易窗台* 调用关单或撤销接口API之前，需要确认支付状态##### 状态机请查阅统一下单接口。##### 接口连接GET https://api.xxx.com/pay/orderquery##### 请求参数 appID=014072300007148&amp;merchantID=1230000109&amp;charset=UTF-8&amp;signType=RSA2&amp;transactionID=1009660380201506130728806387&amp;merchantTrade=20150806125346&amp;sign=xxxxxxx1234567891011| 参数 | 变量名 | 必填 | 类型 | 示例 | 描述 || --- | --- | --- | --- | --- | --- ||应用ID| appID | 是 | String(32) |2014072300007148|支付中心分配给开发者的应用ID，一个商户号可以拥有多个应用||商户ID|merchantID|是|String(32)|1230000109|支付中心分配的商户号||编码格式|charset|是|String(10)|utf-8|请求使用的编码格式，如utf-8,gbk,gb2312等||签名类型|signType | 是 | String(10) | RSA2 | 商户生成签名字符串所使用的签名算法类型，目前支持RSA2和RSA，推荐使用RSA2 || 支付中心订单号 | transactionID | 是 | String(32) | 1009660380201506130728806387 | 支付中心订单号，查询时，可以与商户订单号进行二选一，建议优先使用支付中心订单号 || 商户订单号 | merchantTrade | 是 | String(32) | 20150806125346 | 商户系统内部订单号，要求32个字符内，只能是数字、大小写字母_-且在同一个商户号下唯一 ||签名|sign | 是 | String | xxxxx | 采用应用私钥对对参数进行非签名外的其他参数进行加密的到的签名数据 |##### 返回结果成功返回值 { “code”:200000, “message”:”OK”, “data”:{ “appID”:”2014072300007148”, “merchantID”:”1230000109”, “transactionID”:”1009660380201506130728806387”, “merchantTrade”:”20150806125346”, “tradeState”:”SUCCESS” “userID”:”8d331065d34211e89b0b00163e007a48”, “current”:”MOL”, “amount”:”300”, “tradeIp”:”127.0.0.1”, “startAt”:”20091225091010”, “finishAt”:”20091225091010”, “buyer”:{ “name”:”李大嘴”, “countryCode”:”0086”, “phoneNumber”:”13888888888” } “external”:”订阅”, “products”:[ { “productID”:”11r23”, “price”:”100”, “current”:”MOL”, “quantity”:”3”, “amount”:”300” } ], “sign”:”23olkfaieoaj” }}1失败返回值 { “code”:400001, “message”:”缺少merchantID参数”}` 字段名 变量名 必填 类型 示例 描述 返回状态码 code 是 Integer(6) 200000 200000,500000等 此字段是通信标识，非交易标识，交易是否成功需要查看code来判断 返回信息 message 是 String(128) OK 当code为200000时返回OK，否则返回信息为错误原因 ，例如签名失败 参数格式校验错误 结果数据 data 是 json {} code为200000时，本参数书才有值，无返回值或者非200000时，本参数为null或者没有data返回 当code为200000时，data结构 字段名 变量名 必填 类型 示例 描述 应用ID appID 是 String(32) 2014072300007148 调用接口提交的应用ID 商户ID merchantID 否 String(32) 1230000109 支付中心分配的商户号 支付中心订单号 transactionID 是 String(32) 1009660380201506130728806387 支付中心订单号，查询时，可以与商户订单号进行二选一，建议优先使用支付中心订单号 商户订单号 merchantTrade 是 String(32) 20150806125346 商户系统内部订单号，要求32个字符内，只能是数字、大小写字母_-且在同一个商户号下唯一 交易状态 tradeState 是 String(32) SUCCESS SUCCESS——支付成功`REFUND——转入退款NO_TPAY——未支付CLOSED——已关闭USER_PAYING——用户支付中PAY_ERROR——支付失败(其他原因，如块返回失败)` 用户标识 userID 是 String(32) 8d331065d34211e89b0b00163e007a48 发起支付的用户id 交易开始时间 startAt 是 String(14) 20091225091010 订单生成时间，格式为yyyyMMddHHmmss，如2009年12月25日9点10分10秒表示为20091225091010。 交易完成时间 finishAt 是 String(14) 20091225091010 订单失效时间，格式为yyyyMMddHHmmss，如2009年12月27日9点10分10秒表示为20091227091010。 币种 currency 是 String(16) MOL 支付币种，默认为mol 金额 amount 是 Decimal(15,3) 10 支付额度，与币种对应 商品信息 products 是 jsonArray [{“productID”:”11r23”,”price”:”100”,”currency”:”MOL”,”quantity”:”3”,”sum”:”300”}] 商品信息列表 签名 sign 是 String(32) C380BEC2BFD727A4B6845133519F3AD6 微信返回的签名值 错误码参考上述的错误描述]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0%2F%E6%89%93%E5%B8%81%E7%B3%BB%E7%BB%9F%2F%E6%89%93%E5%B8%81%E7%B3%BB%E7%BB%9F%2F</url>
    <content type="text"><![CDATA[打币系统由于blake2b和nacl等算法除了JS，其他平台暂时没有找到合适的实现，因此打币系统暂时不单一依靠java完成，而是Node和 Java 结合的异构系统。Node充当算法工具，Java完成业务。 工具Api利用之前的钱包 JS 代码，运行在Node服务里，把钱包里的部分功能通过接口形式暴露，其中包括如下功能： 种子/助记词–&gt;私钥（生成发送块时，签名需要私钥） 123var accountBytes = utilService.account.generateAccountSecretKeyBytes(this.wallet.seedBytes, index); var accountKeyPair = utilService.account.generateAccountKeyPair(accountBytes); var accountName = utilService.account.getPublicAccountID(accountKeyPair.publicKey); 生成发送块（其中发送方地址/接收方地址与公钥互转在JS内部完成） 12345678910111213141516171819202122232425262728293031323334353637383940414243// 生成发送块信息 async generateSend(walletAccount, toAccountID, rawAmount) &#123; var fromAccount = await apiService.accountInfo(walletAccount.id); if (!fromAccount) throw new Error(`Unable to get account information for $&#123;walletAccount.id&#125;`); var remaining = new BigNumber(fromAccount.balance).minus(rawAmount); var remainingDecimal = remaining.toString(10); var remainingPadded = remaining.toString(16); while (remainingPadded.length &lt; 32) remainingPadded = &apos;0&apos; + remainingPadded; // Left pad with 0&apos;s var blockData; var representative = &quot;mol_3ytentj15q44he4c778317r868wdttwufp96fsccjux4tuqc59ojgrwn6d4w&quot;; var context = blake.blake2bInit(32, null); var STATE_BLOCK_PREAMBLE = &apos;0000000000000000000000000000000000000000000000000000000000000006&apos;; blake.blake2bUpdate(context, utilService.hex.toUint8(STATE_BLOCK_PREAMBLE)); blake.blake2bUpdate(context, utilService.hex.toUint8(utilService.account.getAccountPublicKey( walletAccount.id))); blake.blake2bUpdate(context, utilService.hex.toUint8(fromAccount.frontier)); blake.blake2bUpdate(context, utilService.hex.toUint8(utilService.account.getAccountPublicKey( representative))); blake.blake2bUpdate(context, utilService.hex.toUint8(remainingPadded)); blake.blake2bUpdate(context, utilService.hex.toUint8(utilService.account.getAccountPublicKey( toAccountID))); var hashBytes = blake.blake2bFinal(context); var signed = nacl.sign.detached(hashBytes, walletAccount.keyPair.secretKey); var signature = utilService.hex.fromUint8(signed); blockData = &#123; type: &apos;state&apos;, account: walletAccount.id, previous: fromAccount.frontier, representative: representative, balance: remainingDecimal, link: utilService.account.getAccountPublicKey(toAccountID), // work: await workPoolService.getWork(fromAccount.frontier), signature: signature, &#125;; return blockData; &#125;, 其中 种子--&gt;私钥这个只需要给出一个在线的静态页面，用户填写种子后地到公钥和私钥，这样就解决了私钥的安全问题，同时也提供了工具给他们，一个静态页面的源码大家都看得到，所以就排除我们偷存私钥的嫌疑。 打币系统流程只需要对外提供一个接口即可，让第三方开发者将发送方地址、对应的私钥、接收方地址、币数量传过来，自己再调用生成发送块的Api，生成一个发送块，然后就可以丢到队列里按支付的那一套流程：请求前一个块的hash--&gt;申请工作量证明--&gt;添加到生成块中--&gt;process--&gt;申请投票--&gt;确认--&gt;回调 即可。只不过这里稍微要注意一下是打币速度过快可能会让节点拥堵，这个之前有遇到过，所以建议打币系统和支付系统分开，节点也各自不同，不要让第三方开发者联想到两者有什么联系，同时建议不要像支付系统一样，在申请工作量证明那里就process，而是延后一点，以耽误一下时间，避免过快的发送到链上，当然这里需要再讨论和论证一下。 安全问题由于这些接口都是在后台运行，因此不存在什么安全问题，只是一个单纯的、特殊的process接口，又由于发送方的地址是由调用方决定的，因此不存在金额对账等烦恼，我们顶多在请求前一个块的hash的时候顺便检测一下是否够发送这笔交易，如果不够给个合理的描述或者异常而已。 性能问题如果真的担心Node服务器的性能问题可以考虑用Nginx左一层负载均衡。 总结以上这些在理论上是行得通的，希望两至三周时间完成开放平台（前后端）和这个打币系统，至此，整个SDK部分完结。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0%2FAPI%E6%96%87%E6%A1%A3%2FAPI%E6%96%87%E6%A1%A3%2F</url>
    <content type="text"><![CDATA[API文档 更新时间：2018-01-10 为避免开发调试过程中不必要的麻烦，请认真阅读以下「公共部分」。 公共部分我们规定每一个API接口都有一些共同约定的部分。 公共请求头通过Content-Type指定请求与返回的数据格式有 JSON ，其中请求数据还要指定Accept。 12Accept: application/jsonContent-Type: application/json;charset=UTF-8 公共响应头12Content-Type:application/json; charset=utf-8Status:200 OK 公共响应我们规定响应体里的内容 JSON 结构一致，如下所示： 1234567&#123; &quot;message&quot;: &quot;成功&quot;, &quot;code&quot;: 200, &quot;data&quot;: &#123; 该接口相关内容 &#125;&#125; key 类型 是否必须 描述 message String 是 返回给接口调用者的描述 code int 是 200表是成功，非200表示异常 API列表转账该接口可利用钱包私钥向指定地址发送指定数量的摩尔。 地址：https://api.dev.biotifo.com/payment-transfer/v1/transfer 请求头123POST /payment-transfer/v1/transferAccept: application/jsonContent-Type: application/json;charset=UTF-8 参数1234567&#123; &quot;amount&quot;: &quot;交易金额&quot;, &quot;deductAddress&quot;: &quot;扣款地址&quot;, &quot;notifyUrl&quot;: &quot;异步通知url&quot;, &quot;privateKey&quot;: &quot;扣款地址私钥&quot;, &quot;receiveAddress&quot;: &quot;收款地址&quot;&#125; params 类型 是否必要 描述 amount String 是 转账数量，必须大于0，且小于钱包余额 deductAddress String 是 扣款地址，即私钥所对应的钱包的地址 notifyUrl String 是 回调url，当转账结果成功或者失败后会回调该url的接口 privateKey String 是 钱包私钥，即发送方的钱包对应的私钥，可由种子转换获得，点击获取转换工具 receiveAddress String 是 目标地址，即收币地址 响应头12HTTP/1.1 200 OKContent-Type:application/json; charset=utf-8 响应1234&#123; &quot;message&quot;: &quot;success&quot;, &quot;code&quot;: 200&#125; key 类型 是否必要 描述 message String 是 同上 code String 是 同上 异常 状态码 类型 是否必要 描述 821 int 否 金额无效，amount参数不能为负数，也不能大于钱包余额]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0%2FAPI%E6%94%AF%E4%BB%98%2FAPI%E6%94%AF%E4%BB%98%2F</url>
    <content type="text"><![CDATA[API支付 更新时间：2018-01-10 概述第三方应用可以通过接口方式进行转账，可以将任意钱包里的摩尔币转账给任意摩尔链上的地址。 阅读对象产品经理，开发人员，测试人员，区块链工程师，其他有关人员。 产品介绍适用于任何语言平台调用该接口完成转账业务，比如用户提现、红包、奖励等等。 转账API接口该接口可利用钱包私钥向指定地址发送指定数量的摩尔。 地址：https://api.dev.biotifo.com/payment-transfer/v1/transfer 请求头123POST /payment-transfer/v1/transferAccept: application/jsonContent-Type: application/json;charset=UTF-8 参数1234567&#123; &quot;amount&quot;: &quot;交易金额&quot;, &quot;deductAddress&quot;: &quot;扣款地址&quot;, &quot;notifyUrl&quot;: &quot;异步通知url&quot;, &quot;privateKey&quot;: &quot;扣款地址私钥&quot;, &quot;receiveAddress&quot;: &quot;收款地址&quot;&#125; params 类型 是否必要 描述 amount String 是 转账数量，必须大于0，且小于钱包余额 deductAddress String 是 扣款地址，即私钥所对应的钱包的地址 notifyUrl String 是 回调url，当转账结果成功或者失败后会回调该url的接口 privateKey String 是 钱包私钥，即发送方的钱包对应的私钥，可由种子转换获得，点击获取转换工具 receiveAddress String 是 目标地址，即收币地址 响应头12HTTP/1.1 200 OKContent-Type:application/json; charset=utf-8 响应1234&#123; &quot;message&quot;: &quot;success&quot;, &quot;code&quot;: 200&#125; key 类型 是否必要 描述 message String 是 同上 code String 是 同上 异常 状态码 类型 是否必要 描述 821 int 否 金额无效，amount参数不能为负数，也不能大于钱包余额 回调接口该接口作为转账接口的参数，当支付系统确认交易成功后会通过POST方法调用该接口，第三方调用者就可以根据这个信号来同步相关操作。当接收到回调时，操作步骤如下： 比对金额； 处理自己的相关逻辑，并且返回success字符串。注意：程序执行完后必须打印输出“success”（不包含引号）。如果商户反馈的字符不是success这7个字符，服务器会不断重发通知，直到超过24小时22分钟。一般情况下，25小时以内完成8次通知（通知的间隔频率一般是：4m,10m,10m,1h,2h,6h,15h）；程序执行完成后，该页面不能执行页面跳转。如果执行页面跳转，会收不到success字符，会被服务器判定为该页面程序运行出现异常，而重发处理结果通知。 回调具体参数如下所示： key 类型 是否必要 描述 amount String 是 转账数量，必须大于0，且小于钱包余额 deductAddress String 是 扣款地址，即私钥所对应的钱包的地址 notifyUrl String 是 回调url，当转账结果成功或者失败后会回调该url的接口 privateKey String 是 钱包私钥，即发送方的钱包对应的私钥，可由种子转换获得，点击获取转换工具 receiveAddress String 是 目标地址，即收币地址]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0%2FREADME%2F</url>
    <content type="text"><![CDATA[摩尔支付SDK概述 Version：beta]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B%2FAndroid%2F%E4%B8%80%E5%A3%B0%E7%AC%91Android%E7%AB%AF%E6%9E%B6%E6%9E%84%E4%B8%8E%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[一声笑Android端架构与技术选型 前言由于我司目前处于项目探索阶段，会有较多的项目和迭代，因此快速开发是主旋律，可维护是基调，这就要求代码高可复用、灵活拆分、便于调试，基于这些原因我将根据经验对Android开发架构和技术选型进行梳理。这份文档可看做我司Android部分项目简介和技术简介。由于时间紧凑，若有遗漏可通过QQ/微信666233联系我询问。 开发环境IDE使用Android Studio3.0及以上版本，Android Studio在3.0这一版本改动比较大，功能上增强了不少，起码可以原生使用Lambda，也可以使用Stream流操作集合，这些在数据处理上都是很好的。 工具插件工欲善其事必先利其器，配合好插件事半功倍，以下是几个最常用的，需要安装一下。 GsonFormat Translation CodeGlance Android Drawable Importer folding-plugin Android Studio Prettify 更多详情请参考：Android 开发者工具。 规范一名二姓三风水，四积阴德五读书，名不正则言不顺，言不顺则事难成。软件开发其实就是门命名的艺术，所以首先定义一些规范，提出一些硬性要求，大家在命名的时候尽量多花点心思，多参考优秀的命名风格（强烈推荐参考：阿里巴巴Java开发手册），以利于项目维护、增强代码可读性、提升 Code Review 效率以及规范团队协作开发，让我们按照规范自成方圆，具体请参考：Android开发规范。同时开源配合阿里巴巴开源的java代码规范检测插件，尽量做到各个维度的规范。 一个单词尽量选择5–7个字母的，这样才最优美。 首字母缩写的单词尽量每个字母都用大写，例如ID。用个小写，人家还以为是一个单词。当然uri、url、urn这种除外，因为大家都知道这个是什么。 前后端的某些名称概念要统一用某一个单词，比如支付的统一订单，支付宝用的是order，微信用的是unifiedorder，那我们统一对订单这个概念用order这个词。再比如主机：后台用gateway，现在我们统一用host。这单词不统一很容易分裂。 Android技术栈Gradle构建对Gradle的配置要求： 对于编译版本和依赖版本等进行统一管理。 尽量分为debug版本和release版本。 能自动处理版本号。 配置多渠道打包。 自定义输出各类Apk文件名称。 尽量通过配置Gradle的形式配置第三方Key。 通过productFlavors构建不同的渠的App（应用场景有很多，比如应用商店的加壳）。 组件化组件是指项目开发中能作为一个独立功能的部分。我们平时开发中尽量将独立功能的部分（例如某一个自定义View，或者某个工具类等）抽取出来做成组件，然后发布到jcenter、jitpack或者私有服务器上，平时开发的时候就直接在Gradle里配置依赖即可，目的也是为了快速开发和充分复用。 模块化首先模块化的目的除了为了快速开发和复用代码外，更为了在项目逐渐庞大起来后能灵活协作开发和单独调试，耦合度降低便于拆分组合。根据以往经验，我将整体架构分为5层（并不一定要分这么多层），其关系应该是如下图所示： 整体架构从上依赖至下，下层为上层提供服务。架构的设计主要是为了应对我们公司自身业务探索时快速开发，在不断的开发过程中汲取可用部分抽象整理成独立的模块以方便后续使用。同时模块的划分也根据不同的功能和业务划分到不同的层级中。理论上来说可以有一个集成代码库，然后从这一套代码中通过差异化的构建，编译出不同的App，缺点是代码库会越来越大，组件越来越多，模块也越来越多。如果单独根据项目来集成又会出现多套相同代码需要维护的问题，这个得根据业务需求和是否需要长期维护等因素适当取舍才行。根据Android项目的目录特点，每一个项目在创建出来会有一个App module，这个module我们当做一个空壳，单独依赖main层，只根据需求写Gradle配置而已。模块之间的通讯通过ARouter进行，或者可以自己在ACommon层定义接口的方式进行通讯。 MVP模式MVC/MVP/MVVM模式有很多，这里所说的也不是纯粹的MVP，应该是MVP和MVVM混合体的改造版，目的还是为了充分解耦和方便调试。同时为了方便调试，各层之间完全依赖接口，如下图所示： 同时由于我们强调组件化、模块化，可以总结为按业务分模块，按功能分组件，按MVP分层。 UI框架为了取得更好的性能，页面更好的管理，整体UI框架以多Activity+多Fragment的形式搭建，界面经历优先选择使用Fragment，Activity只做Fragment的容器，同时Fragment做为MVP模式中的View层。使用了Fragmentation这个框架来操作Fragment，这样合理的控制Activity个数，也使得界面更轻量级。 依赖公共依赖配置在abse module的build.gradle里，其他特殊需求的依赖配置在main module的build.gradle中，可自行到Github上查看学习。 网络访问框架：OkHttp、Retrofit配合RxJava2。 图片加载框架：Glide、Fresco、Picasso。 缓存框架：DiskLruCache、 Robospice。 Json解析框架：Gson、Fastjson、Jackson。 事件总线：EventBus。 ORM框架：Litepal、Room。 数据统计：友盟统计，百度统计。 奔溃搜集：腾讯Bugly、Bugtags。 云存储：七牛。 即使通讯：环信、融云、阿里百川。 推送：小米推送、华为推送、腾讯推送、阿里云推送。 安全加固：360加固宝、爱加密。 还有其他各种各样开源的自定义控件、动画等。除了以上提到的开源框架，也包括一些不开源的SDK。 需要注意的是在引入第三方库的时候应做好充分调查。 代码管理统一使用git进行管理。 前后端分离理论上在立项之后，由于前面的充分准备，加上模块化的开发，前期在UI图还没拿到手之前，就能将一个App最初期的任务如项目搭建、闪屏页、欢迎页、注册登录、个人信息、设置等常规模块通过引人的方式快速完成。之后再根据接口约束开发，不需要等着后台接口做好再动手。 建议 作为一个有追求的程序员，应尽量使用最新的技术。 现在Android 4.4以下的手机已经越来越少，几乎可以不用考虑，因此可以把minSdkVersion设置成21。 在使用icon的时候，尽量使用矢量图。 数据操作可以考虑使用RxJava或者Stream。 建议平时养成写备忘录的习惯，想到点什么与产品有关的就快速记下来，开会的时候就一起讨论。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E8%A7%84%E8%8C%83%2F%E8%AE%BE%E8%AE%A1%2F%E6%96%87%E4%BB%B6%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83%2F</url>
    <content type="text"><![CDATA[文件命名规范 [TOC] 前言概要规范美小圆旧黄 法国木书房 https://www.ui.cn/detail/77602.html https://mp.weixin.qq.com/s?__biz=MzUxMzUzNzUzMw==&amp;mid=2247490678&amp;idx=2&amp;sn=6087c8d9faea9edb5516571c1ace8da5&amp;chksm=f952f8e4ce2571f25f610af7fcc40bc222138b03856cf35aca4f7e847e8b5f460acfd8b0989f&amp;mpshare=1&amp;scene=1&amp;srcid=#rd http://www.woshipm.com/pd/765432.html https://www.25xt.com/appdesign/8971.html]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E8%A7%84%E8%8C%83%2FWeb%2FWeb%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF%E6%A0%88%E6%95%B4%E7%90%86%2F</url>
    <content type="text"><![CDATA[Web前端技术栈整理[TOC] 前言为什么要搞这么个东西？本质还是为了提高效率。如何提高效率？减少重复劳作就能提高效率。如何减少重复劳作？代码复用就能减少重复劳作。如何复用？分两种情况：1.足够抽象，直接能用；2.复制粘贴少量修改。需要我们平时工作中大量的经验总结和代码整体，最后形成一种快速开发能力，自成一体，最后的结果是得出一套 [快速开发框架] ，这样你就可以在这个开发领域里有口饭吃的同时，还能腾出更多的时间去钻研。 概要如今的Web前端已经不是以前的jQuery时代的前端了。通过Node，前端已经可以成为全栈工程师了，现在在一些公司里，某些特殊业务，比如低频使用、简单业务、试错业务等可以由一个人前端人员去搞定了，既做后台，又做前端，因此对前端人员的运用，已经不能只局限于简单的写界面、对接口了。 现在SPA页面的性能很好，App上的某些特殊功能其实完全可以前端完成，再加上各个平台的小程序，也扩展了前端开发人员的范围。想要在前端这条路上走得公园，就需要积累一些技术沉淀，总体所需要整理的内容较多，分为可见部分的UI和不可见部分的功能整理，还有其他一些有助于提高效率的规约，如：代码风格、命名规范、模板代码、架构模式等。如下图所示： 规范小到命名规范，大到技术栈的规范，这一系列的规范或者说是“癖好”都是减少沟通、降低维护成本的好手段。相关参考如下： WEB前端规范 Web前端开发规范手册 代码风格统一风格的代码也是是为了提高效率和降低维护成本，统一到什么程度最好呢？不看代码作者，你很难区分代码是谁写的。相关参考如下： CodeGuide Vue/React统一使用一套技术栈，选择Vue/React，如果选择了某一套，就意味着要遵循这一套体系的所有技术规范了。 UI组件既然选择的是Vue或者React，那就选择相关大厂的一些UI组件实现。相关参考如下： Element Ant Design 不要求一定要使用它们的组件，只是做参考而已。 总结以上是我个人对于一个1-3年工作经验的程序员的一些要求，相信在通过这些技能养家糊口的同时又不断的吸收内化，最后进化到无招胜有招的境界。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E8%A7%84%E8%8C%83%2FJava%2FJavaWeb%E6%A8%A1%E6%9D%BF%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%2F</url>
    <content type="text"><![CDATA[Java Web开发模板——效率为王前言 没有对错，只有习惯 Java Web 的 MVC 模式开发已经具备一定的模板性，但是由于人与人的习惯问题，对代码的细节会有一定的差异性，为了减少这种差异性，我们规定一套模板出来，同一个小组、部分甚至公司都可以按照这么一套最佳实践出来的模板抄，这样未来其他人员接手时会很容易明白你的套路，找到亲切感以减少不必要的心理负担。 公共规范环境 IDE 统一使用IntelliJ IDEA作为开发IDE，Eclipse 虽然也可以，但是如果要做到统一的话，还是尽量使用更现代化、更先进的 IDE ，IntelliJ IDEA 在 Java 开发体系中已经超过 Eclipse 成为最主流的 IDE 了。同时要对 IDEA 做一些配置：idea安装完成后要做的几件事 。 JDK 统一使用 JDK8+ 以上 JDK 版本，可以使用一些新特性。 构建统一使用 Maven 构建系统，与之对比的是 Gradle 构建，谷歌在 Android 上固定使用 Gradle 作为构建系统，Gradle 也具有更强大更灵活的功能，同时脚本即配置，相较于 Maven 的 XML 文件来说是更简洁清晰的，但是标准有标准的好处，自由也有自由的代价，Gradle 的上手成本远高于 Maven ，如果未来 Gradle 成为 Java 构建的主流，我们再切换也不迟。 Spring Boot + Spring Cloud统一使用 Spring Boot 作为 Java Web 开发的首选。现阶段做 Java Web 开发的，Struct 已经不需要考虑了，Spring MVC 也有 Spring Boot 做为更好的选择，如果有 Spring MVC 的经验的话，上手 Spring Boot 是很简单的事儿。同时 Spring Boot 是作为 Spring Cloud 的基础，所以使用这一套是趋势。 项目初始化要求每一个项目（可执行服务）的结构是模块化的结构，即最外层 Maven 作为项目顶层父 Project 依赖配置都写在该层的 pom.xml 文件中，然后根据 MVC 分三层，每一层都以 Module 形式构建依次向下依赖，同时加一个 Common 公共层 Module 作为最底层依赖。搭建如下图所示： 名称 用途 依赖关系 common 公共层，作为最底层的依赖 依赖父 Project dao 数据持久层 依赖 common service 服务层，即业务逻辑层，调用 依赖 dao api 接口层，处理参数和调用 service 完成业务响应 依赖 service SwaggerSwagger 是项目的默认需求，同时要求 Swagger 能在开发环境中打开，在生产环境是关闭的。 i18n国际化能力也是每一个项目默认需求，Spring Boot 对这一部分有了很好的支持。这个要提前考虑，如果一开始不考虑，项目突然有需要的时候就很麻烦和被动了。 空格和冗余不要随意空行，也不要出现多余的东西。写代码时勤快按 Ctrl+Alt+L 和 Ctrl+Alt+O ，这样会格式化代码同时删除不必要的引用，让代码美观。同时不要随意空格，现在Android Studio是用的谷歌的 Java 模板 Style ，都有相关规定。XML 文件中也是如此，写完代码后勤快格式化，删除多余空行。 命名规范具体参考：https://github.com/leguang/Article/blob/master/阿里巴巴Java开发手册(终极版).pdf 注释 类注释写在文件头注释中，每一个类文件都必须要有文件头注释。如下所示： 类的成员变量如果需要注释，则用单行注释写在末尾，如果较长一行写不下，考虑到美观问题则写在成员变量的上面。对于成员变量的注释尽量不要用多行注释。如下所示： 成员方法尽量写注释，如果实在不需要的，可不写。如下所示： 方法出现的位置和顺序在方法从上至下的调用顺序就决定了方法从上至下书写的位置。如下所示： 包管理MVC中的模板ControllerController 层作为视图或 API 的入口，除了面向接口编程等基本要求外，只做以下三件事： 参数、请求方法等校验； 调用业务层代码； 拼装响应对象； 如下图所示： ServiceService 层业务逻辑层，除了面向接口编程等基本要求外，只做以下三件事： 参数校验； 调用 DAO 层代码，完成业务逻辑处理； 相关处理并返回相关数据； 如下图所示： DAODAO 我们统一使用 MyBatis 套件，因此可以利用 MyBatis 提供的生成器去生成大部分代码，具体的可以利用 generator 这个目录下的工具完成，如下图所示： 其他/建议 规定 XxxUtils 类是指不依赖第三方，只需要 JDK 就能运行的类，也就是说随便复制到哪个 Java 项目都能直接用，改都不用改一下。 规定 XxxHelper 类是依赖的第三方的 Utils 类，只需要添加了依赖就可以直接用。 建议配合 lombok 使用，以减少代码。 建议使用 Optional 和 Stream 等 JDK8+ 中的新特性。 总结之所以定义这样的模板代码，主要是为了规范编码范式，使每个模块都“长得一样”，一套好的模板代码可以让开发者受益，也可以让后来接手的人很快找到套路并理解融入进去。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E8%A7%84%E8%8C%83%2FiOS%2FiOS%E6%8A%80%E6%9C%AF%E6%A0%88%E6%95%B4%E7%90%86%2F</url>
    <content type="text"><![CDATA[iOS技术栈整理[TOC] 前言为什么要搞这么个东西？本质还是为了提高效率。如何提高效率？减少重复劳作就能提高效率。如何减少重复劳作？代码复用就能减少重复劳作。如何复用？分两种情况：1.足够抽象，直接能用；2.复制粘贴少量修改。需要我们平时工作中大量的经验总结和代码整体，最后形成一种快速开发能力，自成一体，最后的结果是得出一套 [快速开发框架] ，这样你就可以在这个开发领域里有口饭吃的同时，还能腾出更多的时间去钻研。 概要总体所需要整理的内容较多，分为可见部分的UI和不可见部分的功能整理，还有其他一些有助于提高效率的规约，如：代码风格、命名规范、模板代码、架构模式等。如下图所示： UI部分作为能iOS开发，其实就是将功能可视化，这就是设计要各种UI组件，如果平时积累的各种优秀的可复用的轮子较多，那在开发过程中就信手拈来了，我个人认为一个功能能不能又快又好的完成，取决于你是否有做过类似的功能，也就是否累积过这些轮子。所以建议平时累积一些成套的UI组件库。推荐以下UI库： 谷歌的材料设计 腾讯QMUI YYKit 非UI部分这部分囊括的东西较多，设计到一个完整的App所需要的各种能力，比如网络、缓存处理、工具类、数据库操作、图片加载、二维码处理等等，这里也需要自己平时点滴累积，这对一个依托于某一平台吃饭的程序员来说是必不可少的。这里推荐一些好的轮子： Github iOS 主题 架构模式iOS开发其实和其他平台的开发都差不多，默认都是MVC模式，架构模式本质上没有好坏，只有熟不熟和合不合适。选择一种架构模式，比如MVVM、MVP，然后通过多方参考+总结的形式整理出一套适合自己的架构方式，并且明确各层职责和代码实现，最后为后面讲的模板代码做准备。在这里推荐MVVM模式，以下推荐一些MVVM的快速开发框架： MVVMFramework，这其中还有很多有益的文章，可以参考一下。 组件化把一个个控件或者独立的功能抽取出来，形成一个能独立被依赖使用的组件，这一部分的累积需要较长时间，但是辛苦是值得的，当然如果有第三方可用的便更好，但不是所有的第三方组件都是恰和你意。 模块化把项目中的功能独立成一个模块，可用单独运行调试，在打包时合并。这部分也是有利于复用的，在企业里，业务不可能是一沉不变，有的甚至是不断尝试中前行，也就是不断试错，这个时候某一个无法抽取成一个通用组件的那部分代码就可以做成一个模块，引用到其他项目中，或者新业务中。 规范没有规矩就不成方圆，强有力的规范为代码质量和开发效率保驾护航。对于我们软件开发而言能遇到的规范无非代码风格，命名规范等。 代码风格代码风格的统一有助于编码和模板代码的定制，也有助于自己和他人后期的维护，这个是苹果官方的IDE有现成的格式化工具，采用默认的即可。这里推荐一篇文章可以看一下：关于iOS代码风格管理的两三事。 命名风格这部分苹果官方有规定，严格按照官方的规定即可：Coding Guidelines。 模板代码模块代码是为了提高效率，当然还有就是统一风格和降低维护成本，统一到什么程度最好呢？不看代码作者，你很难区分代码是谁写的，详情见 Android模板代码规范。 总结以上是我个人对于一个1-3年工作经验的程序员的一些要求，相信在通过这些技能养家糊口的同时又不断的吸收内化，最后进化到无招胜有招的境界。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E8%A7%84%E8%8C%83%2FAndroid%2FAndroid%E6%A8%A1%E6%9D%BF%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%2F</url>
    <content type="text"><![CDATA[Android代码模板——效率为王前言 没有对错，只有习惯 Android 开发本身是遵循 MVC 模式模式的，已经具备一定的模板性，但是由于人与人的习惯问题，对代码的细节会有一定的差异性，为了减少这种差异性，我们规定一套模板出来，同一个小组、部分甚至公司都可以按照这么一套最佳实践出来的模板抄，这样未来其他人员接手时会很容易明白你的套路，找到亲切感以减少不必要的心理负担。同时，我们在写某一个模块的功能的时候，都会或多或少地利用到之前写的代码，这里我说的“利用”而非“复用”，即复制粘贴。而简单粗暴的复制粘贴，却又想改动最小，出错最小，那么如何做到这一点呢？那就得要求之前的代码都模板代码，比如之前的Toolbar控件变量都叫toolbar，之前的RecyclerView控件变量都叫recyclerView，之前的方法都叫initData();，这样一来复制粘贴过来你基本不用改动什么。接下来们就以提现记录这么一个简单的MVP模式来发的功能为例，完整的约定一下MVP各层的模板代码。 公共要求0. 空格和冗余不要随意空行，也不要出现多余的东西。写代码时勤快按 Ctrl+Alt+L 和 Ctrl+Alt+O ，这样会格式化代码同时删除不必要的引用，让代码美观。同时不要随意空格，现在Android Studio是用的谷歌的 Java 模板 Style ，都有相关规定。XML文件中也是如此，写完代码后勤快格式化，删除多余空行。 1. 相关命名规范具体参考：http://doc.un75.com:5934/开发规范/Android开发规范.html 2. 文件头注释每一个文件都必须要有文件头注释，如下所示：12345678/** * @author: leguang * @e-mail: langmanleguang@qq.com * @version: v0.0.0 * @blog: https://github.com/leguang * @time: 2018/6/14 9:36 * @description: */ 3. 路由配置文件如果有 @Route 注解，那其值应该 /{module}/{class name} ，例如：1@Route(path = &quot;/mine/WithdrawRecordsFragment&quot;) 考虑到常量重复引用会出错，我们抽取到 RouterHelper 中，实际引用如下所示：1@Route(path = RouterHelper.WithdrawRecordsFragment) 4. 日志标签每一个类都要求有log tag，且写在第一行，Android Studio活动模板是logt就会出现log tag快速编辑。如下所示：1public static final String TAG=WithdrawRecordsFragment.class.getSimpleName(); 5. 注释 类注释写在文件头注释中。如下所示： 类的成员变量如果需要注释，则用单行注释写在末尾，如果较长一行写不下，考虑到美观问题则写在成员变量的上面。对于成员变量的注释尽量不要用多行注释。如下所示： 成员方法尽量写注释，如果实在不需要的，可不写。如下所示： 6. 方法出现的位置和顺序在方法从上至下的调用顺序就决定了方法从上至下书写的位置。如下所示： MVP中的模板MVP中的ViewActivity我们的页面是多Activity+多Fragment的结构，基本都是用Fragment来承载View这一层，对于Activity只起一个承载Fragment和一些公共代码作用。如下所示： 基本无其他代码，只有多个Fragment都用到的公共方法才写在Activity中，View层内容都集中在Fragment中。 Fragment除了上述公共要求外，创建Fragment使用了一个静态方法，如下所示： 如果需要传参则统一使用Bundle作为唯一参数，具体参数都丢进Bundle里，这样我们在复制粘贴的时候就不需要管参数类型问题了，统一都只有一种类型。如下所示： 有参数就要获取，而获取参数统一在onCreate方法里获取，如下所示： 统一使用模板代码，安全高效，同时注意获取的key是统一的一个，除非有两个，则再自行定义。 接下来是Fragment中的两个标准回调，也可以看成是View的入口，所有的代码都从这里开始，如下所示： 接下来就是定义的这些方法的具体实现。其中需要强调的是变量的命名，尽量都取一样的名字，如果该类中只有一个 RecyclerView 则命名为 recyclerView 即可，如果有多有 RecyclerView 则命名为 rvXXX ，这样一来复制到其他地方使用的时候基本不用改写什么，由于都是模板方法，就不一一列出了。对于配合RecyclerView使用的Adapter，如果代码不多就不需要独立出一个类来，只需要使用匿名内部类的形式即可，如下所示： 对于刷新和加载更多，建议也独立出一个方法来，因为有的时候会接收到别的广播后，需要刷新界面等。如下所示： 对于异常的处理，由于我们把非200和其他的异常都统一回调到View的 error(BaseResponse response) 方法中，因此需要根据 BaseResponse 中的错误码做不同的处理，当然也可以定义其他专属回调方法供P层调用。如下所示： MVP中的Presenter首先对类的命名统一命名为：XXXPresenter，一些基本的初始模板代码如下所示： 由于Presenter只是起一个调度作用，且数据都是封装在Modle层中，并且以 RxJava 中的Observable类型返回，因此Presenter拿到的都是Observable，所以做如下规定： 所有的数据是在异步线程中获取和处理，只有在回调到View层之前那一刻才切换回主线程，因此 1.observeOn(AndroidSchedulers.mainThread()) 固定写在Presenter中。 在 subscribe 时，我们在Presenter的父类中定义了好几种可使用的内嵌类（就是大家常说的非静态内部类）形式：BaseObserver 、BaseConsumer 、DefaultObserver 、 DefaultConsumer 等，这些都是根据 是否调用View的start方法（是否需要 loading 弹框） 是都将非200的错误码归类到View的error方法中（是否需要将非200错误传递到View层） 其他特殊类型需求的。比如 StringObserver 等 等来划分和实现的，因此可以实际需求来使用，比如在列表页面，由于顶部有下拉刷新动画，因此就不需要 loading 弹框，就可以不使用 BaseObserver ，而只需要 BaseConsumer ，同时自己调用 this::error 。 如果 subscribe 是使用的Consumer，那必须要添加到 mRxManager 中，Observer 则不需要，如下所示： 为避免内存泄露，Context 对象尽量不要传递到 Presenter 层，在 Presenter 中如果要使用 Context 尽量使用 BaseApp 中定义的静态全局变量 mContext ，如果万一真要传递过来，则考虑只在函数作用域内。 MVP中的Model分包Model层是数据相关层，对于不同类型的模型分类放置在不同的包下，模型统一放在entity包下，entity包下又分bean和db，bean统一为网络映射文件，db统一为数据库ORM映射文件。 对于 Model 层，相当于数据 Repository ，网络获取、数据库、缓存等数据来源都写在这一层，并且最好封装成 RxJava 的 Observable 形式返回给 Presenter 层调用，同时记得放到异步线程中，如下所示： MVP中的Contract我们的MVP三角色之间的依赖全是依赖的接口，因此会有很多接口类，为防止类爆炸，我们用一个接口类包含其他小的接口类，所以使用 Contract 这个概念来承载，将三层需要用到接口都定义来 Contract 接口类中，并作出如下规定： 所有接口定义时，参数统一传 Params 对象，将参数定义并装载在 Params 类中，这一样做的目的也是方便复制粘贴时改动最少，同时也方便统一管理，因为一个项目中能使用到的不同名称的参数了不起也就几十个，其实大多数只是类型不同而已，而接口中定义的参数对应的 key 是 Retrofit 定义接口时就已经写好的，所以三层之间只是传递一个不通类型的值而已。对于 post 请求传递 json 对象时，也只需要传递 Params 对象过去，同时由于我们已经设置了空值过滤，Params 里的字段都是用的包装类型，因此你没设置值的参数是不会传递到后台的。 相应到 View 的接口中的参数，尽量是 BaseResponse 类型的，因为你不知道 View 需要用到哪些东西，同时也方便复制粘贴改动量小。 如下所示： 包按模块以MVP各层分包，其中如果有Activity的话，则放模块根包里。如下所示： 总结之所以定义这样的模板代码，主要是为了规范编码范式，使每个模块都“长得一样”，一套好的模板代码可以让开发者受益，也可以让后来接手的人很快找到套路并理解融入进去。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%AC%E5%85%B1%E9%83%A8%E5%88%86%2F%E9%87%8D%E6%95%B4%E8%AE%A1%E5%88%92%2F%E9%87%8D%E6%95%B4%E8%AE%A1%E5%88%92%2F</url>
    <content type="text"><![CDATA[重整计划本次重整计划预计持续两周，一周半用于实施，半周用于验收，主要用于各项收尾工作+总结+整理出有益文档。此次修整是为了后面更好的开发，希望大家态度端正，不希望大家把时间浪费在重复的体力劳作上。 后台 支付后台、支付节点 部分接口重构 配合服务器精简工作 禅道上的Bug 各项收尾工作 大数据端 爬虫部分的优化 丰富内容 抽取出合理组件、整合有益框架、资源 禅道上的Bug 配合服务器精简工作 各项收尾工作 Web端后台中的用户系统、优化，比如上传图片、指定部分用户手机登录 优化上传tag过程。考虑到上传tag的图标过于麻烦的问题，希望能在上传tag时直接上传图片（后台转存至OSS并得到url）替代当前填写url的形式。这部分需要后台接口配合，可寻求配合。 为了安全，需要后台账号体系。 考虑到当前对于文章的内容还无法修改编辑，研究后台编辑item的content的可行性，看可否通过一个富文本编辑器的形式展现、修改文章详情内容。 禅道上的Bug 各项收尾工作 UI端 UI设计的部分切图补上 部分不合理图片替换 整体设计提出建设性意见 各项收尾工作 移动端 移动端的支付对接、支付后台、支付节点 部分项目重构+Bug+注释+文档+公共组件的抽取+模块合理的独立出来 禅道上的Bug 对接重构+新增的接口 各项收尾工作 Android: Android端的钱包重构 编译时长优化 iOS: iOS端多加一个闪屏的功能 模块合理安排 尝试更优秀的代码架构模式 优化之前不优雅的实现 进化录我们是一家科技公司，相信大家都希望运用自己的技术做出有益、有意、有趣的事物。大家可以畅想一下我们公司的进化录应该是什么样的，公司的发展进化录、产品进化录、镰刀进化录、摩尔钱包进化录、摩尔链进化录等。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%AC%E5%85%B1%E9%83%A8%E5%88%86%2F%E8%BF%9B%E5%8C%96%E5%BD%95%2F%E6%91%A9%E5%B0%94%E8%BF%9B%E5%8C%96%E5%BD%95%2F</url>
    <content type="text"><![CDATA[摩尔进化录​ ——自我进化，自我提升 Author：李勇 E-mail：666233@qq.com Time：2018.12.21 前言 以下内容均只基于未来3-5年的技术考量撰写 在畅想中规划，在规划中潜行，本着一个伟大的理想，希望通过不断提升团队能力实现「摩尔一百，别墅靠海」，所以做出一些畅想和规划。技术是日新月异的，我们不盲目追求新技术，不制造标准，只要跟随主流，优质地完成业务即可。技术只是利刃，不一定要打造出屠龙刀，因为并不一定有龙可屠。 摩尔技能摩尔作为一个公链，也作为区块链行业的一个解决方案，同时也承载着赋能开发者的能力，因此希望我们公司能提供一些基础技能： 应用层 作为一个平台，提供平台； 提供类似微信、微博和QQ那样的授权体系； 支付能力； 提现能力； 应用于各种场景的、高效的、安全易用的SDK或者Api； 完整的文档体系； 相应的管理应用，包括Web、Android或者iOS； 孵化第三方生态应用的能力； 对于去中心化和中心化有一个合理的、深刻的理解，并有相关解决方案； 运营、开发、运维多方结合的自动化能力； 对应用、业务和整个行业的监控能力； 自我进化能力（需要管理配合）； 未完待续…… 公链层 具备编程能力的智能合约； 代币发行能力； 健全的客户端； 配合应用层完成各种应用场景的SDK或者Api； 未完待续…… 技术部分公司当前的技术部门按职能分类如下图所示： 其中应用层部分人数占了大头，同时也是管理的大头，现阶段各个技术栈都没有一套系统的、自上而下的核心技术和常用“轮子”。我根据自己畅想摩尔的未来和与之匹配的相关技术需求，以及需要完成的任务来描摹摩尔的进化。 后端 Java后端是业务的核心，决定业务的有无，目前面临的问题是没有一套高可用架构和基础功能，致使重复开发问题严重，同时重复开发带来的另一部分问题是代码不易维护，临时业务促成临时解决方案。这都不是标准的开发方式，开发者心理负担也沉重，非可持续性发展状态。鉴于此，需有相关技术支撑，建议整体采用微服务形式搭建，所有功能或者服务独立运行，以Spring Cloud作为微服务技术实现，采用Spring Boot替换掉之前的SSM那一套，同时按功能分层整理出公共服务和非公共服务，按业务架构整理出不同的子系统，这样就具备了基础功能与基础业务能力，在开发中省去很多重复的开发，也为开发者省去心里负担。现总结的基础功能或子系统如下： 用户系统用户系统作为我们应用层的核心资产，也是运营的核心，同时我设想的用户系统是类似QQ那样，提供体系强大连接能力，为我们作为一个平台赋能，用户系统应当具备如下功能： 注册 重要指数：★★★★★不局限于某一种注册形式，应当包括邮箱、手机号码、用户名（实际上邮箱/手机号码也是特殊的用户名）等形式，同时兼顾国内国际的用户注册。 登录 重要指数：★★★★★提供邮箱、手机号、用户名登录，同时提供第三方登录形式，类似微信登录，支付宝登录，QQ登录等，如下图所示： 用户管理 重要指数：★★★★★包括用户的基础信息搜集、设备管理、用户信息的修改、封禁等，这些功能也可以通过安全的Api在相应的后台管理系统中进行操作等。 积分系统该系统配合平时的业务进行，由于积分与业务关系紧密，之前想做成统一于用户系统的想法不合理，应该做出一个模板来供平时有此种业务的时候参考。 支付系统考虑到区块链的一些去中心化特性，无法在某些特定业务施展，需要在应用层提供一套中心化的服务配合，这就需要一个中心化的支付系统，这部分我们已经开发完成，而且做得很好，相关SDK也开发完毕，但是还有数据安全部分未完善。 App支付从App原生调用摩尔钱包支付，这部分功能已经完成。 H5支付从浏览器调用摩尔钱包支付，这部分功能已经完成。 摩尔钱包内支付这部分功能暂无应用场景，因此未设计开发。 商户提现这部分暂时只有商户提现到自己的指定地址，然后我们人工审核，人工打款。 开放平台这部分包括注册商户、注册应用、提现、查询文档，交易记录等，由于人员问题，尚未设计开发。 打币系统对于提现功能这样的业务，我们暂时还未开放这种能力，但是不论是我们自己还是第三方开发者都有需求，这个已经在对接支付系统的时候，有不少开发者提出来了。这部分还需要继续研发。 数据安全我们公司所有数据都是单纯的放到云服务器上的数据库里，并没有做相关备份和容灾措施，对于中心化的程序，一旦发生数据丢失是很危险的，这部分也一直因为没有运维而停滞。 测试环境所有业务都应该有相应的测试环境匹配，开发、测试、运营都应该是先从测试环境开始，最后验收无误才切换到正式环境的。 强大的后台管理系统对于以上业务，不论是公共服务还是业务服务都应该有相应的管理后台进行管理，这样就不需要开发人员参与，只要管理得当，权限控制合理，运营人员直接就可以完成处理。 大数据我司大数据这块只局限在爬虫抓取，有业务需求，就抓取相关业务数据，还未深度挖掘和培养。其实可以自我进化，做出很多有意思的工具，发挥浇水语言的威力。我能想到的有以下几点： 规范相关规范的整理，包括编码、命名等规范。 自动化监控行业动向「镰刀」的口号，抄币就是抄信息，不仅是抄币，我们做出决策也是需要信息支撑的，我记得以前有位网友是做股票交易的，专门找我咨询爬虫技术，然后他通过爬虫抓取指定信息和百度的相关搜索结果，为自己的操作提供有力支撑。其实我们也可以通过爬虫来监控整个行业的动向，比如监控 BTC、ETH 大额地址变化，比如跟踪大V等，让前端配合，以可视化的方式展示出来，也可以是发布到微信和镰刀里。 量化交易这部分是欧阳和时空研究兴趣正浓。 iOSiOS现在面临的问题是没有一套完整的规范，这部分已经通过文档整理出来了，接下来就是敦促实施了。为什么要搞这么个东西？本质还是为了提高效率。如何提高效率？减少重复劳作就能提高效率。如何减少重复劳作？代码复用就能减少重复劳作。如何复用？分两种情况：1.足够抽象，直接能用；2.复制粘贴少量修改。需要我们平时工作中大量的经验总结和代码整体，最后形成一种快速开发能力，自成一体，最后的结果是得出一套 [快速开发框架] ，这样你就可以在这个开发领域里有口饭吃的同时，还能腾出更多的时间去钻研。总体所需要整理的内容较多，分为可见部分的UI和不可见部分的功能整理，还有其他一些有助于提高效率的规约，如：代码风格、命名规范、模板代码、架构模式等。如下图所示： UI部分作为能iOS开发，其实就是将功能可视化，这就是设计要各种UI组件，如果平时积累的各种优秀的可复用的轮子较多，那在开发过程中就信手拈来了，我个人认为一个功能能不能又快又好的完成，取决于你是否有做过类似的功能，也就是否累积过这些轮子。所以建议平时累积一些成套的UI组件库。推荐以下UI库： 谷歌的材料设计 腾讯QMUI YYKit 非UI部分这部分囊括的东西较多，设计到一个完整的App所需要的各种能力，比如网络、缓存处理、工具类、数据库操作、图片加载、二维码处理等等，这里也需要自己平时点滴累积，这对一个依托于某一平台吃饭的程序员来说是必不可少的。这里推荐一些好的轮子： Github iOS 主题 架构模式iOS开发其实和其他平台的开发都差不多，默认都是MVC模式，架构模式本质上没有好坏，只有熟不熟和合不合适。选择一种架构模式，比如MVVM、MVP，然后通过多方参考+总结的形式整理出一套适合自己的架构方式，并且明确各层职责和代码实现，最后为后面讲的模板代码做准备。在这里推荐MVVM模式，以下推荐一些MVVM的快速开发框架： MVVMFramework，这其中还有很多有益的文章，可以参考一下。 组件化把一个个控件或者独立的功能抽取出来，形成一个能独立被依赖使用的组件，这一部分的累积需要较长时间，但是辛苦是值得的，当然如果有第三方可用的便更好，但不是所有的第三方组件都是恰和你意。 模块化把项目中的功能独立成一个模块，可用单独运行调试，在打包时合并。这部分也是有利于复用的，在企业里，业务不可能是一沉不变，有的甚至是不断尝试中前行，也就是不断试错，这个时候某一个无法抽取成一个通用组件的那部分代码就可以做成一个模块，引用到其他项目中，或者新业务中。 规范没有规矩就不成方圆，强有力的规范为代码质量和开发效率保驾护航。对于我们软件开发而言能遇到的规范无非代码风格，命名规范等。 代码风格代码风格的统一有助于编码和模板代码的定制，也有助于自己和他人后期的维护，这个是苹果官方的IDE有现成的格式化工具，采用默认的即可。这里推荐一篇文章可以看一下：关于iOS代码风格管理的两三事。 命名风格这部分苹果官方有规定，严格按照官方的规定即可：Coding Guidelines。 模板代码模块代码是为了提高效率，当然还有就是统一风格和降低维护成本，统一到什么程度最好呢？不看代码作者，你很难区分代码是谁写的，详情见 Android模板代码规范。 总结以上是我个人对于一个1-3年工作经验的程序员的一些要求，相信在通过这些技能养家糊口的同时又不断的吸收内化，最后进化到无招胜有招的境界。 AndroidAndroid端由于年初考虑到这些问题，已经提前累积，逐步解决大半，现在只有一小部分问题： 某些接口设计没顾忌到路由机制； 无法自动集成、打包、发布等自动化操作； 需引入热更新机制； 考虑未来新的开发平台 Web前端如今的Web前端已经不是以前的jQuery时代的前端了。通过Node，前端已经可以成为全栈工程师了，现在在一些公司里，某些特殊业务，比如低频使用、简单业务、试错业务等可以由一个人前端人员去搞定了，既做后台，又做前端，因此对前端人员的运用，已经不能只局限于简单的写界面、对接口了。 现在SPA页面的性能很好，App上的某些特殊功能其实完全可以前端完成，再加上各个平台的小程序，也扩展了前端开发人员的范围。这部分由于人员到岗问题，一直没有技术沉淀，现在想通过强制一些规范的形式，来解决一部分问题。 规范小到命名规范，大到技术栈的规范，这一系列的规范或者说是“癖好”都是减少沟通、降低维护成本的好手段。 WEB前端规范 Web前端开发规范手册 代码风格 CodeGuide Vue/React统一使用一套技术栈，选择Vue/React，如果选择了某一套，就意味着要遵循这一套体系的所有技术规范了。 UI组件既然选择的是Vue或者React，那就选择相关大厂的一些UI组件实现： Element Ant Design 不要求一定要使用它们的组件，只是做参考而已。 Web版钱包未来考虑会加入代币发行等功能，而Angular这一套在中国不是十分流行，实在维护不了，大不了抽出核心JS代码用Vue或者React实现一套。 各类后台管理系统这部分工作是一直想做却没有完成的，目前只有镰刀的后台稍微完整一些，但是编辑能力仍然有限。还需完成以下几种管理后台和功能： 镰刀后台管理系统 现在镰刀后台管理系统中的添加新币种（添加tag），过程及其复杂，运营人员不是技术人员，他根本就不知道如何完成某些步骤。 摩尔钱包管理后台 这部分是对摩尔钱包的管理，包括用户黑白名单、审核、奖励打款、日常运营等 用户系统 这部分是结合具体业务应用来使用的，可以不用专门的管理后台，但是要出现在其他具体业务中的管理后天里。 开放平台 这部分是对摩尔开放平台的管理，其中有开发者入驻、App申请、SDK文档、订单记录、交易记录、提现、相关信息管理等。 各类运营小工具这部分是应对运营人员的一些日常功能的，这部分可以嵌入到具体的业务后台管理系统中，不必独立出来。 公众号排版工具 之前我们公司公众号排版是人工手动排版，样式单一且排版麻烦，希望培训运营人员使用Markdown来写文章，类似我现在写的摩尔进化录一样，最后生成html，然后使用该工具生成一定样式的html后发布到微信公众号编辑器里。 周报生成工具 类似公信宝的周报，是一张模板图片，我觉得这种就很好，直接一张图片发到微博、公众号等，如下图所示： 未完待续…… UI为了使UI设计师配合开发者提高效率，希望有点工作需要去做。 视觉设计规范对于UI这块，希望我们的UI设计师能给出一套属于我们公司的视觉设计规范，如下图所示： 为什么要搞这个呢？其实还是提高效率，因为你不管哪一个应用（不论Web还是App），都会有一个基色和辅色，然后就是文字颜色、背景色等，总结出来就是一些黑白灰的过度，这部分不管在哪个应用中都会有，且出于同一个设计师之手，也基本都是一致的。根据以往的经验，我一般都是将提现在应用搭建的时候，定义好这些颜色的引用，在使用时，基本不用思考太多，直接使用即可，这样就大大的提升了开发效率，开发者也有迹可循，同时设计人员在设计其他项目时，也都是照搬即可。 配合运营的模板由于运营是一个活跃度较高的岗位，需要根据行情、节假日等相关因素提供不同的图、文、音视频等多媒体素材，我们不需要想大公司那样尽善尽美，只需要有一些百搭的背景图，然后前端人员就可以利用这背景图，按照设计的效果出一套工具，运营人员就能根据这套工具生成应对绝大多数场景的运营图片来。 运维我们暂时还没有运维人员，不过暂时也不需要，可以内部消化掉的岗位就尽量节省一下开支，但是需要提高运维的能力和效率，体现在开发--&gt;测试--&gt;部署--&gt;上线--&gt;运营监控这一整套流程的把控上，希望有相应的工具完成这些任务，现在流行的DevOps就是来完成这一套流程的，我们也可以探索一下。 运营运营的任务其实具有很强的规律性，有规律的事都可以通过程序自动化，或者半自动化。关键是需要有相关工具，我们得提供工具。同时希望运营具有培养生态的和适当的引导社区的能力。比如李永飞那个网页游戏，由于域名被微信封禁，导致用户找不到入口，其实这种直接发链接到微信里是非常错误的，他们没有经验，我们应该指导一下，正确的做法应该是发图片，图片里有一个不会被查封的链接二维码，该链接通过302返回相应的正确的游戏入口地址，同时检测到是微信打开的时候，用蒙版提示引导到浏览器里打开，这样就一切问题都解决了。再比如我们平时的产品做出来后，可以制作成相关多媒体（图片、音视频等）进行传播。同时还有相关的日常运营、节日运营、活动运营这部分前面已经提到过了，不再赘述。 自我检讨人的行为有思想来指导，对于一个陌生的领域，我们只能根据以往的经验和已有的标准摸索，难免会有谬误，例如接口设计不合理，如initialize接口，比如item的多媒体接口，希望后期找时间修改一下。 总结会利用工具，是人与动物的不同，会创造工具则是优秀与普通差别，工欲善其事必先利其器，能自动化的，决不半自动化，能半自动化的，决不人工手动、机械式的重复体力劳作，这才是效率之道。以上只是我抛砖引玉，更丰富的内容还是要靠大家来添砖加瓦。路漫漫其修远兮，吾将上下而求索，我很希望看到摩尔壮大的一天，虽然路还很长，但是只要肯坚持，终将到达终点。 建议以上这些不可能在短时间内完成，只是总结出来，希望大家明白我们还有很多不足，大家一起商讨如何解决。如果大家认同我的观点，建议大家每周抽半天时间，坐在一起讨论完成以上任务，或跟进进展。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%AC%E5%85%B1%E9%83%A8%E5%88%86%2F%E8%BF%9B%E5%8C%96%E5%BD%95%2Fmol-evolution%2F</url>
    <content type="text"><![CDATA[摩尔进化录html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; } html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; } body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; } iframe { margin: auto; } a.url { word-break: break-all; } a:active, a:hover { outline: 0px; } .in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); } #write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; } #write.first-line-indent p { text-indent: 2em; } #write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; } #write.first-line-indent li { margin-left: 2em; } .for-image #write { padding-left: 8px; padding-right: 8px; } body.typora-export { padding-left: 30px; padding-right: 30px; } .typora-export .footnote-line, .typora-export p { white-space: pre-wrap; } @media screen and (max-width: 500px) { body.typora-export { padding-left: 0px; padding-right: 0px; } .CodeMirror-sizer { margin-left: 0px !important; } .CodeMirror-gutters { display: none !important; } } #write li > figure:first-child { margin-top: -20px; } #write ol, #write ul { position: relative; } img { max-width: 100%; vertical-align: middle; } button, input, select, textarea { color: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; } input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; } *, ::after, ::before { box-sizing: border-box; } #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; } #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; } h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; } p { orphans: 4; } h1 { font-size: 2rem; } h2 { font-size: 1.8rem; } h3 { font-size: 1.6rem; } h4 { font-size: 1.4rem; } h5 { font-size: 1.2rem; } h6 { font-size: 1rem; } .md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; } .hidden { display: none; } .md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; } a { cursor: pointer; } sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; } sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; } #write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; } figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; } figure > table { margin: 0px !important; } tr { break-inside: avoid; break-after: auto; } thead { display: table-header-group; } table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; } table.md-table td { min-width: 80px; } .CodeMirror-gutters { border-right: 0px; background-color: inherit; } .CodeMirror { text-align: left; } .CodeMirror-placeholder { opacity: 0.3; } .CodeMirror pre { padding: 0px 4px; } .CodeMirror-lines { padding: 0px; } div.hr:focus { cursor: none; } #write pre { white-space: pre-wrap; } #write.fences-no-line-wrapping pre { white-space: pre; } #write pre.ty-contain-cm { white-space: normal; } .CodeMirror-gutters { margin-right: 4px; } .md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; } .md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; } #write .md-fences.mock-cm { white-space: pre-wrap; } .md-fences.md-fences-with-lineno { padding-left: 0px; } #write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; } .md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; } .CodeMirror-line, twitterwidget { break-inside: avoid; } .footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; } .footnotes + .footnotes { margin-top: 0px; } .md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; } li div { padding-top: 0px; } blockquote { margin: 1rem 0px; } li .mathjax-block, li p { margin: 0.5rem 0px; } li { margin: 0px; position: relative; } blockquote > :last-child { margin-bottom: 0px; } blockquote > :first-child, li > :first-child { margin-top: 0px; } .footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; } #write .footnote-line { white-space: pre-wrap; } @media print { body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; } #write { margin-top: 0px; border-color: transparent !important; } .typora-export * { -webkit-print-color-adjust: exact; } html.blink-to-pdf { font-size: 13px; } .typora-export #write { padding-left: 1cm; padding-right: 1cm; padding-bottom: 0px; break-after: avoid; } .typora-export #write::after { height: 0px; } @page { margin: 20mm 0px; } } .footnote-line { margin-top: 0.714em; font-size: 0.7em; } a img, img a { cursor: pointer; } pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; } p > img:only-child { display: block; margin: auto; } p > .md-image:only-child { display: inline-block; width: 100%; text-align: center; } #write .MathJax_Display { margin: 0.8em 0px 0px; } .md-math-block { width: 100%; } .md-math-block:not(:empty)::after { display: none; } [contenteditable="true"]:active, [contenteditable="true"]:focus { outline: 0px; box-shadow: none; } .md-task-list-item { position: relative; list-style-type: none; } .task-list-item.md-task-list-item { padding-left: 0px; } .md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); } .math { font-size: 1rem; } .md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; } .md-toc-content { position: relative; margin-left: 0px; } .md-toc-content::after, .md-toc::after { display: none; } .md-toc-item { display: block; color: rgb(65, 131, 196); } .md-toc-item a { text-decoration: none; } .md-toc-inner:hover { text-decoration: underline; } .md-toc-inner { display: inline-block; cursor: pointer; } .md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; } .md-toc-h2 .md-toc-inner { margin-left: 2em; } .md-toc-h3 .md-toc-inner { margin-left: 4em; } .md-toc-h4 .md-toc-inner { margin-left: 6em; } .md-toc-h5 .md-toc-inner { margin-left: 8em; } .md-toc-h6 .md-toc-inner { margin-left: 10em; } @media screen and (max-width: 48em) { .md-toc-h3 .md-toc-inner { margin-left: 3.5em; } .md-toc-h4 .md-toc-inner { margin-left: 5em; } .md-toc-h5 .md-toc-inner { margin-left: 6.5em; } .md-toc-h6 .md-toc-inner { margin-left: 8em; } } a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; } .footnote-line a:not(.reversefootnote) { color: inherit; } .md-attr { display: none; } .md-fn-count::after { content: "."; } code, pre, samp, tt { font-family: var(--monospace); } kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; } .md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); } code { text-align: left; vertical-align: initial; } a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; } .md-inline-math .MathJax_SVG .noError { display: none !important; } .md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; } .MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; } .MathJax_SVG .MJX-monospace { font-family: var(--monospace); } .MathJax_SVG .MJX-sans-serif { font-family: sans-serif; } .MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; } .MathJax_SVG * { transition: none; } .MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; } .os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; } .md-diagram-panel > svg { max-width: 100%; } [lang="mermaid"] svg, [lang="flow"] svg { max-width: 100%; } [lang="mermaid"] .node text { font-size: 1rem; } table tr th { border-bottom: 0px; } video { max-width: 100%; display: block; margin: 0px auto; } iframe { max-width: 100%; width: 100%; border: none; } .highlight td, .highlight tr { border: 0px; } :root { --side-bar-bg-color: #fafafa; --control-text-color: #777; } @font-face { font-family: "Open Sans"; font-style: normal; font-weight: normal; src: local("Open Sans Regular"), url("./github/400.woff") format("woff"); } @font-face { font-family: "Open Sans"; font-style: italic; font-weight: normal; src: local("Open Sans Italic"), url("./github/400i.woff") format("woff"); } @font-face { font-family: "Open Sans"; font-style: normal; font-weight: bold; src: local("Open Sans Bold"), url("./github/700.woff") format("woff"); } @font-face { font-family: "Open Sans"; font-style: italic; font-weight: bold; src: local("Open Sans Bold Italic"), url("./github/700i.woff") format("woff"); } html { font-size: 16px; } body { font-family: "Open Sans", "Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif; color: rgb(51, 51, 51); line-height: 1.6; } #write { max-width: 860px; margin: 0px auto; padding: 30px 30px 100px; } #write > ul:first-child, #write > ol:first-child { margin-top: 30px; } a { color: rgb(65, 131, 196); } h1, h2, h3, h4, h5, h6 { position: relative; margin-top: 1rem; margin-bottom: 1rem; font-weight: bold; line-height: 1.4; cursor: text; } h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor { text-decoration: none; } h1 tt, h1 code { font-size: inherit; } h2 tt, h2 code { font-size: inherit; } h3 tt, h3 code { font-size: inherit; } h4 tt, h4 code { font-size: inherit; } h5 tt, h5 code { font-size: inherit; } h6 tt, h6 code { font-size: inherit; } h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); } h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); } h3 { font-size: 1.5em; line-height: 1.43; } h4 { font-size: 1.25em; } h5 { font-size: 1em; } h6 { font-size: 1em; color: rgb(119, 119, 119); } p, blockquote, ul, ol, dl, table { margin: 0.8em 0px; } li > ol, li > ul { margin: 0px; } hr { height: 2px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border: 0px none; overflow: hidden; box-sizing: content-box; } li p.first { display: inline-block; } ul, ol { padding-left: 30px; } ul:first-child, ol:first-child { margin-top: 0px; } ul:last-child, ol:last-child { margin-bottom: 0px; } blockquote { border-left: 4px solid rgb(223, 226, 229); padding: 0px 15px; color: rgb(119, 119, 119); } blockquote blockquote { padding-right: 0px; } table { padding: 0px; word-break: initial; } table tr { border-top: 1px solid rgb(223, 226, 229); margin: 0px; padding: 0px; } table tr:nth-child(2n), thead { background-color: rgb(248, 248, 248); } table tr th { font-weight: bold; border-width: 1px 1px 0px; border-top-style: solid; border-right-style: solid; border-left-style: solid; border-top-color: rgb(223, 226, 229); border-right-color: rgb(223, 226, 229); border-left-color: rgb(223, 226, 229); border-image: initial; border-bottom-style: initial; border-bottom-color: initial; text-align: left; margin: 0px; padding: 6px 13px; } table tr td { border: 1px solid rgb(223, 226, 229); text-align: left; margin: 0px; padding: 6px 13px; } table tr th:first-child, table tr td:first-child { margin-top: 0px; } table tr th:last-child, table tr td:last-child { margin-bottom: 0px; } .CodeMirror-lines { padding-left: 4px; } .code-tooltip { box-shadow: rgba(0, 28, 36, 0.3) 0px 1px 1px 0px; border-top: 1px solid rgb(238, 242, 242); } .md-fences, code, tt { border: 1px solid rgb(231, 234, 237); background-color: rgb(248, 248, 248); border-radius: 3px; padding: 2px 4px 0px; font-size: 0.9em; } code { background-color: rgb(243, 244, 244); padding: 0px 4px 2px; } .md-fences { margin-bottom: 15px; margin-top: 15px; padding: 8px 1em 6px; } .md-task-list-item > input { margin-left: -1.3em; } @media print { html { font-size: 13px; } table, pre { break-inside: avoid; } pre { word-wrap: break-word; } } .md-fences { background-color: rgb(248, 248, 248); } #write pre.md-meta-block { padding: 1rem; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border: 0px; border-radius: 3px; color: rgb(119, 119, 119); margin-top: 0px !important; } .mathjax-block > .code-tooltip { bottom: 0.375rem; } .md-mathjax-midline { background: rgb(250, 250, 250); } #write > h3.md-focus::before { left: -1.5625rem; top: 0.375rem; } #write > h4.md-focus::before { left: -1.5625rem; top: 0.285714rem; } #write > h5.md-focus::before { left: -1.5625rem; top: 0.285714rem; } #write > h6.md-focus::before { left: -1.5625rem; top: 0.285714rem; } .md-image > .md-meta { border-radius: 3px; padding: 2px 0px 0px 4px; font-size: 0.9em; color: inherit; } .md-tag { color: rgb(167, 167, 167); opacity: 1; } .md-toc { margin-top: 20px; padding-bottom: 20px; } .sidebar-tabs { border-bottom: none; } #typora-quick-open { border: 1px solid rgb(221, 221, 221); background-color: rgb(248, 248, 248); } #typora-quick-open-item { background-color: rgb(250, 250, 250); border-color: rgb(254, 254, 254) rgb(229, 229, 229) rgb(229, 229, 229) rgb(238, 238, 238); border-style: solid; border-width: 1px; } .on-focus-mode blockquote { border-left-color: rgba(85, 85, 85, 0.12); } header, .context-menu, .megamenu-content, footer { font-family: "Segoe UI", Arial, sans-serif; } .file-node-content:hover .file-node-icon, .file-node-content:hover .file-node-open-state { visibility: visible; } .mac-seamless-mode #typora-sidebar { background-color: var(--side-bar-bg-color); } .md-lang { color: rgb(180, 101, 77); } .html-for-mac .context-menu { --item-hover-bg-color: #E6F0FE; } #md-notification .btn { border: 0px; } .dropdown-menu .divider { border-color: rgb(229, 229, 229); } .typora-export p, .typora-export .footnote-line {white-space: normal;} 摩尔进化录 ——自我进化，自我提升Author：李勇 E-mail：666233@qq.com Time：2018.12.21前言以下内容均只基于未来3-5年的技术考量撰写在畅想中规划，在规划中潜行，本着一个伟大的理想，希望通过不断提升团队能力实现「摩尔一百，别墅靠海」，所以做出一些畅想和规划。技术是日新月异的，我们不盲目追求新技术，不制造标准，只要跟随主流，优质地完成业务即可。技术只是利刃，不一定要打造出屠龙刀，因为并不一定有龙可屠。摩尔技能摩尔作为一个公链，也作为区块链行业的一个解决方案，同时也承载着赋能开发者的能力，因此希望我们公司能提供一些基础技能：应用层作为一个平台，提供平台；提供类似微信、微博和QQ那样的授权体系；支付能力；提现能力；应用于各种场景的、高效的、安全易用的SDK或者Api；完整的文档体系；相应的管理应用，包括Web、Android或者iOS；孵化第三方生态应用的能力；对于去中心化和中心化有一个合理的、深刻的理解，并有相关解决方案；运营、开发、运维多方结合的自动化能力；对应用、业务和整个行业的监控能力；自我进化能力（需要管理配合）；未完待续……公链层具备编程能力的智能合约；代币发行能力；健全的客户端；配合应用层完成各种应用场景的SDK或者Api；未完待续……技术部分公司当前的技术部门按职能分类如下图所示：其中应用层部分人数占了大头，同时也是管理的大头，现阶段各个技术栈都没有一套系统的、自上而下的核心技术和常用“轮子”。我根据自己畅想摩尔的未来和与之匹配的相关技术需求，以及需要完成的任务来描摹摩尔的进化。后端 Java后端是业务的核心，决定业务的有无，目前面临的问题是没有一套高可用架构和基础功能，致使重复开发问题严重，同时重复开发带来的另一部分问题是代码不易维护，临时业务促成临时解决方案。这都不是标准的开发方式，开发者心理负担也沉重，非可持续性发展状态。鉴于此，需有相关技术支撑，建议整体采用微服务形式搭建，所有功能或者服务独立运行，以Spring Cloud作为微服务技术实现，采用Spring Boot替换掉之前的SSM那一套，同时按功能分层整理出公共服务和非公共服务，按业务架构整理出不同的子系统，这样就具备了基础功能与基础业务能力，在开发中省去很多重复的开发，也为开发者省去心里负担。现总结的基础功能或子系统如下：用户系统用户系统作为我们应用层的核心资产，也是运营的核心，同时我设想的用户系统是类似QQ那样，提供体系强大连接能力，为我们作为一个平台赋能，用户系统应当具备如下功能：注册 重要指数：★★★★★不局限于某一种注册形式，应当包括邮箱、手机号码、用户名（实际上邮箱/手机号码也是特殊的用户名）等形式，同时兼顾国内国际的用户注册。登录 重要指数：★★★★★提供邮箱、手机号、用户名登录，同时提供第三方登录形式，类似微信登录，支付宝登录，QQ登录等，如下图所示：用户管理 重要指数：★★★★★包括用户的基础信息搜集、设备管理、用户信息的修改、封禁等，这些功能也可以通过安全的Api在相应的后台管理系统中进行操作等。积分系统该系统配合平时的业务进行，由于积分与业务关系紧密，之前想做成统一于用户系统的想法不合理，应该做出一个模板来供平时有此种业务的时候参考。支付系统考虑到区块链的一些去中心化特性，无法在某些特定业务施展，需要在应用层提供一套中心化的服务配合，这就需要一个中心化的支付系统，这部分我们已经开发完成，而且做得很好，相关SDK也开发完毕，但是还有数据安全部分未完善。App支付从App原生调用摩尔钱包支付，这部分功能已经完成。H5支付从浏览器调用摩尔钱包支付，这部分功能已经完成。摩尔钱包内支付这部分功能暂无应用场景，因此未设计开发。商户提现这部分暂时只有商户提现到自己的指定地址，然后我们人工审核，人工打款。开放平台这部分包括注册商户、注册应用、提现、查询文档，交易记录等，由于人员问题，尚未设计开发。打币系统对于提现功能这样的业务，我们暂时还未开放这种能力，但是不论是我们自己还是第三方开发者都有需求，这个已经在对接支付系统的时候，有不少开发者提出来了。这部分还需要继续研发。数据安全我们公司所有数据都是单纯的放到云服务器上的数据库里，并没有做相关备份和容灾措施，对于中心化的程序，一旦发生数据丢失是很危险的，这部分也一直因为没有运维而停滞。测试环境所有业务都应该有相应的测试环境匹配，开发、测试、运营都应该是先从测试环境开始，最后验收无误才切换到正式环境的。强大的后台管理系统对于以上业务，不论是公共服务还是业务服务都应该有相应的管理后台进行管理，这样就不需要开发人员参与，只要管理得当，权限控制合理，运营人员直接就可以完成处理。大数据我司大数据这块只局限在爬虫抓取，有业务需求，就抓取相关业务数据，还未深度挖掘和培养。其实可以自我进化，做出很多有意思的工具，发挥浇水语言的威力。我能想到的有以下几点：自动化监控行业动向「镰刀」的口号，抄币就是抄信息，不仅是抄币，我们做出决策也是需要信息支撑的，我记得以前有位网友是做股票交易的，专门找我咨询爬虫技术，然后他通过爬虫抓取指定信息和百度的相关搜索结果，为自己的操作提供有力支撑。其实我们也可以通过爬虫来监控整个行业的动向，比如监控 BTC、ETH 大额地址变化，比如跟踪大V等，让前端配合，以可视化的方式展示出来，也可以是发布到微信和镰刀里。量化交易这部分是欧阳和时空研究兴趣正浓。iOSiOS现在面临的问题是没有一套完整的规范，这部分已经通过文档整理出来了，接下来就是敦促实施了。为什么要搞这么个东西？本质还是为了提高效率。如何提高效率？减少重复劳作就能提高效率。如何减少重复劳作？代码复用就能减少重复劳作。如何复用？分两种情况：1.足够抽象，直接能用；2.复制粘贴少量修改。需要我们平时工作中大量的经验总结和代码整体，最后形成一种快速开发能力，自成一体，最后的结果是得出一套 [快速开发框架] ，这样你就可以在这个开发领域里有口饭吃的同时，还能腾出更多的时间去钻研。总体所需要整理的内容较多，分为可见部分的UI和不可见部分的功能整理，还有其他一些有助于提高效率的规约，如：代码风格、命名规范、模板代码、架构模式等。如下图所示：UI部分作为能iOS开发，其实就是将功能可视化，这就是设计要各种UI组件，如果平时积累的各种优秀的可复用的轮子较多，那在开发过程中就信手拈来了，我个人认为一个功能能不能又快又好的完成，取决于你是否有做过类似的功能，也就是否累积过这些轮子。所以建议平时累积一些成套的UI组件库。推荐以下UI库：谷歌的材料设计腾讯QMUIYYKit非UI部分这部分囊括的东西较多，设计到一个完整的App所需要的各种能力，比如网络、缓存处理、工具类、数据库操作、图片加载、二维码处理等等，这里也需要自己平时点滴累积，这对一个依托于某一平台吃饭的程序员来说是必不可少的。这里推荐一些好的轮子：Github iOS 主题架构模式iOS开发其实和其他平台的开发都差不多，默认都是MVC模式，架构模式本质上没有好坏，只有熟不熟和合不合适。选择一种架构模式，比如MVVM、MVP，然后通过多方参考+总结的形式整理出一套适合自己的架构方式，并且明确各层职责和代码实现，最后为后面讲的模板代码做准备。在这里推荐MVVM模式，以下推荐一些MVVM的快速开发框架：MVVMFramework，这其中还有很多有益的文章，可以参考一下。组件化把一个个控件或者独立的功能抽取出来，形成一个能独立被依赖使用的组件，这一部分的累积需要较长时间，但是辛苦是值得的，当然如果有第三方可用的便更好，但不是所有的第三方组件都是恰和你意。模块化把项目中的功能独立成一个模块，可用单独运行调试，在打包时合并。这部分也是有利于复用的，在企业里，业务不可能是一沉不变，有的甚至是不断尝试中前行，也就是不断试错，这个时候某一个无法抽取成一个通用组件的那部分代码就可以做成一个模块，引用到其他项目中，或者新业务中。规范没有规矩就不成方圆，强有力的规范为代码质量和开发效率保驾护航。对于我们软件开发而言能遇到的规范无非代码风格，命名规范等。代码风格代码风格的统一有助于编码和模板代码的定制，也有助于自己和他人后期的维护，这个是苹果官方的IDE有现成的格式化工具，采用默认的即可。这里推荐一篇文章可以看一下：关于iOS代码风格管理的两三事。命名风格这部分苹果官方有规定，严格按照官方的规定即可：Coding Guidelines。模板代码模块代码是为了提高效率，当然还有就是统一风格和降低维护成本，统一到什么程度最好呢？不看代码作者，你很难区分代码是谁写的，详情见 Android模板代码规范。总结以上是我个人对于一个1-3年工作经验的程序员的一些要求，相信在通过这些技能养家糊口的同时又不断的吸收内化，最后进化到无招胜有招的境界。AndroidAndroid端由于年初考虑到这些问题，已经提前累积，逐步解决大半，现在只有一小部分问题：某些接口设计没顾忌到路由机制；无法自动集成、打包、发布等自动化操作；需引入热更新机制；考虑未来新的开发平台Web前端如今的Web前端已经不是以前的jQuery时代的前端了。通过Node，前端已经可以成为全栈工程师了，现在在一些公司里，某些特殊业务，比如低频使用、简单业务、试错业务等可以由一个人前端人员去搞定了，既做后台，又做前端，因此对前端人员的运用，已经不能只局限于简单的写界面、对接口了。 现在SPA页面的性能很好，App上的某些特殊功能其实完全可以前端完成，再加上各个平台的小程序，也扩展了前端开发人员的范围。这部分由于人员到岗问题，一直没有技术沉淀，现在想通过强制一些规范的形式，来解决一部分问题。规范小到命名规范，大到技术栈的规范，这一系列的规范或者说是“癖好”都是减少沟通、降低维护成本的好手段。WEB前端规范github pdf代码风格CodeGuideVue/React统一使用一套技术栈，选择Vue/React，如果选择了某一套，就意味着要遵循这一套体系的所有技术规范了。UI组件既然选择的是Vue或者React，那就选择相关大厂的一些UI组件实现：ElementAnt Design不要求一定要使用它们的组件，只是做参考而已。Web版钱包未来考虑会加入代币发行等功能，而Angular这一套在中国不是十分流行，实在维护不了，大不了抽出核心JS代码用Vue或者React实现一套。各类后台管理系统这部分工作是一直想做却没有完成的，目前只有镰刀的后台稍微完整一些，但是编辑能力仍然有限。还需完成以下几种管理后台和功能：镰刀后台管理系统现在镰刀后台管理系统中的添加新币种（添加tag），过程及其复杂，运营人员不是技术人员，他根本就不知道如何完成某些步骤。摩尔钱包管理后台这部分是对摩尔钱包的管理，包括用户黑白名单、审核、奖励打款、日常运营等用户系统这部分是结合具体业务应用来使用的，可以不用专门的管理后台，但是要出现在其他具体业务中的管理后天里。开放平台这部分是对摩尔开放平台的管理，其中有开发者入驻、App申请、SDK文档、订单记录、交易记录、提现、相关信息管理等。各类运营小工具这部分是应对运营人员的一些日常功能的，这部分可以嵌入到具体的业务后台管理系统中，不必独立出来。公众号排版工具之前我们公司公众号排版是人工手动排版，样式单一且排版麻烦，希望培训运营人员使用Markdown来写文章，类似我现在写的摩尔进化录一样，最后生成html，然后使用该工具生成一定样式的html后发布到微信公众号编辑器里。周报生成工具类似公信宝的周报，是一张模板图片，我觉得这种就很好，直接一张图片发到微博、公众号等，如下图所示：未完待续……UI为了使UI设计师配合开发者提高效率，希望有点工作需要去做。视觉设计规范对于UI这块，希望我们的UI设计师能给出一套属于我们公司的视觉设计规范，如下图所示：为什么要搞这个呢？其实还是提高效率，因为你不管哪一个应用（不论Web还是App），都会有一个基色和辅色，然后就是文字颜色、背景色等，总结出来就是一些黑白灰的过度，这部分不管在哪个应用中都会有，且出于同一个设计师之手，也基本都是一致的。根据以往的经验，我一般都是将提现在应用搭建的时候，定义好这些颜色的引用，在使用时，基本不用思考太多，直接使用即可，这样就大大的提升了开发效率，开发者也有迹可循，同时设计人员在设计其他项目时，也都是照搬即可。配合运营的模板由于运营是一个活跃度较高的岗位，需要根据行情、节假日等相关因素提供不同的图、文、音视频等多媒体素材，我们不需要想大公司那样尽善尽美，只需要有一些百搭的背景图，然后前端人员就可以利用这背景图，按照设计的效果出一套工具，运营人员就能根据这套工具生成应对绝大多数场景的运营图片来。运维我们暂时还没有运维人员，不过暂时也不需要，可以内部消化掉的岗位就尽量节省一下开支，但是需要提高运维的能力和效率，体现在开发--&gt;测试--&gt;部署--&gt;上线--&gt;运营监控这一整套流程的把控上，希望有相应的工具完成这些任务，现在流行的DevOps就是来完成这一套流程的，我们也可以探索一下。运营运营的任务其实具有很强的规律性，有规律的事都可以通过程序自动化，或者半自动化。关键是需要有相关工具，我们得提供工具。同时希望运营具有培养生态的和适当的引导社区的能力。比如李永飞那个网页游戏，由于域名被微信封禁，导致用户找不到入口，其实这种直接发链接到微信里是非常错误的，他们没有经验，我们应该指导一下，正确的做法应该是发图片，然后图片里有一个不会被查封的地址二维码，该地址通过302返回相应的正确的游戏入口地址，同时检测到是微信打开的时候，用蒙版提示引导到浏览器里打开，这样就一切问题都解决了。同时还有相关的日常运营、节日运营、活动运营这部分前面已经提到过了，不再赘述。自我检讨人的行为有思想来指导，对于一个陌生的领域，我们只能根据以往的经验和已有的标准摸索，难免会有谬误，例如接口设计不合理，如initialize接口，比如item的多媒体接口，希望后期找时间修改一下。总结学会利用工具，是人与动物的不同，会创造工具则是优秀的人与普通差别，工欲善其事必先利其器，能自动化的，决不半自动化，能半自动化的，决不人工手动、机械式的重复体力劳作，这才是效率之道。路漫漫其修远兮，吾将上下而求索。我很希望看到摩尔壮大的一天，虽然路还很长，但是只要肯坚持，终将到达终点。建议如果大家认同我的观点，建议大家每周抽半天时间，坐在一起讨论完成以上任务，或跟进进展。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%AC%E5%85%B1%E9%83%A8%E5%88%86%2F%E5%AF%BC%E8%88%AA%E5%B7%A5%E5%85%B7%2F%E5%AF%BC%E8%88%AA%E5%B7%A5%E5%85%B7%2F</url>
    <content type="text"><![CDATA[运营导航由于业务扩展，涉及的内容越来越多，运营的业务对应的工具网址也越来越多，给运营人员徒增管理负担，为了给运营人员提供统一入口，开发该网址导航器，并给出一个简单易记的域名网址。 需求大致样式如下图所示： 样式随便选一种即可，大如图中描述，把公司的一些工具或者管理后台的地址记录显示出来。 要求如下： 有自定义增加功能，增加的网址存本地即可 由于管理的网址较多，因此需要分类显示，暂时分类为：摩尔、镰刀、工具、一声笑 需适配移动端 功能提供默认和自定义两种方式管理网址，默认部分是公司一些自有的工具或管理后台页面，自定义的是用户自己添加并保存在本地的网址。默认需要的管理网址如下表所示： 分类 名称 地址 描述 摩尔 摩尔钱包审核打币（国内版） http://192.168.1.18:1234/audit-mining.html 摩尔 摩尔钱包审核打币（国际版） http://192.168.1.18:3456/audit-mining.html 摩尔 量化交易 http://192.168.1.168:9000 摩尔 摩尔钱包Web版 https://vault.mol.one 摩尔 摩尔官网 https://mol.one 摩尔 摩尔白皮书 https://mol.one/static/assets/Whitepaper.pdf 摩尔 摩尔钱包（各种版本）下载地址 https://mol.one/wallet.html 摩尔 摩尔主网浏览器 https://explorer.mol.one 摩尔 Fcoin的摩尔交易对 https://exchange.fcoin.com/ex/spot/bitangel/mol/usdt 摩尔 BitZ的摩尔交易对 https://www.bitz.com/exchange/mol_eth 摩尔 玩客家摩尔交易对 http://www.wkj.link/trade/index/market/mol_cny 摩尔 开放平台 https://open.mol.one 镰刀 镰刀官网 https://www.liandao.ai 镰刀 镰刀管理后台 http://backstage.imfmf.com 工具 周报生成器 工具 图片压缩 https://tinypng.com 一声笑 一声笑官网 https://asmile.net]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%AC%E5%85%B1%E9%83%A8%E5%88%86%2F%E5%91%A8%E6%8A%A5%E7%94%9F%E6%88%90%E5%99%A8%2F%E5%91%A8%E6%8A%A5%E7%94%9F%E6%88%90%E5%99%A8%2F</url>
    <content type="text"><![CDATA[周报生成器每周发给投资人看的周报是件枯燥重复的事情，所以希望通过程序解决，生成一张模板样式的周报出来。 需求原型：https://free.modao.cc/app/sCTrVnn4suvDt6E9LKz3ye9opcGDpth 大致原型如下图所示： 要求如下： 扩展性高 不需要适配移动端 实时预览 下载 功能背景默认提供几个背景，同时也支持本地上传替换。 元素整体元素层级关系如下图所示： 头部标题区，即一张图的header部分，所有的内容都是默认就有的，也可以修改。其中第几周是程序根据当前时间推断的，时间这些字段都是程序根据当前时间来的。 腹部内容区，即一张图的content中间部分其实就是多个分类块，每一个分类块中又包含一个分类名称和多个分类项。 尾部最后是底部的footer区，是一个固定的二维码。 历史记录要求对历史编辑都缓存在本地，有一个列表选择，选择其中一个历史周报后，就覆盖当前的元素。 导出/下载通过下载，导出来的是一完整的周报图片。 上传一键上传到各大平台，如：微博、微信公众号、Twitter等。当然这部分功能有一定难度，能否实现需调研，前期可不用管。]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E5%85%AC%E5%85%B1%E9%83%A8%E5%88%86%2FWebsoket%E5%8D%8F%E8%AE%AE%2FWebsoket%E5%8D%8F%E8%AE%AE%2F</url>
    <content type="text"><![CDATA[钱包Websoket协议探索 Version：beta Author：李勇 E-mail:666233@qq.com Time:2018.08.01 前言由于单纯的Http协议无法满足钱包某些主动推送业务（如主动推送更新、广告、提示等），因此需借助soket来弥补。在传统长连接业务可选普通Soket和WebSoket，考虑到浏览器也能支持WebSoket，所以优先选择WebSoket。 要求目标 接口“粒度”争取设计得足够小，争取在业务发生变化后，后台接口不需要增减，只需要前端组合接口仍然能满足新的业务需求。 任何一个接口都可以获取到数据，哪怕没传参数。 命名规范一名二姓三风水，四积阴德五读书，名不正则言不顺，言不顺则事难成。软件开发其实就是门命名的艺术，所以首先定义一些规范，提出一些硬性要求，大家在命名的时候尽量多花点心思，多参考优秀的命名风格。 强烈推荐参考：参考阿里巴巴Java开发手册，Android开发规范，iOS开发手册。 一个单词尽量选择5–7个字母的，这样才最优美。 首字母缩写的单词尽量每个字母都用大写，例如ID。用个小写，人家还以为是一个单词。当然uri、url、urn这种除外，因为大家都知道这个是什么。 规范并统一公司的基础包名与项目的关系。 前后端的某些名称概念要统一用某一个单词，比如支付的统一订单，支付宝用的是order，微信用的是unifiedorder，那我们统一对订单这个概念用order这个词。再比如主机：后台用gateway，现在我们统一用host。这单词不统一很容易分裂。 uri规范uri 表示资源，资源一般对应服务器端领域模型中的实体类，要求如下： 不用大写。 尽量不用横杠分隔符，万一要用，请使用中杠“-”不用下杠“_”。 参数列表要encode。 uri中的名词表示资源集合，使用复数形式。 路径仅表示资源的路径（位置），以及一些特殊的actions操作。 以复数（名词）进行命名资源，不管返回单个或者多个资源。 资源的路径从父到子依次如：/{resource}/{resource_id}/{sub_resource}/{sub_resource_id}/{sub_resource_property}。 使用?来进行资源的过滤、搜索以及分页等。 使用版本号，且版本号在资源路径之前。 优先使用内容协商来区分表述格式，而不是使用后缀来区分表述格式。 url最好越简短越好，结果过滤，排序，搜索相关的功能都应该通过参数实现。 url失效则返回404 not found 或 410 gone；对迁移的API，返回 301 重定向。 JSON规范暂时只考虑json的数据格式，要求如下： 不要使用缩写。 统一用驼峰命名法。 不要使用“_”或者“-”。 用名词复数表示集合类型。 为了方便以后的扩展兼容，如果返回的是数组，强烈建议用一个包含如items属性的对象进行包裹。如：12345678910111213141516171819202122232425* 建议对每个字段设置默认值（数组型可设置为[],字符串型可设置为””，数值可设置为0，对象可设置为&#123;&#125;）,这一条是为了方便前端/客户端进行判断字段存不存在操作。* 建议资源使用UUID最为唯一标识。同时建议命名为id或者uid。* 采用UTF-8编码。* 数据应该拿来就能用，不应该还要进行转换操作。&gt;**草稿：JSON返回的格式是分门别类按对象来划分，还是铺大饼的形式铺开，两者利弊各异，比如url，可能一个接口中返回多个url，如果分json对象装的话，则key都可以叫url，否则的话key就得命名成xxxUrl。这个有待商议**## WebSoket部分### 使用场景所有需要**双向通讯（确切的说是需要后台主动推送给前端的情景）**的部分都尽量使用WebSoket。### 应用列举理论上来说，对于数据的任何细微变化都应该有一个消息通过WebSoket传送出来，让客户端可以任意支配，此时的WebSoket就好比一个数据库的观察者，这样才能充分利用长连接，感知数据库的变化。当然实际中并不需要这么复杂，一般用于场景如：消息提醒、公司活动等。### 格式- 统一使用json。- 无论是客户端发送给服务端还是服务端发送给客户端，都使用统一的json格式完成通讯。- 兼容Http协议，若某个WebSoket传输的内容需要改成Http协议完成的话，可迅速兼容。- 安全加密（后面会单独介绍）。### URL结构 {版本号}/{业务名}12345678- &#123;版本号&#125; – 由于我们的业务未稳定，为了应对可能的协议变更，所以需要这个版本号来控制。- &#123;业务名&#125; – 这个与同事们商议后定义一个方便后台通过反射调用方法的名称。### 协议格式与同事商议后得出一些结论，暂定格式如下：#### 客户端--&gt;服务端 { “message”: “大王叫我来查询了”, “uid”: “A3BA3BA3BA3BC”, “uri”: “v1/getXXX”, “data”: { “uid”: “6565656565665” }}12345678910|key | 类型 | 描述 || - | -| -||message | String | 返回给接口调用者的描述，有可能用于显示到界面上，需要进行国际化处理 ||uid | String | 唯一标识该次请求或者响应，可以是时间戳，也可以是hash等，该字段如果是如果是前端传给后台的话，后台必须原样返回 ||uri | String | 当分类使用，标记该次通讯的意义，类似Http协议中的URL，MQTT中的topic等，该字段如果是如果是前端传给后台的话，后台必须原样返回 ||data | object | 当前接口的具体数据由该json对象承载 ||uid | String | **对于每一个资源对象，在返回的时候，都应该返回操作这个资源对象的唯一码** |#### 服务端--&gt;客户端 { “message”: “居然被你查询成功了”, “code”: 200, “uid”: “A3BA3BA3BA3BC”, “uri”: “v1/getXXX”, “data”: { “uid”: “6565656565665” }}12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455|key | 类型 | 描述 || - | -| -||message | String | 返回给接口调用者的描述，有可能用于显示到界面上，需要进行国际化处理 ||code | int | 这个与请求头中的状态码一致，是为了满足部分开发者的习惯 ||uid | String | 唯一标识该次请求或者响应，可以是时间戳，也可以是hash等，该字段如果是如果是前端传给后台的话，后台必须原样返回 ||uri | String | 当分类使用，标记该次通讯的意义，类似Http协议中的URL，MQTT中的topic等，该字段如果是如果是前端传给后台的话，后台必须原样返回 ||data | object | 当前接口的具体数据由该json对象承载 ||uid | String | **对于每一个资源对象，在返回的时候，都应该返回操作这个资源对象的唯一码** |### 状态码作为 API 的设计者，正确的将 API 执行结果和失败原因用清晰简洁的方式传达给客户程序是十分关键的一步。 我们可以模仿HTTP协议,在响应内容中描述是否成功，如果出错是因为什么，然而，这就意味着用户需要进行内容解析，才知道执行结果和错误原因。因此，响应码可以保证客户端在第一时间用最高效的方式获知 API 运行结果，并采取相应动作。下表列出了比较常用的响应代码。常用的状态码及使用场景：|响应码|代码含义|| - | -||200|已创建，请求成功且服务器已创建了新的资源。||201|是否只显示处于警告状态的应用实例。||301|重定向 , 请求的网页已被永久移动到新位置。服务器返回此响应时，会自动将请求者转到新位置。||302|重定向 , 请求的网页临时移动到新位置，但求者应继续使用原有位置来进行以后的请求。302 会自动将请求者转到不同的临时位置。||304|未修改，自从上次请求后，请求的网页未被修改过。服务器返回此响应时，不会返回网页内容。||400|错误请求 , 服务器不理解请求的语法。||401|未授权 , 请求要求进行身份验证。||403|已禁止 , 服务器拒绝请求。||404|未找到 , 服务器找不到请求的网页。||405|方法禁用 , 禁用请求中所指定的方法。||406|不接受 , 无法使用请求的内容特性来响应请求的网页。||408|请求超时 , 服务器等候请求时超时。||410|已删除 , 如果请求的资源已被永久删除，那么，服务器会返回此响应。||412|未满足前提条件 , 服务器未满足请求者在请求中设置的其中一个前提条件。||415|不支持的媒体类型 , 请求的格式不受请求页面的支持。||500|内部服务器错误。|## 具体业务### 预览![预览](https://i.imgur.com/ZoNmzun.png)| 业务 | uri | 描述 || - | - | - ||连接 | v1/connect | 由服务端主动推送过来，当连接成功后，后台会返回一些初始化数据，如token、加密的秘钥等 ||断开连接 | v1/disconnect | 由客户端发送给服务端，当客户端退出时发送一个信号给服务端来关闭资源，做收尾处理 ||心跳 | v1/heartbeat | 心跳包，可以是服务端发送给客户端，客户端返回，也可以是客户端发给服务端，服务端统计 ||收账 | v1/receive | 由服务端主动推送过来，前端根据data里的内容主动收账 ||自定义推送 | v1/notify | 由服务端主动推送过来，前端根据data里的内容创建通知显示 ||广告活动 | v1/advertise | 由服务端主动推送过来，前端根据data里的内容主动弹框居中显示，此处预先设定好四种模板弹框：web图片弹框、web可交互弹框，原生图片弹框，原生可交互弹框 ||简单即时通讯 | v1/im | 暂时不考虑（此处说的简单即时通讯是指用于一些简单双向通讯场景，比如社交中的回复，他人回复后客户端自动就能加载，比如反馈模块中用户反馈bug，客户迅速回复） ||预留扩展 | v1/extra | 暂时不考虑 ||登出/注销 | v1/logout | 由服务端主动推送过来，前端弹出登录界面 |### 连接在连接成功后，后台会返回一些初始化数据，这些数据包括token、session、秘钥等，客户端可以保存起来以备后用。##### 响应 { “message”: “恭喜你，连接成功”, “code”: 200, “uid”: “A3BA3BA3BA3BC”, “uri”: “v1/connect”, “data”: { “token”: “23523t23t23t23t23t” }}123456789|key | 类型 | 描述 || - | -| -||token | String | 连接成功后，服务端会返回一个token，如果以后还有其他初始化数据的话，也会通过这个uri返回 |### 断开连接在退出App，或者关闭浏览器后，就由客户端发送这个uri给服务端，服务端就可以做一些收尾工作。##### 响应 { “message”: “请注意了，我要断开连接了”, “uri”: “v1/disconnect”}12345### 心跳每隔1分钟，客户端主动发送一次心跳给服务端，服务端统计，如果间隔2次未收到心跳，即认为是客户端断开，即可断开连接，考虑到心跳的流量成本，因此心跳的数据尽量少。##### 响应 { “uri”: “v1/heartbeat”}123456### 收账由服务端主动推送过来，服务端已经处理分析出链上的每一个块的变化与哪一个账户相关，然后推送到账户所在的手机上，手机端只要直接做刷新功能即可。##### 响应服务端--&gt;客户端 { “code”: 200, “data”: { “account”: “mol_1rf1umue1ugxz3akhz41dukp44deyybh3boh4byur1n3oot5j16511pgy7ue”, “amount”: “119340000000000000000000000000”, “block”: “{ “type”: “state”, “account”: “mol_1rf1umue1ugxz3akhz41dukp44deyybh3boh4byur1n3oot5j16511pgy7ue”, “previous”: “B34B6EA7FE4E832919FD1C3F63E24ABDD5B65C0DE99732497651ED2328A11601”, “representative”: “mol_3ytentj15q44he4c778317r868wdttwufp96fsccjux4tuqc59ojgrwn6d4w”, “balance”: “120329200000000000000000000000”, “link”: “67568C72C765DAF47A1427B976E5914C7B17FE2F8CC9779490FBDEFEC9E5DE01”, “link_as_account”: “mol_1stpjjsegsgtyjx3abxsguks4m5u4zz4z58bgycb3yyyzu6ydqi34kgefsif”, “signature”: “6547BD8CC1A16A484E083D4037EE77E7E463FDE358CF3FF2000CA2A40393271648D926B5CA143EA7CFE51178549C175575CFA9DC2864B3215753AFB4D2129F0F”, “work”: “a7556bb5e343ec87”}“, “hash”: “390C43CFB3E4B0F1E218CF023905D84985C6569348D873697E5C8D8610872C87”, “is_send”: “false” }, “message”: “XX收到多少MOL”, “uid”: “A3BA3BA3BA3BC”, “uri”: “v1/receive”}123456789101112131415161718192021222324252627282930313233343536373839以上数据其实是将块信息放到data对象中，与手机中的type为state，subType为receive的块信息一样。|key | 类型 | 描述 || - | -| -||account | String | 接收block的账户地址 ||amount | String | 接收的总额 ||block | String | block信息，其实又是一个json字符串 ||hash | String | 该block的hash ||is_send | String | 该block为非发送类型 |### 自定义推送#### 通知介绍通知作为后台沟通手机端的一个桥梁，可以理解为后台撩前端的手段。我们在自定义通知的时候主要针对三大大类属性进行设置：- 样式（style）：对应的通知的样式，一般包括图标，标题，内容，时间，甚至是自定义的布局。- 动作（action）：用户滑动下拉框的动作，用户点击通知的后续动作，比如跳转界面，比如播放语音等。一般的推送平台往往都提供设置这两样属性的Api，可以是前端设置，也可以是后端设置。- 声音+震动：这些都是可以随意组合设置的。#### 通知分类按照是否自定义分为两大类：- 默认通知（最常用）- 自定义通知（针对特殊场景，如视频电话通知，跳转特定页面通知）。##### 默认通知![默认通知](https://i.imgur.com/QklBKdG.png)这一类通知只需要提醒用户我们有发一个消息给他，有可能是广告，有可能是升级通知等。样式：一般都只要基本的默认样式，即图标，标题，内容，时间。其中时间是到达前端的时间，后台不需要设置。动作：只需要打开App即可。pushRequest.setAndroidOpenType(&quot;APPLICATION&quot;);如果填URL是为了给我们解析用的，就是跳特定页面的时候，前端人员可以根据这个URL来解析出路由路径。声音+震动：默认就可以。##### 特定通知这类通知是某些样式特殊，如图片新闻通知，某些action特殊，比如点击跳转到特定页面，再比如微信的视频通话通知提醒，会不停的震动响铃一段时间等。此类通知我们暂无相关业务，可暂时不管。#### 响应 { “message”: “居然被你查询成功了”, “code”: 200, “uid”: “A3BA3BA3BA3BC”, “uri”: “v1/notify”, “data”: { “title”: “摩尔”, “content”: “摩尔”, “when”: “”, “smallIcon”: “”, “largeIcon”: “”, “priority”: “”, “lights”: “”, “vibrate”: “”, “sound”: “”, “channel”: “” }}12345678910111213141516171819202122232425|key | 类型 | 描述 || - | -| -||title | String | 通知标题 ||content | String | 通知的长文内容 ||when | String | 通知时间戳，（可以不用管，因为Android默认都是用系统时间） ||smallIcon | String | 通知的右下角小图标（不用管，传个空就行了） ||largeIcon | String | 通知的左边大图标（不用管，传个空就行了） ||priority | String | 通知展示的优先级（不用管，传个空就行了,我这边统一用最大的） ||lights | String | 控制呼吸灯颜色和闪烁行为（不用管，传个空就行了） ||vibrate | String | 控制震动行为（不用管，传个空就行了） ||sound | String | 控制声音（不用管，传个空就行了） ||channel | String | 针对Android 8.0的 |前端就可以利用这些数据生成一个自定义的本地通知显示在手机上。这样的话当用户的长连接存在的时候就可以不依赖第三方平台的推送厂商了。对于推送这一块，未来会有一个专门的消息中心模块来显示记录。### 广告活动#### 介绍这部分是用于某些时刻主动给用户推送弹窗广告或者活动的，客户端会预先设计好四种弹窗模板：- Web图片弹窗，即一个弹窗里装在一个WebView，直接显示即可，这类弹窗只是显示，没有交互（不会有点击跳转）。- Web交互弹窗，即一个弹窗里装在一个WebView，直接显示网页内容，并且点击后可以跳转其他网页，当然这个跳转仍然在该弹窗内。- native图片弹窗，即一个弹窗里装载一个显示图片的控件，直接显示即可，无其他交互。- native交互弹窗，即一个特定的设计的弹窗，类似现在的挖矿每天第一次挖到第一笔MOL币时的弹窗，这个弹窗就是一个特殊的native交互式的弹窗，点击就跳转到了海报页面。#### 响应 { “message”: “弹广告了”, “code”: 200, “uid”: “A3BA3BA3BA3BC”, “uri”: “v1/advertise”, “data”: { “type”: “web”, “url”: “https://www.baidu.com/&quot;, …… }}123456789101112131415|key | 类型 | 描述 || - | - | - ||type | String | web表示web弹窗，native表示native弹窗 ||url | String | type为web是，url表示连接，为native时，如果是native图片弹框就表示图片的url |强调：由于考虑到后期的扩展，比如熊老师做了一个调查的H5，推送到用户，参加完调查的用户在提交后可以得到摩尔奖励，这个就必须依赖到token了，因此我们在打开这个url对应的WebView/UIWebView的时候，默认将token传过去，就通过拼在url后面传过去就可以了，如下：&gt; 接收到的是： https://www.baidu.com/ ，拼参后：https://www.baidu.com/?token=1r13rqwr132r1r### 登出/注销考虑到账户的安全性和开发的便利性（比如原生与H5交互时，有这个功能则可避免在Web里token失效时还要弹出登录界面）需要这个功能来提示用户。#### 响应 { “message”: “您的账号于15:31在其他设备上登录”, “code”: 200, “uid”: “A3BA3BA3BA3BC”, “uri”: “v1/logout”}` 前端统一处理1.类似QQ弹框提示已在其他地方登录，如图所示： 2.用户点击“朕知道了”，则什么也不做，用户点击“重新登录”则弹出登录界面走登录流程。 安全加密对于传输的内容进行加解密，加密时机为传输数据前，解密时机为获取数据后，同时还要考虑随时可以去掉加解密，或者部分需要加密，部分不需要加密，因此前后端要采取相应的设计模式来做到充分易用。 要求秘钥是后台分发，可以考虑一连接成功就在那里返回 验签参考 4.参考一下nano的websoket内容]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E7%94%B5%E5%95%86%E9%A1%B9%E7%9B%AE%2FDocs%2F%E7%94%B5%E5%95%86%E6%8A%80%E6%9C%AF%E8%80%83%E8%99%91%E6%9A%A8%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B%2F%E7%94%B5%E5%95%86%E6%8A%80%E6%9C%AF%E8%80%83%E5%AF%9F%E6%9A%A8%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[电商技术考察暨技术选型背景考虑到团队大多数人都没做过电商，而电商的复杂度如果较真起来，并不亚于社交或者IM等其他业务应用。因此有必要做一个科普和技术铺垫，正所谓「知己知彼，百战不殆」。 知识储备为了应对这次开发挑战，我们先要了解一下电商的具体业务，包括细节与实现。 概念有以下概念需要大家去认真学习一下： 垂直电商 B2C B2B C2C B2B2C 订单 SPU SKU 商品 商户 多级分销及奖励（我们只考虑二级分销即可） 裂变 未完待续…… 业务对于电商的业务，需要大家了解以下内容 小程序端电商的使用 App端电商的使用 WEB端电商的使用 用户下单购买 用户支付 用户退货 用户评价 商户后台管理 商户后台处理订单 商户后台处理退货 资金管理 未完待续…… 针对性研究 Tophatter这个产品，其中拍卖的玩法和实现 Wishi这个产品 90s这个产品，包括App和小程序 技术储备我们尽量不要从0开始闭门造车，应该多利用已有的资源，比如开源代码和技术博客等，参考设计，汲取经验。 外部资源 物流接口 支付宝对接 微信支付对接 未完待续…… 参考资料后端 https://github.com/macrozheng/mall https://github.com/Exrick/xmall https://github.com/linlinjava/litemall https://coding.imooc.com/class/96.html https://coding.imooc.com/class/79.html https://coding.imooc.com/class/162.html https://coding.imooc.com/class/254.html https://coding.imooc.com/class/168.html https://www.imooc.com/learn/148 https://www.imooc.com/learn/100 https://www.imooc.com/learn/1079 https://github.com/atguigu01/Shopping https://github.com/u014427391/taoshop 以上部分收费教程我已经准备好了。 Web前端 https://github.com/macrozheng/mall-admin-web https://github.com/Exrick/xmall-front https://github.com/Exrick/x-boot https://youzan.github.io/vant/#/zh-CN/sku https://github.com/youzan/vant-weapp https://github.com/EastWorld/wechat-app-mall 其他： https://www.infoq.cn/article/e-commerce-web-tech-stack]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F%E7%94%B5%E5%95%86%E9%A1%B9%E7%9B%AE%2FDocs%2F%E5%A4%87%E5%BF%98%E5%BD%95%2F%E5%A4%87%E5%BF%98%E5%BD%95%2F</url>
    <content type="text"><![CDATA[备忘录]]></content>
  </entry>
</search>
